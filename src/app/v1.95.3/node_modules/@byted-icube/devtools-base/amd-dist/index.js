/*! For license information please see index.js.LICENSE.txt */
define((()=>(()=>{"use strict";var e={276:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};function o(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function s(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var a=function(e){function t(t,n,i){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.originError=i,r.name="StarlingError",r.code=t,r.message=n,r.originError=i,Error.captureStackTrace&&Error.captureStackTrace(r,r.constructor),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),c={ERROR_CODE:101,ERROR_MESSAGE:"Request for loadText failed!"},u={ERROR_CODE:103,ERROR_MESSAGE:"Request failed, confirm your apiKey and namespace is correct"},l={ERROR_CODE:110,ERROR_MESSAGE:"Check your params, parameter apiKey, namespace and zoneHost is required!"},h={ERROR_CODE:111,ERROR_MESSAGE:"Check your params, parameter request and store is required!"},f=112,p={ERROR_CODE:120,ERROR_MESSAGE:"Version is not found, please check your param [version]!"},d={zone:"CN",locale:"zh",timeout:15e3,test:!1,mode:"normal",format:"merged",lazyUpdate:!1,fallbackLang:["zh"],tracker:function(){},cache:!0,cdn:""},g=function(){function e(e){this.options=e,this.options=e}return e.prototype.getText=function(e,t){return o(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this._request(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map((function(e){var n=e[0],i=e[1];return t.getText(n,i)})))},e.prototype._request=function(e,t){return o(this,void 0,void 0,(function(){var n,i,r,o,l,h,f,d,g,v,m,_,y,b,E,S,z,w,A,T,O,k,R,L,C,D,x,I,N,P,M;return s(this,(function(s){switch(s.label){case 0:if(n=this.options,i=n.getReleaseVersion,r=n.cdn,o=n.fallbackLang,l=n.locale,h=i(e),e&&h&&t)return[2,{}];if(f=this.getUrl(e,t),d=this.options,g=d.request,v=d.timeout,!r)return[3,7];_=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}([l],o),y=[],E=(b=c).ERROR_CODE,S=b.ERROR_MESSAGE,z=0,w=_,s.label=1;case 1:if(!(z<w.length))return[3,6];A=w[z],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,g(this.getUrl(e,t,A),{timeout:v})];case 3:if(T=s.sent(),O=T.data,k=O.status,R=O.message,200==+k)return[2,this._mapResponse(R)];throw new a(E,S);case 4:return L=s.sent(),y.push(L),y.length===_.length?[2,this._mapResponse({data:{},updated:!1})]:[3,5];case 5:return z++,[3,1];case 6:return[3,9];case 7:return[4,g(f,{timeout:v})];case 8:m=s.sent(),s.label=9;case 9:if(C=m.data,D=C.status,x=C.message,200==+D)return[2,this._mapResponse(x)];if(1001==+D)throw N=(I=p).ERROR_CODE,new a(N,I.ERROR_MESSAGE);throw M=(P=u).ERROR_CODE,new a(M,P.ERROR_MESSAGE)}}))}))},e.prototype.getUrl=function(e,t,n){var i=this.options,r=i.apiKey,o=i.locale,s=i.fallbackLang,a=i.zoneHost,c=i.mode,u=i.getReleaseVersion,l=i.cdn,h=[o].concat(s),f=a+"/check_and_get_text/"+r+"/"+c+"/"+e+"?lang="+h,p=u(e);return p&&(f=a+"/text_by_release_version/"+r+"/"+c+"/"+e+"/"+p+"?lang="+h),"string"==typeof t&&(f+="&version="+t),l&&(f=l+"/"+r+"/"+c+"/"+e+"/"+(n||o)+".json"),f},e.prototype._mapResponse=function(e){return e?Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{}):{}},e}(),v=function(){function e(e){this.options=e,this.options=e}return e.prototype._setCache=function(e,t,n){if(!this.options.cdn)try{return this.options.store.set(e,t)}catch(e){var i=f;return this.options.tracker("cache_error",{code:i,message:e.message,stack:e.stack}),void(n&&n())}},e.prototype._getCache=function(e){var t=this.options,n=t.store,i=t.cache,r=t.cdn;try{if(r)return;return i&&n.get(e)}catch(e){var o=f;return void this.options.tracker("cache_error",{code:o,message:e.message,stack:e.stack})}},e.prototype.getVersion=function(e){var t=this.options,n="version."+t.apiKey+"."+e+"."+t.locale,i=(0,t.getReleaseVersion)(e);i&&(n+="."+i);var r=this.getText(e);return r&&"object"==typeof r?"object"==typeof r&&r.then?this._getCache(n):"object"==typeof r&&0===Object.keys(r||{}).length?null:this._getCache(n):null},e.prototype.getVersions=function(e){var t=this;return Promise.all(e.map((function(e){return t.getVersion(e)})))},e.prototype.getText=function(e){var t=this.options,n="text."+t.apiKey+"."+e+"."+t.locale,i=(0,t.getReleaseVersion)(e);return i&&(n+="."+i),this._getCache(n)},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map((function(e){return t.getText(e)})))},e.prototype.refresh=function(e,t,n,i){return o(this,void 0,void 0,(function(){var r,o,a,c,u,l=this;return s(this,(function(s){switch(s.label){case 0:return r=this.options,o=r.apiKey,a=r.getReleaseVersion,c=r.cache,u=[],t.forEach((function(r,s){var h="text."+o+"."+e[s]+"."+i[s],f="version."+o+"."+e[s]+"."+i[s],p=a(e[s]);p&&(h+="."+p,f+="."+p),c&&(u.push(l._setCache(h,t[s],(function(){l.options.store.set(h,{})}))),u.push(l._setCache(f,n[s])))})),[4,Promise.all(u)];case 1:return s.sent(),[2,t.reduce((function(e,t){return Object.assign(e,t)}),{})]}}))}))},e}(),m=function(){function e(e){void 0===e&&(e=[]),this._list=[],this._list=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.getList=function(){return this._list},e.prototype.getNamespaces=function(){return this._list.map((function(e){return e.namespace}))},e.prototype.addNamespace=function(e){this._list.push(e)},e.prototype.insertTexts=function(e){this._list.forEach((function(t,n){t.texts=e[n]}))},e.prototype.sortByPrior=function(){return this._list.sort((function(e,t){return e.prior-t.prior})),this._list},e.prototype.concat=function(t){return new e(this._list.concat(t.getList()))},e}(),_=function(){function e(e,t,n){this._promiseRefresh=Promise.resolve(null),this.remote=e,this.local=t,this.options=n}return e.prototype._checkVersions=function(e){return o(this,void 0,void 0,(function(){var t,n,i,r,o,a;return s(this,(function(s){switch(s.label){case 0:return t=this.options.locale,[4,this.local.getVersions(e)];case 1:return n=s.sent(),i=e.map((function(e,t){return[e,n[t]]})),[4,this.remote.getTexts(i)];case 2:return r=s.sent(),o=new m,a=new m,e.forEach((function(e,i){var s=r[i],c=s.updated,u=s.version,l=s.data,h=s.lang;c?a.addNamespace({namespace:e,prior:i,version:u,texts:l,lang:h}):o.addNamespace({namespace:e,prior:i,version:n[i],lang:t})})),[2,{equalNs:o,diffNs:a}]}}))}))},e.prototype.waitForRefresh=function(){return this._promiseRefresh},e.prototype._refresh=function(e){var t=e.getList(),n=[],i=[],r=[],o=[];return t.forEach((function(e){n.push(e.namespace),i.push(e.version),r.push(e.texts),o.push(e.lang)})),this.local.refresh(n,r,i,o)},e.prototype._getLocalTexts=function(e){return o(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.local.getTexts(e.getNamespaces())];case 1:return t=n.sent(),e.insertTexts(t),[2,t]}}))}))},e.prototype.load=function(e){return o(this,void 0,void 0,(function(){var t,n,i,r,o;return s(this,(function(s){switch(s.label){case 0:return t=this.options.format,[4,this._checkVersions(e)];case 1:return n=s.sent(),i=n.equalNs,r=n.diffNs,i.length?[4,this._getLocalTexts(i)]:[3,3];case 2:return s.sent(),[3,4];case 3:s.label=4;case 4:return o=this._formatTexts(t,r.concat(i)),r.length?[4,this._refresh(r)]:[3,6];case 5:s.sent(),s.label=6;case 6:return[2,{texts:o,diffNs:r.getNamespaces(),equalNs:i.getNamespaces()}]}}))}))},e.prototype._getCacheText=function(e){return o(this,void 0,void 0,(function(){var t,n,i,r,o,a,c;return s(this,(function(s){switch(s.label){case 0:return t=this.options,n=t.locale,i=t.format,[4,this.local.getTexts(e)];case 1:return r=s.sent(),[4,this.local.getVersions(e)];case 2:return o=s.sent(),a=r.map((function(t,i){if(t)return{namespace:e[i],version:o[i],lang:n,texts:t}})).filter((function(e){return!!e})),c=new m(a),[2,{texts:this._formatTexts(i,c),cacheAllLoaded:a.length===r.length}]}}))}))},e.prototype.lazyLoad=function(e){return o(this,void 0,void 0,(function(){var t,n,i,r,o;return s(this,(function(s){switch(s.label){case 0:return[4,this._getCacheText(e)];case 1:return t=s.sent(),n=t.texts,i=t.cacheAllLoaded,r=0===Object.keys(n).length||!i,this._promiseRefresh=this.load(e),r?[4,this._promiseRefresh]:[3,3];case 2:o=s.sent(),n=o.texts,s.label=3;case 3:return[2,{texts:n,diffNs:r?o&&o.diffNs:[],equalNs:r?o&&o.equalNs:e}]}}))}))},e.prototype._formatTexts=function(e,t){return"splitted"===e?t.getList().reduce((function(e,t){var n=t.namespace,i=t.lang,r=t.texts,o=t.version;return e[n]={lang:i,texts:r,version:o},e}),{}):t.sortByPrior().map((function(e){return e.texts})).reduce((function(e,t){return Object.assign(e,t)}),{})},e}();"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},writable:!0,configurable:!0});var y,b="client_load";!function(e){e.AfterLoad="afterLoad"}(y||(y={}));var E=function(){function e(e){this.afterLoadPlugins=[],this.setConfig(e)}return e.prototype._init=function(e){var t=this;this.options=function(e){var t=(e=Object.assign({},d,e)).namespace,n=e.apiKey,i=e.request,r=e.store,o=e.zoneHost,s=e.test,c=e.cdn;if(s&&(e.mode="test"),e.namespace=t=t?Array.isArray(t)?t:[t]:[],e.apiKey=n=n||e.api_key,!i||!c&&!r){var u=h.ERROR_CODE,f=h.ERROR_MESSAGE;throw new a(u,f,null)}if(!n||!t.length||!c&&!o){throw new a(u=l.ERROR_CODE,f=l.ERROR_MESSAGE,null)}return e}(e);var n=this.options,i=n.apiKey,o=n.locale,s=n.zoneHost,c=n.request,u=n.timeout,f=n.fallbackLang,p=n.store,m=n.lazyUpdate,y=n.test,b=n.mode,E=n.format,S=n.cache,z=n.cdn,w={mode:m?"lazy":y?"test":"prod",zone:s,cdn:z,locale:o,apiKey:i};this._tracker=function(e,n){try{t.options.tracker(e,r(r({},w),n))}catch(e){console.log(e)}};var A=this._getReleaseVersionByNamespace.bind(this),T=new g({request:c,timeout:u,apiKey:i,locale:o,zoneHost:s,fallbackLang:f,mode:b,getReleaseVersion:A,cdn:z}),O=new v({apiKey:i,locale:o,store:p,tracker:this._tracker,getReleaseVersion:A,cache:S,cdn:z});this._textManager=new _(T,O,{locale:o,format:E}),this.initPlugin()},e.prototype.initPlugin=function(){var e=this,t=this.options.plugins||[];Array.isArray(t)&&t.every((function(e){return"object"==typeof e}))&&t.forEach((function(t){t.type===y.AfterLoad&&e.afterLoadPlugins.push(t)}))},e.prototype._getReleaseVersionByNamespace=function(e){var t=this.options.namespace,n=this.options.version,i=null;return Array.isArray(n)?i=n[t.findIndex((function(t){return t===e}))]:n&&"object"==typeof n?i=n[e]:"string"==typeof n&&(i=n),i},e.prototype.setConfig=function(e){var t=Object.assign({},this.options,e);this._init(t)},e.prototype.waitForRefresh=function(){return o(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,this._textManager.waitForRefresh()];case 1:return[2,(e=t.sent())?e.texts:null]}}))}))},e.prototype._load=function(){return o(this,void 0,void 0,(function(){var e,t,n,i,r;return s(this,(function(o){switch(o.label){case 0:return e=this.options,t=e.namespace,n=e.lazyUpdate,i=t,n?[4,this._textManager.lazyLoad(i)]:[3,2];case 1:return r=o.sent(),[3,4];case 2:return[4,this._textManager.load(i)];case 3:r=o.sent(),o.label=4;case 4:return[2,r]}}))}))},e.prototype.load=function(e,t){return o(this,void 0,void 0,(function(){var n,i,r,o,a,c,u,l,h,f,p,d,g,v,m=this;return s(this,(function(s){switch(s.label){case 0:n=Date.now(),i=this.options.namespace,s.label=1;case 1:return s.trys.push([1,5,,10]),this._tracker(b,{state:"start",version:"0.5.16"}),[4,this._load()];case 2:return r=s.sent(),o=r.diffNs,a=r.equalNs,c=r.texts,u=this.afterLoadPlugins,Array.isArray(u)&&u.length?[4,u.reduce((function(e,t){return e.then((function(e){return"function"==typeof t.process?t.process(e||c,m.options):e}))}),Promise.resolve(c))]:[3,4];case 3:l=s.sent(),c=l||c,s.label=4;case 4:return e&&e(c),this._tracker("client_load_time",{time:Date.now()-n}),this._tracker(b,{state:"success",version:"0.5.16"}),h=o.length,f=a.length,p=i.length,d=(f/p).toFixed(2),this._tracker("client_cache",{diffLen:h,diff:o.join(","),equalLen:f,equal:a.join(","),namespaces:a.join(","),namespacesLen:p,ratio:d}),[2,c];case 5:g=s.sent(),this._tracker(b,{state:"fail"}),this._tracker("client_exception",{code:g.code,message:g.message,stack:g.stack}),s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this._textManager._getCacheText(i)];case 7:return v=s.sent().texts,g.response=v&&"object"==typeof v?{data:v}:{data:{}},[3,9];case 8:return s.sent(),[3,9];case 9:return t?(t(g),[3,10]):[2,Promise.reject(g)];case 10:return[2]}}))}))},e}()},365:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}function o(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach((function(t){o(e,t,n[t])}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}n.r(t),n.d(t,{I18n:()=>Ht,I18nConstructor:()=>Wt,I18nCore:()=>jt,Intl:()=>Kt,IntlMessageFormat:()=>ft,default:()=>Jt});var g={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},v=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.init(t,n)}return u(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||g,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,s({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),m=function(){function e(){a(this,e),this.observers={}}return u(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function _(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function y(e){return null==e?"":""+e}function b(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var s=i(o.shift());!e[s]&&n&&(e[s]=new n),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{}}return r()?{}:{obj:e,k:i(o.shift())}}function E(e,t,n){var i=b(e,t,Object);i.obj[i.k]=n}function S(e,t){var n=b(e,t),i=n.obj,r=n.k;if(i)return i[r]}function z(e,t,n){var i=S(e,n);return void 0!==i?i:S(t,n)}function w(e,t,n){for(var i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):w(e[i],t[i],n):e[i]=t[i]);return e}function A(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function O(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return T[e]})):e}var k="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,R=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return a(this,t),n=h(this,f(t).call(this)),k&&m.call(l(n)),n.data=e||{},n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return d(t,e),u(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=[e,t];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(o=e.split(".")),S(this.data,o)}},{key:"addResource",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var s=[e,t];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(i=t,t=(s=e.split("."))[1]),this.addNamespaces(t),E(this.data,s,i),r.silent||this.emit("added",e,t,n,i)}},{key:"addResources",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(i=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var c=S(this.data,a)||{};i?w(c,n,r):c=s({},c,n),E(this.data,a,c),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?s({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(m),L={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,i,r){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,i,r))})),t}},C={},D=function(e){function t(e){var n,i,r,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(this,t),n=h(this,f(t).call(this)),k&&m.call(l(n)),i=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r=e,o=l(n),i.forEach((function(e){r[e]&&(o[e]=r[e])})),n.options=s,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=v.create("translator"),n}return d(t,e),u(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var o=e.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:e,namespaces:r};var s=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(s[0])>-1)&&(r=s.shift()),e=s.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,n,r){var o=this;if("object"!==i(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,c=this.extractFromKey(e[e.length-1],n),u=c.key,l=c.namespaces,h=l[l.length-1],f=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(p){var d=n.nsSeparator||this.options.nsSeparator;return h+d+u}return u}var g=this.resolve(e,n),v=g&&g.res,m=g&&g.usedKey||u,_=g&&g.exactUsedKey||u,y=Object.prototype.toString.apply(v),b=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject;if(E&&v&&"string"!=typeof v&&"boolean"!=typeof v&&"number"!=typeof v&&["[object Number]","[object Function]","[object RegExp]"].indexOf(y)<0&&("string"!=typeof b||"[object Array]"!==y)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,v,n):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");if(a){var S="[object Array]"===y,z=S?[]:{},w=S?_:m;for(var A in v)if(Object.prototype.hasOwnProperty.call(v,A)){var T="".concat(w).concat(a).concat(A);z[A]=this.translate(T,s({},n,{joinArrays:!1,ns:l})),z[A]===T&&(z[A]=v[A])}v=z}}else if(E&&"string"==typeof b&&"[object Array]"===y)(v=v.join(b))&&(v=this.extendTranslation(v,e,n,r));else{var O=!1,k=!1,R=void 0!==n.count&&"string"!=typeof n.count,L=t.hasDefaultValue(n),C=R?this.pluralResolver.getSuffix(f,n.count):"",D=n["defaultValue".concat(C)]||n.defaultValue;!this.isValidLookup(v)&&L&&(O=!0,v=D),this.isValidLookup(v)||(k=!0,v=u);var x=L&&D!==v&&this.options.updateMissing;if(k||O||x){if(this.logger.log(x?"updateKey":"missingKey",f,h,u,x?D:v),a){var I=this.resolve(u,s({},n,{keySeparator:!1}));I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var N=[],P=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&P&&P[0])for(var M=0;M<P.length;M++)N.push(P[M]);else"all"===this.options.saveMissingTo?N=this.languageUtils.toResolveHierarchy(n.lng||this.language):N.push(n.lng||this.language);var j=function(e,t,i){o.options.missingKeyHandler?o.options.missingKeyHandler(e,h,t,x?i:v,x,n):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(e,h,t,x?i:v,x,n),o.emit("missingKey",e,h,t,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?N.forEach((function(e){o.pluralResolver.getSuffixes(e).forEach((function(t){j([e],u+t,n["defaultValue".concat(t)]||D)}))})):j(N,u,D))}v=this.extendTranslation(v,e,n,g,r),k&&v===u&&this.options.appendNamespaceToMissingKey&&(v="".concat(h,":").concat(u)),k&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(v))}return v}},{key:"extendTranslation",value:function(e,t,n,i,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(s({},n,{interpolation:s({},this.options.interpolation,n.interpolation)}));var a,c=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(c){var u=e.match(this.interpolator.nestingRegexp);a=u&&u.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=s({},this.options.interpolation.defaultVariables,l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),c){var h=e.match(this.interpolator.nestingRegexp);a<(h&&h.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return r&&r[0]===i[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):o.translate.apply(o,i.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,p="string"==typeof f?[f]:f;return null!=e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=L.handle(p,e,t,this.options&&this.options.postProcessPassResolved?s({i18nResolved:i},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,i,r,o,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!s.isValidLookup(t)){var c=s.extractFromKey(e,a),u=c.key;n=u;var l=c.namespaces;s.options.fallbackNS&&(l=l.concat(s.options.fallbackNS));var h=void 0!==a.count&&"string"!=typeof a.count,f=void 0!==a.context&&"string"==typeof a.context&&""!==a.context,p=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);l.forEach((function(e){s.isValidLookup(t)||(o=e,!C["".concat(p[0],"-").concat(e)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(o)&&(C["".concat(p[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!s.isValidLookup(t)){r=n;var o,c,l=u,p=[l];for(s.i18nFormat&&s.i18nFormat.addLookupKeys?s.i18nFormat.addLookupKeys(p,u,n,e,a):(h&&(o=s.pluralResolver.getSuffix(n,a.count)),h&&f&&p.push(l+o),f&&p.push(l+="".concat(s.options.contextSeparator).concat(a.context)),h&&p.push(l+=o));c=p.pop();)s.isValidLookup(t)||(i=c,t=s.getResource(n,e,c,a))}})))}))}})),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}}],[{key:"hasDefaultValue",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}]),t}(m);function x(e){return e.charAt(0).toUpperCase()+e.slice(1)}var I=function(){function e(t){a(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=v.create("languageUtils")}return u(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=x(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=x(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=x(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var i=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(i)||(t=i)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var i=n.getLanguagePartFromCode(e);if(n.isSupportedCode(i))return t=i;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(i))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),i.forEach((function(e){r.indexOf(e)<0&&o(n.formatLanguageCode(e))})),r}}]),e}(),N=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],P={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},M=function(){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.languageUtils=t,this.options=i,this.logger=v.create("pluralResolver"),this.rules=(n={},N.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:P[e.fc]}}))})),n)}return u(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,n=this.getRule(e);return n?n.numbers.map((function(n){return t.getSuffix(e,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=this,i=this.getRule(e);if(i){var r=i.noAbs?i.plurals(t):i.plurals(Math.abs(t)),o=i.numbers[r];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var s=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.logger=v.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return u(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:O,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?A(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?A(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?A(t.nestingPrefix):t.nestingPrefixEscaped||A("$t("),this.nestingSuffix=t.nestingSuffix?A(t.nestingSuffix):t.nestingSuffixEscaped||A(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,i){var r,o,s,a=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(a.formatSeparator)<0){var r=z(t,c,e);return a.alwaysFormat?a.format(r,void 0,n):r}var o=e.split(a.formatSeparator),s=o.shift().trim(),u=o.join(a.formatSeparator).trim();return a.format(z(t,c,s),u,n,i)};this.resetRegExp();var h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return a.escapeValue?u(a.escape(e)):u(e)}}].forEach((function(t){for(s=0;r=t.regex.exec(e);){if(void 0===(o=l(r[1].trim())))if("function"==typeof h){var n=h(e,r,i);o="string"==typeof n?n:""}else{if(f){o=r[0];continue}a.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(e)),o=""}else"string"==typeof o||a.useRawValueToEscape||(o=y(o));if(e=e.replace(r[0],t.safeValue(o)),t.regex.lastIndex=0,++s>=a.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,i,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=s({},o);function c(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var i=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(i[1]);e=i[0],r=(r=this.interpolate(r,a)).replace(/'/g,'"');try{a=JSON.parse(r),t&&(a=s({},t,a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(r)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var u=[],l=!1;if(n[0].includes(this.formatSeparator)&&!/{.*}/.test(n[1])){var h=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=h.shift(),u=h,l=!0}if((i=t(c.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=y(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),l&&(i=u.reduce((function(e,t){return r.format(e,t,o.lng,o)}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}]),e}(),U=function(e){function t(e,n,i){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a(this,t),r=h(this,f(t).call(this)),k&&m.call(l(r)),r.backend=e,r.store=n,r.services=i,r.languageUtils=i.languageUtils,r.options=o,r.logger=v.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(i,o.backend,o),r}return d(t,e),u(t,[{key:"queueLoad",value:function(e,t,n,i){var r=this,o=[],s=[],a=[],c=[];return e.forEach((function(e){var i=!0;t.forEach((function(t){var a="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[a]=2:r.state[a]<0||(1===r.state[a]?s.indexOf(a)<0&&s.push(a):(r.state[a]=1,i=!1,s.indexOf(a)<0&&s.push(a),o.indexOf(a)<0&&o.push(a),c.indexOf(t)<0&&c.push(t)))})),i||a.push(e)})),(o.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:i}),{toLoad:o,pending:s,toLoadLanguages:a,toLoadNamespaces:c}}},{key:"loaded",value:function(e,t,n){var i=e.split("|"),r=i[0],o=i[1];t&&this.emit("failedLoading",r,o,t),n&&this.store.addResourceBundle(r,o,n),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(n){var i,a,c,u,l;i=n.loaded,a=o,(u=(c=b(i,[r],Object)).obj)[l=c.k]=u[l]||[],u[l].push(a),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){s[e]||(s[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){s[e].indexOf(t)<0&&s[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(a,c){a&&c&&r<5?setTimeout((function(){i.read.call(i,e,t,n,r+1,2*o,s)}),o):s(a,c)})):s(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,i,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),r=i[0],o=i[1];this.read(r,o,"read",void 0,void 0,(function(i,s){i&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(r," failed"),i),!i&&s&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(r),s),t.loaded(e,i,s)}))}},{key:"saveMissing",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,i,null,s({},o,{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,i))}}]),t}(m);function G(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function B(){}const F=new(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(a(this,t),e=h(this,f(t).call(this)),k&&m.call(l(e)),e.options=G(n),e.services={},e.logger=v,e.modules={external:[]},i&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,i),h(e,l(e));setTimeout((function(){e.init(n,i)}),0)}return e}return d(t,e),u(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function r(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=s({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===i(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===i(e[2])||"object"===i(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,G(t)),this.format=this.options.interpolation.format,n||(n=B),!this.options.isClone){this.modules.logger?v.init(r(this.modules.logger),this.options):v.init(null,this.options);var o=new I(this.options);this.store=new R(this.options.resources,this.options);var a=this.services;a.logger=v,a.resourceStore=this.store,a.languageUtils=o,a.pluralResolver=new M(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new j(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new U(r(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.languageDetector&&(a.languageDetector=r(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=r(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new D(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var u=_(),l=function(){var t=function(t,i){e.isInitialized&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),u.resolve(i),n(t,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,i="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return n();var r=[],o=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){r.indexOf(e)<0&&r.push(e)}))};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return o(e)})),this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.backendConnector.load(r,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(e,t,n){var i=_();return e||(e=this.languages),t||(t=this.options.ns),n||(n=B),this.services.backendConnector.reload(e,t,(function(e){i.resolve(),n(e)})),i}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&L.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var i=_();this.emit("languageChanging",e);var r=function(e){var r="string"==typeof e?e:n.services.languageUtils.getBestMatchFromCodes(e);r&&(n.language||(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r)),n.translator.language||n.translator.changeLanguage(r),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(r)),n.loadResources(r,(function(e){!function(e,r){r?(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r),n.translator.changeLanguage(r),n.isLanguageChangingTo=void 0,n.emit("languageChanged",r),n.logger.log("languageChanged",r)):n.isLanguageChangingTo=void 0,i.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t){var n=this,r=function e(t,r){var o;if("object"!==i(r)){for(var a=arguments.length,c=new Array(a>2?a-2:0),u=2;u<a;u++)c[u-2]=arguments[u];o=n.options.overloadTranslationOptionHandler([t,r].concat(c))}else o=s({},r);return o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,n.t(t,o)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var s=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};if(n.precheck){var a=n.precheck(this,s);if(void 0!==a)return a}return!!this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||!(!s(i,e)||r&&!s(o,e))}},{key:"loadNamespaces",value:function(e,t){var n=this,i=_();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=_();"string"==typeof e&&(e=[e]);var i=this.options.preload||[],r=e.filter((function(e){return i.indexOf(e)<0}));return r.length?(this.options.preload=i.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,r=s({},this.options,n,{isClone:!0}),o=new t(r);return["store","services","language"].forEach((function(t){o[t]=e[t]})),o.services=s({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new D(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o.emit.apply(o,[e].concat(n))})),o.init(r,i),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}}]),t}(m));var V=function(e,t){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},V(e,t)};function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var K,H,W,J=function(){return J=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},J.apply(this,arguments)};function X(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function $(e){return e.type===H.literal}function Y(e){return e.type===H.argument}function Z(e){return e.type===H.number}function Q(e){return e.type===H.date}function ee(e){return e.type===H.time}function te(e){return e.type===H.select}function ne(e){return e.type===H.plural}function ie(e){return e.type===H.pound}function re(e){return e.type===H.tag}function oe(e){return!(!e||"object"!=typeof e||e.type!==W.number)}function se(e){return!(!e||"object"!=typeof e||e.type!==W.dateTime)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(K||(K={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(H||(H={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(W||(W={}));var ae=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,ce=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function ue(e){var t={};return e.replace(ce,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var le,he=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i,fe=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,pe=/^(@+)?(\+|#+)?$/g,de=/(\*)(0+)|(#+)(0+)|(0+)/g,ge=/^(0+)$/;function ve(e){var t={};return e.replace(pe,(function(e,n,i){return"string"!=typeof i?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===i?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof i?i.length:0)),""})),t}function me(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function _e(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!ge.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function ye(e){return me(e)||{}}function be(e){for(var t={},n=0,i=e;n<i.length;n++){var r=i[n];switch(r.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=r.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=r.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=J(J(J({},t),{notation:"scientific"}),r.options.reduce((function(e,t){return J(J({},e),ye(t))}),{}));continue;case"engineering":t=J(J(J({},t),{notation:"engineering"}),r.options.reduce((function(e,t){return J(J({},e),ye(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(r.options[0]);continue;case"integer-width":if(r.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");r.options[0].replace(de,(function(e,n,i,r,o,s){if(n)t.minimumIntegerDigits=i.length;else{if(r&&o)throw new Error("We currently do not support maximum integer digits");if(s)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(ge.test(r.stem))t.minimumIntegerDigits=r.stem.length;else if(fe.test(r.stem)){if(r.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");r.stem.replace(fe,(function(e,n,i,r,o,s){return"*"===i?t.minimumFractionDigits=n.length:r&&"#"===r[0]?t.maximumFractionDigits=r.length:o&&s?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+s.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""})),r.options.length&&(t=J(J({},t),ve(r.options[0])))}else if(pe.test(r.stem))t=J(J({},t),ve(r.stem));else{var o=me(r.stem);o&&(t=J(J({},t),o));var s=_e(r.stem);s&&(t=J(J({},t),s))}}return t}var Ee=new RegExp("^"+ae.source+"*"),Se=new RegExp(ae.source+"*$");function ze(e,t){return{start:e,end:t}}var we=!!String.prototype.startsWith,Ae=!!String.fromCodePoint,Te=!!Object.fromEntries,Oe=!!String.prototype.codePointAt,ke=!!String.prototype.trimStart,Re=!!String.prototype.trimEnd,Le=Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Ce=!0;try{Ce="a"===(null===(le=Ue("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===le?void 0:le[0])}catch(e){Ce=!1}var De,xe=we?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},Ie=Ae?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,i="",r=e.length,o=0;r>o;){if((n=e[o++])>1114111)throw RangeError(n+" is not a valid code point");i+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return i},Ne=Te?Object.fromEntries:function(e){for(var t={},n=0,i=e;n<i.length;n++){var r=i[n],o=r[0],s=r[1];t[o]=s}return t},Pe=Oe?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var i,r=e.charCodeAt(t);return r<55296||r>56319||t+1===n||(i=e.charCodeAt(t+1))<56320||i>57343?r:i-56320+(r-55296<<10)+65536}},Me=ke?function(e){return e.trimStart()}:function(e){return e.replace(Ee,"")},je=Re?function(e){return e.trimEnd()}:function(e){return e.replace(Se,"")};function Ue(e,t){return new RegExp(e,t)}if(Ce){var Ge=Ue("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");De=function(e,t){var n;return Ge.lastIndex=t,null!==(n=Ge.exec(e)[1])&&void 0!==n?n:""}}else De=function(e,t){for(var n=[];;){var i=Pe(e,t);if(void 0===i||Ve(i)||qe(i))break;n.push(i),t+=i>=65536?2:1}return Ie.apply(void 0,n)};var Be=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var i=[];!this.isEOF();){var r=this.char();if(123===r){if((o=this.parseArgument(e,n)).err)return o;i.push(o.val)}else{if(125===r&&e>0)break;if(35!==r||"plural"!==t&&"selectordinal"!==t){if(60===r&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(K.UNMATCHED_CLOSING_TAG,ze(this.clonePosition(),this.clonePosition()))}if(60===r&&!this.ignoreTag&&Fe(this.peek()||0)){if((o=this.parseTag(e,t)).err)return o;i.push(o.val)}else{var o;if((o=this.parseLiteral(e,t)).err)return o;i.push(o.val)}}else{var s=this.clonePosition();this.bump(),i.push({type:H.pound,location:ze(s,this.clonePosition())})}}}return{val:i,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:H.literal,value:"<"+i+"/>",location:ze(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var r=this.parseMessage(e+1,t,!0);if(r.err)return r;var o=r.val,s=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Fe(this.char()))return this.error(K.INVALID_TAG,ze(s,this.clonePosition()));var a=this.clonePosition();return i!==this.parseTagName()?this.error(K.UNMATCHED_CLOSING_TAG,ze(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:H.tag,value:i,children:o,location:ze(n,this.clonePosition())},err:null}:this.error(K.INVALID_TAG,ze(s,this.clonePosition())))}return this.error(K.UNCLOSED_TAG,ze(n,this.clonePosition()))}return this.error(K.INVALID_TAG,ze(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),i="";;){var r=this.tryParseQuote(t);if(r)i+=r;else{var o=this.tryParseUnquoted(e,t);if(o)i+=o;else{var s=this.tryParseLeftAngleBracket();if(!s)break;i+=s}}}var a=ze(n,this.clonePosition());return{val:{type:H.literal,value:i,location:a},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(Fe(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return Ie.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),Ie(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(K.EXPECT_ARGUMENT_CLOSING_BRACE,ze(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(K.EMPTY_ARGUMENT,ze(n,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(K.MALFORMED_ARGUMENT,ze(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(K.EXPECT_ARGUMENT_CLOSING_BRACE,ze(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:H.argument,value:i,location:ze(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(K.EXPECT_ARGUMENT_CLOSING_BRACE,ze(n,this.clonePosition())):this.parseArgumentOptions(e,t,i,n);default:return this.error(K.MALFORMED_ARGUMENT,ze(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=De(this.message,t),i=t+n.length;return this.bumpTo(i),{value:n,location:ze(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,i){var r,o=this.clonePosition(),s=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(s){case"":return this.error(K.EXPECT_ARGUMENT_TYPE,ze(o,a));case"number":case"date":case"time":this.bumpSpace();var c=null;if(this.bumpIf(",")){this.bumpSpace();var u=this.clonePosition();if((v=this.parseSimpleArgStyleIfPossible()).err)return v;if(0===(f=je(v.val)).length)return this.error(K.EXPECT_ARGUMENT_STYLE,ze(this.clonePosition(),this.clonePosition()));c={style:f,styleLocation:ze(u,this.clonePosition())}}if((m=this.tryParseArgumentClose(i)).err)return m;var l=ze(i,this.clonePosition());if(c&&xe(null==c?void 0:c.style,"::",0)){var h=Me(c.style.slice(2));if("number"===s)return(v=this.parseNumberSkeletonFromString(h,c.styleLocation)).err?v:{val:{type:H.number,value:n,location:l,style:v.val},err:null};if(0===h.length)return this.error(K.EXPECT_DATE_TIME_SKELETON,l);var f={type:W.dateTime,pattern:h,location:c.styleLocation,parsedOptions:this.shouldParseSkeletons?ue(h):{}};return{val:{type:"date"===s?H.date:H.time,value:n,location:l,style:f},err:null}}return{val:{type:"number"===s?H.number:"date"===s?H.date:H.time,value:n,location:l,style:null!==(r=null==c?void 0:c.style)&&void 0!==r?r:null},err:null};case"plural":case"selectordinal":case"select":var p=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(K.EXPECT_SELECT_ARGUMENT_OPTIONS,ze(p,J({},p)));this.bumpSpace();var d=this.parseIdentifierIfPossible(),g=0;if("select"!==s&&"offset"===d.value){if(!this.bumpIf(":"))return this.error(K.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ze(this.clonePosition(),this.clonePosition()));var v;if(this.bumpSpace(),(v=this.tryParseDecimalInteger(K.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,K.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return v;this.bumpSpace(),d=this.parseIdentifierIfPossible(),g=v.val}var m,_=this.tryParsePluralOrSelectOptions(e,s,t,d);if(_.err)return _;if((m=this.tryParseArgumentClose(i)).err)return m;var y=ze(i,this.clonePosition());return"select"===s?{val:{type:H.select,value:n,options:Ne(_.val),location:y},err:null}:{val:{type:H.plural,value:n,options:Ne(_.val),offset:g,pluralType:"plural"===s?"cardinal":"ordinal",location:y},err:null};default:return this.error(K.INVALID_ARGUMENT_TYPE,ze(o,a))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(K.EXPECT_ARGUMENT_CLOSING_BRACE,ze(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(K.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,ze(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,i=e.split(he).filter((function(e){return e.length>0}));n<i.length;n++){var r=i[n].split("/");if(0===r.length)throw new Error("Invalid number skeleton");for(var o=r[0],s=r.slice(1),a=0,c=s;a<c.length;a++)if(0===c[a].length)throw new Error("Invalid number skeleton");t.push({stem:o,options:s})}return t}(e)}catch(e){return this.error(K.INVALID_NUMBER_SKELETON,t)}return{val:{type:W.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?be(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,i){for(var r,o=!1,s=[],a=new Set,c=i.value,u=i.location;;){if(0===c.length){var l=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var h=this.tryParseDecimalInteger(K.EXPECT_PLURAL_ARGUMENT_SELECTOR,K.INVALID_PLURAL_ARGUMENT_SELECTOR);if(h.err)return h;u=ze(l,this.clonePosition()),c=this.message.slice(l.offset,this.offset())}if(a.has(c))return this.error("select"===t?K.DUPLICATE_SELECT_ARGUMENT_SELECTOR:K.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);"other"===c&&(o=!0),this.bumpSpace();var f=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?K.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:K.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,ze(this.clonePosition(),this.clonePosition()));var p=this.parseMessage(e+1,t,n);if(p.err)return p;var d=this.tryParseArgumentClose(f);if(d.err)return d;s.push([c,{value:p.val,location:ze(f,this.clonePosition())}]),a.add(c),this.bumpSpace(),c=(r=this.parseIdentifierIfPossible()).value,u=r.location}return 0===s.length?this.error("select"===t?K.EXPECT_SELECT_ARGUMENT_SELECTOR:K.EXPECT_PLURAL_ARGUMENT_SELECTOR,ze(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(K.MISSING_OTHER_CLAUSE,ze(this.clonePosition(),this.clonePosition())):{val:s,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var r=!1,o=0;!this.isEOF();){var s=this.char();if(!(s>=48&&s<=57))break;r=!0,o=10*o+(s-48),this.bump()}var a=ze(i,this.clonePosition());return r?Le(o*=n)?{val:o,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Pe(this.message,e);if(void 0===t)throw Error("Offset "+e+" is at invalid UTF-16 code unit boundary");return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(xe(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset "+e+" must be greater than or equal to the current offset "+this.offset());for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset "+e+" is at invalid UTF-16 code unit boundary");if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Ve(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function Fe(e){return e>=97&&e<=122||e>=65&&e<=90}function Ve(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function qe(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function Ke(e){e.forEach((function(e){if(delete e.location,te(e)||ne(e))for(var t in e.options)delete e.options[t].location,Ke(e.options[t].value);else Z(e)&&oe(e.style)||(Q(e)||ee(e))&&se(e.style)?delete e.style.location:re(e)&&Ke(e.children)}))}function He(e,t){void 0===t&&(t={}),t=J({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new Be(e,t).parse();if(n.err){var i=SyntaxError(K[n.err.kind]);throw i.location=n.err.location,i.originalMessage=n.err.message,i}return(null==t?void 0:t.captureLocation)||Ke(n.val),n.val}function We(e,t){var n=t&&t.cache?t.cache:tt,i=t&&t.serializer?t.serializer:Ze;return(t&&t.strategy?t.strategy:Ye)(e,{cache:n,serializer:i})}function Je(e,t,n,i){var r,o=null==(r=i)||"number"==typeof r||"boolean"==typeof r?i:n(i),s=t.get(o);return void 0===s&&(s=e.call(this,i),t.set(o,s)),s}function Xe(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=n(i),o=t.get(r);return void 0===o&&(o=e.apply(this,i),t.set(r,o)),o}function $e(e,t,n,i,r){return n.bind(t,e,i,r)}function Ye(e,t){return $e(e,this,1===e.length?Je:Xe,t.cache.create(),t.serializer)}var Ze=function(){return JSON.stringify(arguments)};function Qe(){this.cache=Object.create(null)}Qe.prototype.has=function(e){return e in this.cache},Qe.prototype.get=function(e){return this.cache[e]},Qe.prototype.set=function(e,t){this.cache[e]=t};var et,tt={create:function(){return new Qe}},nt={variadic:function(e,t){return $e(e,this,Xe,t.cache.create(),t.serializer)},monadic:function(e,t){return $e(e,this,Je,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(et||(et={}));var it,rt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.code=n,r.originalMessage=i,r}return q(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),ot=function(e){function t(t,n,i,r){return e.call(this,'Invalid values for "'+t+'": "'+n+'". Options are "'+Object.keys(i).join('", "')+'"',et.INVALID_VALUE,r)||this}return q(t,e),t}(rt),st=function(e){function t(t,n,i){return e.call(this,'Value for "'+t+'" must be of type '+n,et.INVALID_VALUE,i)||this}return q(t,e),t}(rt),at=function(e){function t(t,n){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+n+'"',et.MISSING_VALUE,n)||this}return q(t,e),t}(rt);function ct(e){return"function"==typeof e}function ut(e,t,n,i,r,o,s){if(1===e.length&&$(e[0]))return[{type:it.literal,value:e[0].value}];for(var a=[],c=0,u=e;c<u.length;c++){var l=u[c];if($(l))a.push({type:it.literal,value:l.value});else if(ie(l))"number"==typeof o&&a.push({type:it.literal,value:n.getNumberFormat(t).format(o)});else{var h=l.value;if(!r||!(h in r))throw new at(h,s);var f=r[h];if(Y(l))f&&"string"!=typeof f&&"number"!=typeof f||(f="string"==typeof f||"number"==typeof f?String(f):""),a.push({type:"string"==typeof f?it.literal:it.object,value:f});else if(Q(l)){var p="string"==typeof l.style?i.date[l.style]:se(l.style)?l.style.parsedOptions:void 0;a.push({type:it.literal,value:n.getDateTimeFormat(t,p).format(f)})}else if(ee(l))p="string"==typeof l.style?i.time[l.style]:se(l.style)?l.style.parsedOptions:void 0,a.push({type:it.literal,value:n.getDateTimeFormat(t,p).format(f)});else if(Z(l))(p="string"==typeof l.style?i.number[l.style]:oe(l.style)?l.style.parsedOptions:void 0)&&p.scale&&(f*=p.scale||1),a.push({type:it.literal,value:n.getNumberFormat(t,p).format(f)});else{if(re(l)){var d=l.children,g=l.value,v=r[g];if(!ct(v))throw new st(g,"function",s);var m=v(ut(d,t,n,i,r,o).map((function(e){return e.value})));Array.isArray(m)||(m=[m]),a.push.apply(a,m.map((function(e){return{type:"string"==typeof e?it.literal:it.object,value:e}})))}if(te(l)){if(!(_=l.options[f]||l.options.other))throw new ot(l.value,f,Object.keys(l.options),s);a.push.apply(a,ut(_.value,t,n,i,r))}else if(ne(l)){var _;if(!(_=l.options["="+f])){if(!Intl.PluralRules)throw new rt('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',et.MISSING_INTL_API,s);var y=n.getPluralRules(t,{type:l.pluralType}).select(f-(l.offset||0));_=l.options[y]||l.options.other}if(!_)throw new ot(l.value,f,Object.keys(l.options),s);a.push.apply(a,ut(_.value,t,n,i,r,f-(l.offset||0)))}}}}return(b=a).length<2?b:b.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===it.literal&&t.type===it.literal?n.value+=t.value:e.push(t),e}),[]);var b}function lt(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(it||(it={}));var ht=function(){function e(t,n,i,r){var o,s=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=s.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===it.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return ut(s.ast,s.locales,s.formatters,s.formats,e,void 0,s.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==r?void 0:r.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=function(e,t){return t?Object.keys(e).reduce((function(n,i){var r,o;return n[i]=(r=e[i],(o=t[i])?J(J(J({},r||{}),o||{}),Object.keys(r).reduce((function(e,t){return e[t]=J(J({},r[t]),o[t]||{}),e}),{})):r),n}),J({},e)):e}(e.formats,i),this.locales=n,this.formatters=r&&r.formatters||(void 0===(o=this.formatterCache)&&(o={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:We((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,X([void 0],t)))}),{cache:lt(o.number),strategy:nt.variadic}),getDateTimeFormat:We((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,X([void 0],t)))}),{cache:lt(o.dateTime),strategy:nt.variadic}),getPluralRules:We((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,X([void 0],t)))}),{cache:lt(o.pluralRules),strategy:nt.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=He,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();const ft=ht;var pt,dt=function(){return dt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},dt.apply(this,arguments)};function gt(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}void 0===n&&(n=null);for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var s=i(o.shift());!e[s]&&n&&(e[s]=new n),e=e[s]}return r()?{}:{obj:e,k:i(o.shift())}}!function(e){e.keepRaw="keepRaw",e.replaceAnyway="replaceAnyway"}(pt||(pt={})),pt.replaceAnyway;var vt={memoize:!1,memoizeFallback:!1,bindI18n:!1,bindI18nStore:!1,onParseError:pt.replaceAnyway},mt=function(){function e(){this.mem={}}return e.staticInit=function(t){e._i18nextInstance=t},e.prototype.init=function(t,n){var i=this;void 0===t&&(t=e._i18nextInstance);var r={};if((null==t?void 0:t.options)&&(t.options.i18nFormat&&(r=t.options.i18nFormat),r.onParseError=t.options.onParseError,r.missingInterpolationHandler=t.options.missingInterpolationHandler,r.icuConfig=t.options.icuConfig,r.ignoreWarning=!!t.options.ignoreWarning),this.options=Object.assign(vt,n,r),this.formats=this.options.formats,t){var o=this.options,s=o.bindI18n,a=o.bindI18nStore,c=o.memoize;t.IntlMessageFormat=ft,this.IntlMessageFormat=ft,t.ICU=this,c&&(s&&t.on(s,(function(){return i.clearCache()})),a&&t.store.on(a,(function(){return i.clearCache()})))}this.options.localeData&&("[object Array]"===Object.prototype.toString.apply(this.options.localeData)?this.options.localeData.forEach((function(e){return i.addLocaleData(e)})):this.addLocaleData(this.options.localeData))},e.prototype.addLocaleData=function(e){("[object Array]"===Object.prototype.toString.apply(e)?e:[e]).forEach((function(e){e&&e.locale&&ft.__addLocaleData(e)}))},e.prototype.addUserDefinedFormats=function(e){this.formats=this.formats?dt(dt({},this.formats),e):e},e.prototype.checkMissingInterpolation=function(e,t,n,i,r){if(!1===(this.options.icuConfig||{}).strict)return n;for(var o={},s=0,a=e;s<a.length;s++){var c=a[s];if(1===c.type){var u=c.value;if(null===n[u]||void 0===n[u]){if("function"==typeof this.options.missingInterpolationHandler){var l=this.options.missingInterpolationHandler({key:r,text:t,locale:i,interpolation:{key:u,val:n[u]}});if("string"==typeof l){o[u]=l;continue}}switch(this.options.onParseError){case pt.keepRaw:throw new Error;case pt.replaceAnyway:o[u]="{"+u+"}";continue}if("function"==typeof this.options.onParseError){console.warn("[DEPRECATED] onParseError is deprecated, please use 'missingInterpolationHandler' instead of");var h=this.options.onParseError(t,u,i,this.IntlMessageFormat);if(!0===h)throw new Error;o[u]="string"==typeof h?h:"{"+u+"}"}else this.options.ignoreWarning||console.warn('[Starling ICU Warning] The interpolation parameter "{'+u+'}" is missing in the translation text "'+t+'" for the key "'+r+"\"\nSuggestions: check whether the value is null or undefined. Try using empty string '' as fallback! e.g I18n.t('key', { apple: count || '' })"),o[u]="{"+u+"}"}}}return Object.assign({},n,o)},e.prototype.parse=function(e,t,n,i,r,o){var s,a=o&&o.resolved&&o.resolved.res,c=this.options.memoize&&n+"."+i+"."+r.replace(/\./g,"###");!a&&t.thirdParamFallback&&t.fallbackText&&(e=t.fallbackText),this.options.memoize&&(s=function(e,t){var n=gt(e,t),i=n.obj,r=n.k;if(i)return i[r]}(this.mem,c));try{return s||(s=new this.IntlMessageFormat(e,n,this.formats,(this.options.icuConfig||{}).formatOptions),this.options.memoize&&(this.options.memoizeFallback||!o||a)&&function(e,t,n){var i=gt(e,t,Object);i.obj[i.k]=n}(this.mem,c,s)),s.format(this.checkMissingInterpolation(s.getAst(),e,t||{},n,r))}catch(t){return e}},e.prototype.addLookupKeys=function(e,t,n,i,r){return e},e.prototype.clearCache=function(){this.mem={}},e.type="i18nFormat",e._i18nextInstance=null,e}(),_t=(mt.name,function(){return _t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},_t.apply(this,arguments)}),yt=/^\s*\[\[__starling_(\d+)_(.*)__\]\]\s*$/;"undefined"!=typeof window&&(window.__STARLING_INCONTEXT_GLOBAL__HOOK__=_t({},window.__STARLING_INCONTEXT_GLOBAL__HOOK__||{payload:{}}));var bt={name:"inContext",type:"postProcessor",process:function(e,t,n,i){if(window&&document.getElementById("INCONTEXT-KEY-MATCH")&&!n.__STARLING_INCONTEXT_FLAG__){window.__STARLING_INCONTEXT_GLOBAL_I18N__||(window.__STARLING_INCONTEXT_GLOBAL_I18N__=i),delete n.keySeparator,delete n.lngs;var r,o=0;if(t=t.toString(),yt.test(t)&&((r=t.match(yt))[0],o=r[1],t=r[2]),yt.test(e))(r=e.match(yt))[0],r[1],e=r[2];return window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t]?o=window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t].push({options:n,default:e})-1:(window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t]=[{options:n,default:e}],o=0),"[[__starling_"+o+"_"+t+"__]]"}return e}};function Et(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Et(i.key),i)}}function wt(e,t,n){return t&&zt(e.prototype,t),n&&zt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function At(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}for(var kt=["AFN","EUR","ALL","DZD","USD","AOA","XCD","ARS","AMD","AWG","AUD","AZN","BSD","BHD","BDT","BBD","BYN","BZD","XOF","BMD","INR","BTN","BOB","BOV","BAM","BWP","NOK","BRL","BND","BGN","BIF","CVE","KHR","XAF","CAD","KYD","CLP","CLF","CNY","COP","COU","KMF","CDF","NZD","CRC","HRK","CUP","CUC","ANG","CZK","DKK","DJF","DOP","EGP","SVC","ERN","ETB","FKP","FJD","XPF","GMD","GEL","GHS","GIP","GTQ","GBP","GNF","GYD","HTG","HNL","HKD","HUF","ISK","IDR","XDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KPW","KRW","KWD","KGS","LAK","LBP","LSL","ZAR","LRD","LYD","CHF","MOP","MKD","MGA","MWK","MYR","MVR","MRO","MUR","XUA","MXN","MXV","MDL","MNT","MAD","MZN","MMK","NAD","NPR","NIO","NGN","OMR","PKR","PAB","PGK","PYG","PEN","PHP","PLN","QAR","RON","RUB","RWF","SHP","WST","STD","SAR","RSD","SCR","SLL","SGD","XSU","SBD","SOS","SSP","LKR","SDG","SRD","SZL","SEK","CHE","CHW","SYP","TWD","TJS","TZS","THB","TOP","TTD","TND","TRY","TMT","UGX","UAH","AED","USN","UYU","UYI","UZS","VUV","VEF","VND","YER","ZMW","ZWL","XBA","XBB","XBC","XBD","XTS","XXX","XAU","XPD","XPT","XAG"],Rt={},Lt=0;Lt<kt.length;Lt++)Rt[kt[Lt]]={style:"currency",currency:kt[Lt]};var Ct={number:Rt},Dt="languageTransformer";function xt(e){return function(t){return t.type===e}}function It(e,t){var n=e;return(t||[]).map((function(t){n=t.process(e)||n})),n}var Nt,Pt={lng:"zh-CN",fallbackLng:["en-US"],inContext:!0},Mt=[mt,bt],jt=function(){function e(t,n){St(this,e),this._waitingToAddResourceBundle=[],null!=t&&t.copiedI18nextInstance?this.instance=t.copiedI18nextInstance:(this._handlePlugins(n),this._handleConfigs(t),this.instance=F.createInstance(),this.instance.isInitialized=!1)}return wt(e,[{key:"_handlePlugins",value:function(e){var t,n;!1===(null===(t=this.config)||void 0===t||null===(n=t.icuConfig)||void 0===n?void 0:n.open)&&Mt.shift(),this.plugins=Array.isArray(e)?e.concat(Mt):Mt}},{key:"_handleConfigs",value:function(e){this.userLng=(null==e?void 0:e.lng)||null,this.config=Object.assign({},Pt,e||{})}},{key:"language",get:function(){return(this.instance||{}).language}},{key:"createInstance",value:function(){var e=this;return new Promise((function(t,n){"undefined"!=typeof window&&!window.CocosEngine&&e.config.inContext&&(e.config.postProcess=[].concat(["inContext"],e.config.postProcess||[]),window.__STARLING_DEVTOOLS_I18N=e.instance),e.plugins.map((function(t){"IES_INTL_ICU_PLUGIN"===t.name&&t.staticInit(e.instance),e.instance.use(t)}));var i=e.config;e.config.formats=Object.assign({},e.config.formats,Ct);var r=It(i.lng,e.plugins.filter(xt(Dt)));e.instance.init(Object.assign({},i,{lng:r,i18nFormat:{formats:e.config.formats}}),(function(i,r){try{var o,s=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Tt(e))){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw r}}}}(e._waitingToAddResourceBundle);try{for(s.s();!(o=s.n()).done;){var a,c=o.value;(a=e.instance).addResourceBundle.apply(a,At(c))}}catch(i){s.e(i)}finally{s.f()}e._waitingToAddResourceBundle=[]}catch(i){}i||(e._updateLanguages(),t({t:r,err:i})),e.init=!0,n({t:r,err:i})}))}))}},{key:"_updateLanguages",value:function(){this.languages=this.instance?Array.from(new Set([this.instance.language].concat(At(this.instance.languages)))):null}},{key:"getLanguages",value:function(){return this.languages}},{key:"changeLanguage",value:function(e,t){var n=this;this.config.lng=e,this.instance.changeLanguage(e,(function(e,i){e||n._updateLanguages(),t&&t(e,i)}))}},{key:"changeLanguageWithPromise",value:function(e){var t=this;return new Promise((function(n,i){t.config.lng=e,t.instance.changeLanguage(e,(function(e,r){e&&i({err:e,t:r}),t._updateLanguages(),n({err:e,t:r})}))}))}},{key:"getDir",value:function(e){return this.instance.dir(e)}},{key:"t",value:function(e,t,n){var i=Array.isArray(e)?Array.from(e).map((function(){return" "})).join(""):Array(e.length).fill(" "),r=Object.assign({keySeparator:i,nsSeparator:i},t);return"thirdParamFallback"in this.config&&this.config.thirdParamFallback&&(r.thirdParamFallback=!0),this.instance.t(e,n,r)}},{key:"addResourceBundle",value:function(e,t,n,i,r){return this.instance.isInitialized?this.instance.addResourceBundle(e,t,n,i,r):(this._waitingToAddResourceBundle.push([e,t,n,!!i,!!r]),this.instance)}},{key:"cloneInstance",value:function(t,n){var i=this.instance.cloneInstance(t,n),r=new e({copiedI18nextInstance:i});return r.t=this.t.bind(r),r.config=this.config,r.plugins=this.plugins,r.languages=this.languages,r.init=i.isInitialized||Boolean(this.init),r.userLng=this.userLng,i.on("initialized",(function(){r.init=!0})),r}}]),e}(),Ut="Starling_intl:",Gt=function(){for(var e,t="".concat(Ut," [ERROR]"),n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];(e=console).error.apply(e,[t].concat(i))};function Bt(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Ft(){}function Vt(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}!function(e){e.intl3rdParty="intl3rdParty",e.backend="backend",e.logger="logger",e.languageDetector="languageDetector",e.postProcessor="postProcessor",e.i18nFormat="i18nFormat",e["3rdParty"]="3rdParty"}(Nt||(Nt={}));var qt=null,Kt=function(){function e(t){var n;St(this,e),this.plugins=[],this.i18nInstance=null!==(n=null==t?void 0:t.i18nInstance)&&void 0!==n?n:new jt}return wt(e,[{key:"use",value:function(e){return this.plugins.includes(e)?(function(){for(var e,t="".concat(Ut," [WARNING]"),n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];(e=console).warn.apply(e,[t].concat(i))}("Plugin: ".concat(e.name," has beeninit installed.")),this):(this.plugins.push(e),this)}},{key:"init",value:function(e,t){try{var n=this;return n.ignoreWarning=e.ignoreWarning,n.i18nInstance._handleConfigs(e),n.i18nInstance._handlePlugins(n.plugins),Bt(function(e,i){try{var r=Bt(n.i18nInstance.createInstance(),(function(e){var i,r=e.err,o=e.t,s=n.plugins.filter((function(e){return e.type===Nt.intl3rdParty}));return Bt((i=s.map(Vt((function(e){if(e&&"function"==typeof e.init)return(t=(e.init instanceof Promise?e.init:Vt((function(t){return Promise.resolve(e.init(t))})))(n))&&t.then?t.then(Ft):Promise.resolve();var t}))),new Promise((function(e,t){if(Array.isArray(i)||(i=Array.from(i)),i.length<=0)return e([]);var n=[];i=i.map((function(r,o){return function(){("function"==typeof r?new Promise(r):Promise.resolve(r)).then((function(t){n[o]=t,o===i.length-1?e(n):i[o+1]()}),t)}})),i[0]()}))),(function(){return"function"==typeof t&&t(r,o),{err:r,t:o}}))}))}catch(e){return i(e)}return r&&r.then?r.then(void 0,i):r}(0,(function(e){return Gt("The instance init error: ".concat(e)),{err:e,t:function(e){return e}}})))}catch(e){return Promise.reject(e)}}},{key:"language",get:function(){return(this.i18nInstance||{}).language}},{key:"setLang",value:function(e,t){var n=It(e,this.plugins.filter(xt(Dt)));this.i18nInstance.changeLanguage(n,t)}},{key:"getLanguages",value:function(){return this.i18nInstance.getLanguages()}},{key:"setLangWithPromise",value:function(e){var t=It(e,this.plugins.filter(xt(Dt)));return this.i18nInstance.changeLanguageWithPromise(t)}},{key:"dir",value:function(e){return this.i18nInstance.getDir(e)}},{key:"t",value:function(e,t,n){var i=null;return(i=void 0===this?qt:this).ignoreWarning||i.i18nInstance&&i.i18nInstance.init?!e||"string"==typeof e&&!e.trim()?"":i.i18nInstance.t(e,t,n):(Gt("The instance has not been initialized: i18n.t('".concat(e,"'").concat(t?","+JSON.stringify(t):"",");")),null!=n?n:Array.isArray(e)?e[0]:e)}},{key:"addResourceBundle",value:function(e,t,n,i,r){return this.i18nInstance.addResourceBundle(e,t,n,i,r)}},{key:"cloneInstance",value:function(t){var n=new e({i18nInstance:this.i18nInstance.cloneInstance(t)});return n.t=this.t.bind(n),n.plugins=this.plugins,n.ignoreWarning=this.ignoreWarning,n}}]),e}(),Ht=qt=new Kt;Ht.t=Ht.t.bind(Ht);var Wt=Kt;const Jt=Ht},525:(e,t,n)=>{n.r(t),n.d(t,{BATCH_REPORT_PATH:()=>Ct,DEFAULT_IGNORE_PATHS:()=>Nt,DEFAULT_SAMPLE_CONFIG:()=>jt,DEFAULT_SAMPLE_GRANULARITY:()=>Pt,DEFAULT_SENDER_SIZE:()=>Ut,DEVICE_ID_COOKIE_NAME:()=>It,EV_METHOD_MAP:()=>Sn,EXTRA_INDEPENDENT_PLUGINS:()=>Mt,InjectConfigPlugin:()=>xn,InjectEnvPlugin:()=>En,InjectQueryPlugin:()=>In,ObserveErrorPlugin:()=>Ln,PLUGINS_LOAD_PREFIX:()=>Ot,PluginMap:()=>Mn,PrecollectPlugin:()=>kn,REPORT_DOMAIN:()=>At,SDK_NAME:()=>Rt,SDK_VERSION:()=>kt,SETTINGS_DOMAIN:()=>Tt,SETTINGS_PATH:()=>Lt,STORAGE_PREFIX:()=>Dt,TimeCalibrationPlugin:()=>Cn,USER_ID_COOKIE_NAME:()=>xt,addConfigToReportEvent:()=>Dn,addEnvToSendEvent:()=>bn,applyPlugin:()=>Wt,browserBuilder:()=>yn,buildSelfErrorEvent:()=>Rn,configHolder:()=>dn,createBrowserClient:()=>jn,createBrowserConfigManager:()=>gn,createMinimalBrowserClient:()=>Pn,createStore:()=>zn,default:()=>Bn,doesPluginExistInRegistry:()=>Xt,filterIfPluginDisabled:()=>On,getConsumeStored:()=>Tn,getDefaultConfig:()=>Nn,getDefaultSessionId:()=>on,getDefaultUserIdAndDeviceId:()=>hn,getGlobalInstance:()=>cn,getGlobalName:()=>an,getPluginFromRegistry:()=>Jt,getReportUrl:()=>nn,getServerConfig:()=>vn,getSettingsUrl:()=>rn,getStorageKey:()=>un,getStoreOrConsume:()=>An,glueCodeForStorageSecurity:()=>ln,hasSetStorageItem:()=>fn,loadCombinedPlugins:()=>Ft,loadIndependentPlugins:()=>Vt,loadNow:()=>Ht,loadPlugins:()=>Kt,loadPluginsOnPageLoad:()=>Bt,mergeSampleConfig:()=>mn,normalizeInitConfig:()=>Zt,normalizeStrictFields:()=>Yt,normalizeUserConfig:()=>en,parseServerConfig:()=>tn,register:()=>$t,reverseMap:()=>wn,setStorageUserIdAndDeviceId:()=>pn,toObservableArray:()=>sn,validateInitConfig:()=>Qt});var i=function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function o(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var s=function(e){return JSON.stringify({ev_type:"batch",list:e})},a=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],c=function(){return{}};function u(e){return e}function l(e){return"object"==typeof e&&null!==e}var h=Object.prototype;function f(e){if(l(e)){if("function"==typeof Object.getPrototypeOf){var t=Object.getPrototypeOf(e);return t===h||null===t}return"[object Object]"===h.toString.call(e)}return!1}function p(e){return"[object Array]"===h.toString.call(e)}function d(e){return"function"==typeof e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(e,t){var n=i({},e);for(var r in t)m(t,r)&&void 0!==t[r]&&(l(t[r])&&f(t[r])?n[r]=_(l(e[r])?e[r]:{},t[r]):p(t[r])&&p(e[r])?n[r]=y(e[r],t[r]):n[r]=t[r]);return n}function y(e,t){var n=p(e)?e:[],i=p(t)?t:[];return Array.prototype.concat.call(n,i).map((function(e){return e instanceof RegExp?e:l(e)&&f(e)?_({},e):p(e)?y([],e):e}))}function b(e,t){if(!p(e))return!1;if(0===e.length)return!1;for(var n=0;n<e.length;){if(e[n]===t)return!0;n++}return!1}var E=function(e,t){if(!p(e))return e;var n=e.indexOf(t);if(n>=0){var i=e.slice();return i.splice(n,1),i}return e},S=function(e,t,n){for(var i,o=r(t.split(".")),s=o[0],a=o.slice(1);e&&a.length>0;)e=e[s],s=(i=r(a))[0],a=i.slice(1);if(e)return n(e,s)},z=function(e){return e.replace(/([a-z])([A-Z])/g,(function(e,t,n){return t+"-"+n.toLowerCase()}))};var w=function(e,t){var n,i=p(n=e||[])&&n.length?function(e){for(var t=[],n=e.length,i=0;i<n;i++){var r=e[i];v(r)?t.push(r.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):r&&r.source&&t.push(r.source)}return new RegExp(t.join("|"),"i")}(n):null;return!!i&&i.test(t)};function A(e){try{return v(e)?e:JSON.stringify(e)}catch(e){return"[FAILED_TO_STRINGIFY]:"+String(e)}}var T=function(e,t,n,i){return void 0===i&&(i=!0),function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(!e)return c;var u=e[t],l=n.apply(void 0,o([u],r(s),!1)),h=l;return d(h)&&i&&(h=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return l.apply(this,e)}catch(t){return d(u)&&u.apply(this,e)}}),e[t]=h,function(n){n||(h===e[t]?e[t]=u:l=u)}}},O=function(e,t,n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(!e)return c;var a=e[t],u=n.apply(void 0,o([a],r(i),!1)),l=u;return d(l)&&(l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u.apply(this,e)}),e[t]=l,function(){l===e[t]?e[t]=a:u=a}}},k="".padStart?function(e,t){return void 0===t&&(t=8),e.padStart(t," ")}:function(e){return e},R=0,L=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,o(["[SDK]",Date.now(),k(""+R++)],r(e),!1))},C=0,D=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,o(["[SDK]",Date.now(),k(""+C++)],r(e),!1))},x=function(e){return Math.random()<Number(e)},I=function(e,t){return e<Number(t)},N=function(e){return function(t){for(var n=t,i=0;i<e.length&&n;i++)try{n=e[i](n)}catch(e){L(e)}return n}};function P(){var e=function(){for(var e=new Array(16),t=0,n=0;n<16;n++)3&n||(t=4294967296*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var i=0,r=t;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}(e)}var M=function(e,t){var n=[];try{n=t.reduce((function(t,n){try{var i=n(e);"function"==typeof i&&t.push(i)}catch(e){}return t}),[])}catch(e){}return function(e){return M(e,n)}},j=function(e){void 0===e&&(e=3e5);var t,n=[],i=[],r=!1,o=function(e,t,i){var r=0;return-1===i?c:function(){if(n.length)return r&&clearTimeout(r),void(r=0);0===r&&(r=setTimeout(t,i))}}(0,(function(){r=!0,t&&t[0](),i.forEach((function(e){return e()})),i.length=0,t=void 0}),e),s=function(e){n=E(n,e),!r&&o()};return{next:function(e){return M(e,n)},complete:function(e){i.push(e)},attach:function(e,n){t=[e,n]},subscribe:function(e){if(r)throw new Error("Observer is closed");return n.push(e),t&&t[1]&&t[1](e),o(),function(){return s(e)}},unsubscribe:s}},U=function(e,t,n){var i=j(n);try{e(i.next,i.attach),t&&i.complete(t)}catch(e){}return[i.subscribe,i.unsubscribe]},G=function(e,t){var n=r(e,1)[0];return function(e,i){var r=n((function(n){var i;return(i=t,function(e){for(var t=!0,n=0;n<i.length&&t;n++)try{t=i[n](e)}catch(e){L(e)}return t})(n)?e(n):c}));i((function(){r()}))}},B=function(e,t,n,i){return e.destroyAgent.set(t,n,i)};function F(e,t){return e.initSubject(t)}function V(e,t,n){var i=r(t,2),o=i[0],s=i[1],a=e.privateSubject||{};return a[o]||(a[o]=U(s,(function(){a[o]=void 0}),n)),a[o]}var q=function(){return Date.now()};function K(){if("object"==typeof window&&l(window))return window}function H(){if("object"==typeof document&&l(document))return document}function W(){return K()&&window.location}function J(){return K()&&window.history}function X(){if("function"==typeof XMLHttpRequest&&d(XMLHttpRequest))return XMLHttpRequest}function $(){if(!document)return null;if(document.currentScript)return document.currentScript;try{throw new Error}catch(u){var e=0,t=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i.exec(u.stack),n=t&&t[2]||!1,i=t&&t[3]||0,r=document.location.href.replace(document.location.hash,""),o="",s=document.getElementsByTagName("script");if(n===r){var a=document.documentElement.outerHTML,c=new RegExp("(?:[^\\n]+?\\n){0,"+(i-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i");o=a.replace(c,"$1").trim()}for(;e<s.length;e++){if("interactive"===s[e].readyState)return s[e];if(s[e].src===n)return s[e];if(n===r&&s[e].innerHTML&&s[e].innerHTML.trim()===o)return s[e]}return null}}function Y(e){var t=H();if(!t||!e)return"";var n=t.createElement("a");return n.href=e,n.href}function Z(e){var t=H();if(!t||!e)return{url:e,protocol:"",domain:"",query:"",path:"",hash:""};var n=t.createElement("a");n.href=e;var i=n.pathname||"/";return"/"!==i[0]&&(i="/"+i),{url:n.href,protocol:n.protocol.slice(0,-1),domain:n.hostname,query:n.search.substring(1),path:i,hash:n.hash}}function Q(){var e=K()&&W();return e?e.href:""}var ee=function(e){var t,n={pid:(t=e.config()).pid,view_id:t.viewId,url:Q()};return n.context=e.context?e.context.toString():{},n},te=function(e,t){void 0===t&&(t=!1);var n=ee(e);return t&&(n.timestamp=q()),function(t){e.report(i(i({},t),{overrides:n}))}},ne=function(e){return function(t,n){var i=ee(e);n(c,(function(e){i&&e(i)}))}},ie=function(e){if(e)return e.__SLARDAR_REGISTRY__||(e.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),e.__SLARDAR_REGISTRY__.Slardar},re=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ie(K());n&&(n.errors||(n.errors=[]),n.errors.push(e))},oe=function(e){var t={url:Q(),timestamp:q()},n=e.config();return(null==n?void 0:n.pid)&&(t.pid=n.pid),(null==e?void 0:e.context)&&(t.context=e.context.toString()),t},se=function(e,t){return function(n){var i=function(e){return e.overrides=t,e};e.on("report",i),n(),e.off("report",i)}},ae=function(e,t,n,i){return void 0===i&&(i=!1),e.addEventListener(t,n,i),function(){e.removeEventListener(t,n,i)}},ce=function(e,t,n,i){return void 0===i&&(i=!1),e.addEventListener(t,n,i),function(){e.removeEventListener(t,n,i)}},ue=function(e){var t=!1;return[function(n){t||(t=!0,e&&e(n))}]},le=function(e,t){var n,i=H();if(i){var r=i.createElement("script");r.src=e,r.crossOrigin="anonymous",r.onload=t,null===(n=i.head)||void 0===n||n.appendChild(r)}},he=function(e,t){return l(e)?i(i({},t),e):!!e&&t},fe=function(){return!!btoa&&!!atob},pe=function(e){try{var t=localStorage.getItem(e),n=t;t&&"string"==typeof t&&(n=JSON.parse((s=t,fe()?decodeURI(atob(s)):s)));var i=n,r=i.expires,o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(i,["expires"]);return r>=q()?o:void 0}catch(e){return}var s},de=function(e,t,n){var r;if(!(n<=0))try{localStorage.setItem(e,(r=JSON.stringify(i(i({},t),{expires:q()+n})),fe()?btoa(encodeURI(r)):r))}catch(e){}},ge=function(e){return!1===e?0:!0!==e&&void 0!==e&&g(e)?e:7776e6},ve=function(){var e=new RegExp("\\/monitor_web\\/collect|\\/monitor_browser\\/collect\\/batch","i");return function(t){return e.test(t)}},me=function(e){return function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t=r(n,2),this._method=t[0],this._url=t[1],e.apply(this,n)}},_e=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._reqHeaders=this._reqHeaders||{};var i=r(t,2),o=i[0],s=i[1];return this._reqHeaders[o]=s,e&&e.apply(this,t)}},ye=function(e,t){var n=ve();return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o,s;return this._start=q(),this._data=null==i?void 0:i[0],n(this._url)||(o=this,s=t([this._method,this._url,this._start,this]),O(o,"onreadystatechange",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 4===this.readyState&&s(o),e&&e.apply(this,t)}})))(),e.apply(this,i)}},be=function(e){return function(t,n){if(e){var i=[];i.push(O(e,"open",me)()),i.push(O(e,"setRequestHeader",_e)()),i.push(O(e,"send",ye)(t)),n((function(){i.forEach((function(e){return e()}))}))}}},Ee=function(e,t){return function(n,i){void 0===i&&(i={});var r=t([n,i]),o=e(n,i);return o.then((function(e){r(e)}),(function(){r(void 0)})),o}},Se=["fetch_0",function(e,t){var n=K();if(n&&fetch){var i=[];i.push(O(n,"fetch",Ee)(e)),t((function(){i.forEach((function(e){return e()}))}))}}],ze=["resource"],we=["resource_0",function(e,t){var n=function(){if(K()&&d(window.PerformanceObserver))return window.PerformanceObserver}();if(n){var i=ve();t(function(t,n,o){var s=r(function(e,t,n){var i=e&&new e((function(e,n){e.getEntries&&e.getEntries().forEach((function(e,i,r){return t(e,i,r,n)}))}));return[function(t){if(!e||!i)return n;try{i.observe({entryTypes:t})}catch(e){return n}},function(t,r){if(!e||!i)return n;try{var o={type:t,buffered:!0};void 0!==r&&(o.durationThreshold=r),i.observe(o)}catch(e){return n}i.observe({type:t,buffered:!1})},function(){return i&&i.disconnect()}]}(t,(function(t){!i(t.name)&&e(t)})),3),a=s[0],c=s[2];return a(o),c}(n,0,ze))}}],Ae="pageview",Te="session",Oe="js_error",ke="http",Re="custom",Le="action",Ce={sampleRate:1,origins:[]},De=function(){var e=window&&(window.crypto||window.msCrypto);if(void 0!==e&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t);var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,(function(){return(16*Math.random()|0).toString(16)}))},xe=function(e){var t=he(e,Ce);if(t&&x(t.sampleRate))return function(e,n){var i=t.origins;i.length&&w(i,e)&&n("traceparent","03-"+De()+"-"+De().substring(16)+"-01")}},Ie=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|password)","i"),Ne=new RegExp("(bearer|session)","i"),Pe=function(e,t){return!e||!t||Ie.test(e)||Ne.test(t)},Me=function(e,t){try{if(t){var n=e.request.url;e.request.url=t(n),e.extra=i(i({},e.extra),{original_url:n})}}catch(e){}},je=function(e,t,n){var i=r(t,2),o=i[0],s=i[1],a=n.setTraceHeader,u=n.ignoreUrls,l=n.setContextAtReq,h=n.extractUrl;e.push(o[0]((function(e){var t=r(e,4);t[0];var i=t[1];t[2];var o=t[3];if(!i)return c;var f=Y(i);if(w(u,f))return c;a&&a(f,(function(e,t){return o.setRequestHeader(e,t)}));var p=l(),d=void 0,g=s()[0]((function(e){f===e.name&&!d&&(d=e)}));return function(e){var t=Ue(e,n);setTimeout((function(){d&&(t.response.timing=d),Me(t,h),p&&p({ev_type:ke,payload:t}),g()}),100)}})))},Ue=function(e,t){var n,i=e._method,o=e._reqHeaders,s=e._url,a=e._start,c=e._data,u={api:"xhr",request:{url:Y(s),method:(i||"").toLowerCase(),headers:o&&(n=o,Object.keys(n).reduce((function(e,t){return!Pe(t,n[t])&&(e[t.toLowerCase()]=n[t]),e}),{})),timestamp:a},response:{status:e.status||0,is_custom_error:!1,timestamp:q()},duration:q()-a};"function"==typeof e.getAllResponseHeaders&&(u.response.headers=function(e){return v(e)&&e?e.split("\r\n").reduce((function(e,t){if(v(t)){var n=r(t.split(": "),2),i=n[0],o=n[1];!Pe(i,o)&&(e[i.toLowerCase()]=o)}return e}),{}):{}}(e.getAllResponseHeaders()));var l=u.response.status,h=t.collectBodyOnError,f=t.extraExtractor;try{var p=null==f?void 0:f(e.response,u,c);p&&(u.extra=p),p&&(u.response.is_custom_error=!0),h&&(p||l>=400)&&(u.request.body=c?""+c:void 0,u.response.body=e.response?""+e.response:void 0)}catch(e){}return u},Ge="ajax",Be={autoWrap:!0,setContextAtReq:function(){return u},ignoreUrls:[],collectBodyOnError:!1},Fe=function(e,t,n){var i=r(t,2),o=i[0],s=i[1],a=n.setTraceHeader,u=n.ignoreUrls,l=n.setContextAtReq,h=n.extractUrl,f=window.Headers,p=window.Request;p&&f&&e.push(o[0]((function(e){var t=r(e,2),i=t[0],o=t[1],d=Y(i instanceof p?i.url:i);if(!Ve(d)||w(u,d))return c;a&&a(d,(function(e,t){return Ke(e,t,i,o,p,f)}));var g=l(),v=q(),m=void 0,_=s()[0]((function(e){d===e.name&&!m&&(m=e)}));return function(e){var t,r,s=Xe(i,o,e,p,f,n,v),a=(t=function(e){m&&(e.response.timing=m),Me(e,h),g&&g({ev_type:ke,payload:e}),_()},r=!1,function(e){r||(r=!0,t(e))});setTimeout((function(){a(s)}),1e3)}})))},Ve=function(e){if(!v(e))return!1;var t=r(e.split(":"),2),n=t[0];return!t[1]||"http"===n||"https"===n},qe=function(e,t){return e instanceof t},Ke=function(e,t,n,r,o,s){var a;qe(n,o)?n.headers.set(e,t):r.headers instanceof s?r.headers.set(e,t):r.headers=i(i({},r.headers),((a={})[e]=t,a))},He=function(e,t,n){var i=t&&t.method||"get";return qe(e,n)&&(i=e.method||i),i.toLowerCase()},We=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];try{return t.reduce((function(t,n){return new e(n||{}).forEach((function(e,n){return!Pe(n,e)&&(t[n]=e)})),t}),{})}catch(e){return{}}},Je=function(e,t,n){return qe(e,n)?e.body:null==t?void 0:t.body},Xe=function(e,t,n,i,r,o,s){var a={api:"fetch",request:{method:He(e,t,i),timestamp:s,url:Y(e instanceof i?e.url:e),headers:We(r,e.headers,t.headers)},response:{status:n&&n.status||0,is_custom_error:!1,timestamp:q()},duration:q()-s},u=o.collectBodyOnError,l=o.extraExtractor,h=function(){var n;u&&(a.request.body=null===(n=Je(e,t,i))||void 0===n?void 0:n.toString())};if(n)try{var f=We(r,n.headers);a.response.headers=f;try{-1!==(f["content-type"]||"").indexOf("application/json")&&l&&n.clone().json().then((function(n){var r,o=l(n,a,null===(r=Je(e,t,i))||void 0===r?void 0:r.toString());o&&(a.extra=o,a.response.is_custom_error=!0,h())})).catch(c)}catch(e){}n.status>=400&&h()}catch(e){}else h();return a},$e="fetch",Ye={autoWrap:!0,setContextAtReq:function(){return u},ignoreUrls:[],collectBodyOnError:!1},Ze=["name","message","stack","filename","lineno","colno"],Qe=function(e){var t,n,i;return function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMError]":case"[object DOMException]":return!0;default:return e instanceof Error}}(e)?(i=Ze,t=(n=e)&&l(n)?i.reduce((function(e,t){return e[t]=n[t],e}),{}):n):(f(e)||"undefined"!=typeof Event&&function(e,t){try{return e instanceof t}catch(e){return!1}}(e,Event)||v(e))&&(t={message:A(e)}),t},et="jsError",tt=function(e){return"hidden"===e.visibilityState},nt=["hidden_3",function(e,t){var n=H(),i=K();if(n&&i){var r=function(t){e("pagehide"===t.type||tt(n))},o=ce(n,"visibilitychange",r,!0),s=ae(i,"pagehide",r,!0);t((function(){o(),s()}),(function(e){e(tt(n))}))}}],it=["unload_0",function(e,t){var n=K();if(n){var i=r(ue(e),1)[0],o=function(){i()},s=[];["unload","beforeunload","pagehide"].forEach((function(e){s.push(ae(n,e,o,!1))})),t((function(){s.forEach((function(e){return e()}))}))}}],rt=["hash_0",function(e,t){var n=K();if(n){var i=ae(n,"hashchange",(function(){return e(location.href)}),!0);t((function(){i()}))}}],ot=["history_0",function(e,t){var n=J(),i=K();if(n&&i){var r=[],o=function(){return e(location.href)},s=function(e){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{e.apply(n,t)}finally{o()}}};r.push(T(n,"pushState",s)(),T(n,"replaceState",s)()),r.push(ae(i,"popstate",o,!0)),t((function(){r.forEach((function(e){return e()}))}))}}],st=function(e){return at(e,q())},at=function(e,t){return e+"_"+t},ct=function(e){return"manual"===e},ut="error_weight",lt="duration_apdex",ht="perf_apdex",ft=function(e,t){var n=e[0]+e[1]+e[2],i=e[0]/n;return e[2]/n>t.frustrating_threshold?2:i>t.satisfying_threshold||0===n?0:1},pt=function(e,t){return function(n,i){var r=n.payload;switch(n.ev_type){case"performance":var o=r.name;r.isSupport&&e(i[ht],o,r.value);break;case Le:e(i[ht],"action",r.duration||0);break;case Oe:t(i[ut],0);break;case ke:if(r.response.is_custom_error||r.response.status>=400)t(i[ut],1);else{var s=r.response.timing;s&&e(i[lt],0,s.duration)}break;case"resource_error":t(i[ut],2);break;case"blank_screen":t(i[ut],3);break;case"resource":e(i[lt],1,r.duration);break;case"performance_longtask":r.longtasks.forEach((function(t){e(i[lt],2,t.duration)}))}}},dt=function(){var e,t,n=function(){e=[0,0,0],t=function(){var e;return(e={error_count:[0,0,0,0],duration_count:[0,0,0]})[ht]={},e}()};return n(),[function(n,i,r){var o=n&&n[i];if(o&&!(r<=0)){var s=r<(o[0].threshold||0)?0:r>(o[1].threshold||0)?2:1;if(e[s]+=o[s].weight,"string"==typeof i){var a=at(i,s),c=t[ht][a];t[ht][a]=(c||0)+1}else 2===s&&(t.duration_count[i]+=1)}},function(n,i){n&&(e[2]+=n[i],t.error_count[i]+=1)},function(){return[e,t]},n]},gt=function(e,t,n,i){var o,s,a=i.sendInit,c=i.initPid,u=i.routeMode,l=i.extractPid,h=i.onPidUpdate,f=ct(u)?function(){return""}:function(e){return function(t){var n;return"hash"===e?(null===(n=Z(t).hash)||void 0===n?void 0:n.replace(/^#/,""))||"/":Z(t).path}}(u),p=l||function(){},d=r(function(e,t,n,i){var r=n,o=t;return i&&i(t),[function(t,n,s){"user_set"!==t&&n!==r?(r=n,o=null!=s?s:r,i&&i(o),e(t,o)):"user_set"===t&&n!==o&&(o=n,i&&i(o),e(t,o))},function(){t&&e("init",t)}]}(function(e){return function(t,n){e(function(e,t){return{ev_type:Ae,payload:{pid:t,source:e}}}(t,n))}}(e),c||function(e){var t;return null!==(t=p(e))&&void 0!==t?t:f(e)}(location.href),f(location.href),h),2),g=d[0],v=d[1];if(!ct(u)){var m=r((o=function(e,t){return g(e,f(t),p(t))},s="",[function(e,t){t!==s&&o(e,s=t)}]),1)[0];n.length&&n.forEach((function(e){return t.push(e[0]((function(e){return m(u,e)})))}))}return a&&v(),[g.bind(null,"user_set")]},vt="pageview",mt={sendInit:!0,routeMode:"history",apdex:2};function _t(e){return(null==e?void 0:e.effectiveType)||(null==e?void 0:e.type)||""}var yt=function(e,t){var n=e.common||{};return n.sample_rate=t,e.common=n,e},bt=function(e,t,n,i,r){return e?(o=r(i,t),function(){return o}):function(){return n(t)};var o},Et=function(e,t){try{return"rule"===t.type?function(e,t,n,i){var r=S(e,t,(function(e,t){return e[t]}));return void 0!==r&&function(e,t,n){switch(n){case"eq":return b(t,e);case"neq":return!b(t,e);case"gt":return e>t[0];case"gte":return e>=t[0];case"lt":return e<t[0];case"lte":return e<=t[0];case"regex":return Boolean(e.match(new RegExp(t.join("|"))));case"not_regex":return!e.match(new RegExp(t.join("|")));default:return!1}}(r,function(e,t){return e.map((function(e){switch(t){case"number":return Number(e);case"boolean":return"1"===e;default:return String(e)}}))}(i,"boolean"==typeof r?"bool":g(r)?"number":"string"),n)}(e,t.field,t.op,t.values):"and"===t.type?t.children.every((function(t){return Et(e,t)})):t.children.some((function(t){return Et(e,t)}))}catch(e){return re(e),!1}},St=function(e,t,n){var i=t.url,r=t.data,o=t.success,s=void 0===o?c:o,a=t.fail,u=void 0===a?c:a,l=t.getResponseText,h=void 0===l?c:l,f=t.withCredentials,p=void 0!==f&&f,d=new n;d.withCredentials=p,d.open(e,i,!0),d.setRequestHeader("Content-Type","application/json"),d.onload=function(){null==h||h(this.responseText);try{if(this.status>=400)u(new Error(this.responseText||this.statusText));else if(this.responseText){var e=JSON.parse(this.responseText);s(e)}else s({})}catch(e){u(e)}},d.onerror=function(){u(new Error("Network request failed"))},d.onabort=function(){u(new Error("Network request aborted"))},d.send(r)},zt=function(){var e=X();return e?{useBeacon:!0,get:function(t){St("GET",t,e)},post:function(t){St("POST",t,e)}}:{get:c,post:c}};function wt(e){var t=function(e){var t,n=e.transport,i=e.endpoint,r=e.size,o=void 0===r?10:r,a=e.wait,c=void 0===a?1e3:a,u=[],l=0;function h(){if(u.length){var e=this.getBatchData();n.post({url:i,data:e,fail:function(n){t&&t(n,e)}}),u=[]}}return{getSize:function(){return o},getWait:function(){return c},setSize:function(e){o=e},setWait:function(e){c=e},getEndpoint:function(){return i},setEndpoint:function(e){i=e},send:function(e){u.push(e),u.length>=o&&h.call(this),clearTimeout(l),l=setTimeout(h.bind(this),c)},flush:function(){clearTimeout(l),h.call(this)},getBatchData:function(){return u.length?s(u):""},clear:function(){clearTimeout(l),u=[]},fail:function(e){t=e}}}(e),n=t.send;return function(){var i=K();if(i){var o=r(ue((function(){if(e.transport.useBeacon){var i=function(){var e=K();return e&&e.navigator.sendBeacon?{get:function(){},post:function(t,n){e.navigator.sendBeacon(t,n)}}:{get:c,post:c}}(),r=t.getBatchData();r&&(i.post(t.getEndpoint(),r),t.clear()),t.send=function(e){i.post(t.getEndpoint(),s([e]))},function(e){var t=H(),n=K();if(t&&n){var i=c;i=ce(t,"visibilitychange",(function(){"visible"===t.visibilityState&&(e(),i())}),!0)}}((function(){t.send=n}))}else t.flush()})),1)[0];["unload","beforeunload","pagehide"].forEach((function(e){ae(i,e,o,!1)}))}}(),t}var At="mon.zijieapi.com",Tt=At,Ot="https://lf3-short.ibytedapm.com/slardar/fe/sdk-web/plugins",kt="1.14.1",Rt="SDK_SLARDAR_WEB",Lt="/monitor_web/settings/browser-settings",Ct="/monitor_browser/collect/batch/",Dt="SLARDAR",xt="MONITOR_WEB_ID",It="MONITOR_DEVICE_ID",Nt=["/log/sentry/",Ct,Lt],Pt="session",Mt=["blankScreen","action"],jt={sample_rate:1,include_users:[],sample_granularity:Pt,rules:{}},Ut=20,Gt="";function Bt(e,t,n){void 0===n&&(n=Kt),function(e){var t=K(),n=H();t&&n&&("complete"!==n.readyState?ae(t,"load",(function(){setTimeout((function(){e()}),0)}),!1):e())}((function(){e.on("init",(function(){n(e,t)}))}))}var Ft=function(e,t,n,i){void 0===i&&(i=Ht);var r=t.config(),o=r.plugins,s=r.pluginBundle,a=e.filter((function(e){return o[e]&&!t.destroyAgent.has(e)})),c=function(){return a.forEach((function(e){return Wt(t,e,n)}))};a.every((function(e){return Xt(e,n)}))?c():i(t,{name:s.name},c)},Vt=function(e,t,n,i){void 0===i&&(i=Ht);var r=t.config().plugins;e.filter((function(e){return r[e]&&!t.destroyAgent.has(e)})).forEach((function(e){Xt(e,n)?Wt(t,e,n):i(t,{name:e,config:r[e]},(function(){return Wt(t,e,n)}))}))},qt=function(e){return function(t,n){var r,o=e.config().pluginBundle;e.destroyAgent.has(t)&&e.destroyAgent.remove(t),void 0!==n&&e.set({plugins:i(i({},e.config().plugins),(r={},r[t]=n,r))}),o&&~o.plugins.indexOf(t)?Ft([t],e):Vt([t],e)}};function Kt(e,t,n){void 0===n&&(n=Ht);var i=e.config().pluginBundle,r=i?i.plugins:[];Ft(r,e,t,n),Vt(Mt,e,t,n),e.provide("reloadPlugin",qt(e))}function Ht(e,t,n,i){var r=t.name,o=t.config;void 0===i&&(i=le);var s=function(e,t,n){var i;return null!==(i=null==n?void 0:n.path)&&void 0!==i?i:e.config().pluginPathPrefix+"/"+z(t)+"."+kt+"."+Gt+"js"}(e,r,o);i(s,(function(){n()}))}function Wt(e,t,n){if(void 0===n&&(n=ie(K())),n){var i=Jt(n,t);if(i)try{if(e.destroyAgent.has(t))return;i.apply(e)}catch(e){re(e),D("[loader].applyPlugin failed",t,e)}else D("[loader].applyPlugin not found",t)}}function Jt(e,t){return e.plugins.filter((function(e){return e.name===t&&e.version===kt}))[0]}function Xt(e,t){return void 0===t&&(t=ie(K())),!(!t||!t.plugins||!Jt(t,e))}function $t(e,t,n){void 0===n&&(n=ie(K())),n&&n.plugins&&(Jt(n,e)||n.plugins.push({name:e,version:kt,apply:t}))}function Yt(e){var t,n;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(["userId","deviceId","sessionId","env"]),r=i.next();!r.done;r=i.next()){var o=r.value;e[o]||delete e[o]}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return e}function Zt(e){var t=e.plugins||{};for(var n in t)t[n]&&!l(t[n])&&(t[n]={});return Yt(i(i({},e),{plugins:t}))}function Qt(e){return l(e)&&"bid"in e}function en(e){return Yt(i({},e))}function tn(e){var t;if(!e)return{};var n=e.sample,i=e.plugins,r=e.timestamp,o=e.quota_rate,s=void 0===o?1:o,a=e.apdex;if(!n)return{};var c=n.sample_rate,u=n.sample_granularity,l=void 0===u?Pt:u,h=n.include_users,f=n.rules;return{sample:{include_users:h,sample_rate:c*s,sample_granularity:l,rules:(void 0===f?[]:f).reduce((function(e,t){var n=t.name,i=t.enable,r=t.sample_rate,o=t.conditional_sample_rules;return e[n]={enable:i,sample_rate:r,conditional_sample_rules:o},e}),{})},plugins:{heatmap:null!==(t=null==i?void 0:i.heatmap)&&void 0!==t&&t},apdex:a,serverTimestamp:r}}var nn=function(e,t){return void 0===t&&(t=Ct),(e&&e.indexOf("//")>=0?"":"https://")+e+t},rn=function(e,t){return void 0===t&&(t=Lt),(e&&e.indexOf("//")>=0?"":"https://")+e+t},on=function(){return P()},sn=function(e){var t=[];return e.observe=function(e){t.push(e)},e.push=function(){for(var n,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return i.forEach((function(e){t.forEach((function(t){return t(e)}))})),(n=[].push).call.apply(n,o([e],r(i),!1))},e},an=function(){var e,t,n,i=K(),r=H();if(i&&r)return(null===(n=null===(t=null===(e=$())||void 0===e?void 0:e.getAttribute("src"))||void 0===t?void 0:t.match(/globalName=(.+)$/))||void 0===n?void 0:n[1])||"Slardar"},cn=function(){var e=K(),t=an();if(e&&t)return e[t]},un=function(e){return Dt+e},ln=function(e,t){try{var n=localStorage.getItem(e);if(!n||!fe()||"{"!==n[0])return;de(e,JSON.parse(n),t)}catch(e){}},hn=function(e,t){void 0===e&&(e="");var n={userId:P(),deviceId:P()};if(t<=0)return n;var i=un(e);ln(i,t);var r=pe(i);return{userId:(null==r?void 0:r.userId)||n.userId,deviceId:(null==r?void 0:r.deviceId)||n.deviceId}},fn=function(e){void 0===e&&(e="");var t=un(e);return!!pe(t)},pn=function(e){var t=e.bid,n=e.userId,i=e.deviceId,r=e.storageExpires,o=un(t);de(o,{userId:n,deviceId:i},ge(r))},dn={get:function(){return this.__SLARDAR__REPALCE__HOLDER__}},gn=function(e){var t,n,r=e,o={},s=dn.get(),a=c,u=c;return{getConfig:function(){return r},setConfig:function(e){return o=i(i({},o),e||{}),l(),t||(t=e,r.useLocalConfig||!r.bid?(n={},a()):s?h():vn(r.transport,r.domain,r.bid,(function(e){s=e,h()}))),r},onChange:function(e){u=e},onReady:function(e){a=function(){pn(r),e()},n&&a()}};function l(){var t=i(i(i({},e),n||{}),o);t.plugins=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},i=0;i<e.length;)n=_(n,e[i++]);return n}(e.plugins,(null==n?void 0:n.plugins)||{},o.plugins||{}),t.sample=mn(mn(e.sample,null==n?void 0:n.sample),o.sample),r=t,u()}function h(){n=tn(s),l(),a()}};function vn(e,t,n,i){e.get({withCredentials:!0,url:rn(t)+"?bid="+n+"&store=1",success:function(e){i(e.data||{})},fail:function(){i({sample:{sample_rate:.001}})}})}function mn(e,t){if(!e||!t)return e||t;var n=i(i({},e),t);return n.include_users=o(o([],r(e.include_users||[]),!1),r(t.include_users||[]),!1),n.rules=o(o([],r(Object.keys(e.rules||{})),!1),r(Object.keys(t.rules||{})),!1).reduce((function(n,s){var a,c;return s in n||(s in(e.rules||{})&&s in(t.rules||{})?(n[s]=i(i({},e.rules[s]),t.rules[s]),n[s].conditional_sample_rules=o(o([],r(e.rules[s].conditional_sample_rules||[]),!1),r(t.rules[s].conditional_sample_rules||[]),!1)):n[s]=(null===(a=e.rules)||void 0===a?void 0:a[s])||(null===(c=t.rules)||void 0===c?void 0:c[s])),n}),{}),n}var _n,yn={build:function(e){return{ev_type:e.ev_type,payload:e.payload,common:i(i({},e.extra||{}),e.overrides||{})}}},bn=function(e,t){var n=t||{},r=n.pid,o=void 0===r?"":r,s=n.viewId,a=void 0===s?"":s,c={url:Q(),timestamp:q(),sdk_version:kt,sdk_name:Rt,pid:o,view_id:a};return i(i({},e),{extra:i(i({},c),e.extra||{})})},En=function(e){e.on("report",(function(t){return bn(t,e.config())}))},Sn={sri:"reportSri",st:"reportResourceError",err:"captureException",reject:"captureException"},zn=function(e){return Object.keys(e).reduce((function(e,t){return e[t]=[],e}),{})},wn=function(e){return Object.keys(e).reduce((function(t,n){return t[e[n]]?t[e[n]].push(n):t[e[n]]=[n],t}),{})},An=function(e,t,n){return function(r,o,s,a){var c;void 0===s&&(s=q()),void 0===a&&(a=location.href);var u=i(i({},oe(e)),{url:a,timestamp:s});t[r]&&(e[n[r]]?se(e,u)((function(){e[n[r]](o)})):null===(c=t[r])||void 0===c||c.push([o,u]))}},Tn=function(e,t,n){return function(i){i in n&&n[i].forEach((function(n){var o;null===(o=t[n])||void 0===o||o.forEach((function(t){var n=r(t,2),o=n[0],s=n[1];se(e,s)((function(){e[i](o)}))})),t[n]=null}))}},On=function(e,t){return"err"===t?!1!==S(e,"plugins."+et+".onerror",(function(e,t){return e[t]})):"reject"!==t||!1!==S(e,"plugins."+et+".onunhandledrejection",(function(e,t){return e[t]}))},kn=function(e,t){var n;void 0===t&&(t=Sn);var i=zn(t),o=wn(t),s=An(e,i,t);(null===(n=e.p)||void 0===n?void 0:n.a)&&"observe"in e.p.a&&e.p.a.observe((function(t){var n=r(t,5);n[0];var i=n[1],o=n[2],a=n[3],c=n[4],u=e.config();On(u,i)&&s(i,o,a,c)})),e.on("init",(function(){var t,n=e.config();null===(t=e.p)||void 0===t||t.a.forEach((function(e){var t=r(e,5);t[0];var i=t[1],o=t[2],a=t[3],c=t[4];On(n,i)&&s(i,o,a,c)})),e.p&&e.p.a&&(e.p.a.length=0),e.provide("precollect",(function(e,t,i,r){void 0===i&&(i=q()),void 0===r&&(r=location.href),On(n,e)&&s(e,t,i,r)}))})),e.on("provide",Tn(e,i,o))},Rn=function(e){var t,n,o=r(e,2),s=o[0],a=o[1];return{ev_type:Oe,payload:{error:(t=s,n=t,"[object ErrorEvent]"===Object.prototype.toString.call(n)?function(e){var t=Qe(e.error);if(!t)return t;var n=e.colno,i=e.lineno,r=e.filename;return n&&!t.colno&&(t.colno=String(n)),i&&!t.lineno&&(t.lineno=String(i)),r&&!t.filename&&(t.filename=r),t}(t):function(e){return"[object PromiseRejectionEvent]"===Object.prototype.toString.call(e)}(t)?function(e){var t;try{var n=void 0;if("reason"in e?n=e.reason:"detail"in e&&"reason"in e.detail&&(n=e.detail.reason),n){var r=Qe(n);return i(i({},r),{name:null!==(t=r&&r.name)&&void 0!==t?t:"UnhandledRejection"})}}catch(e){}}(t):Qe(t)),breadcrumbs:[],extra:a||{}},extra:{bid:"slardar_sdk"}}},Ln=function(e,t){void 0===t&&(t=.001);var n=ie(K());n&&(n.errors||(n.errors=[]),"observe"in n.errors||x(t)&&(n.errors=sn(n.errors),n.errors.forEach((function(t){e.report(Rn(t))})),n.errors.observe((function(t){e.report(Rn(t))}))))},Cn=function(e){var t,n=!1;e.on("init",(function(){t=(new Date).getTime(),e.on("config",(function(){var r,o=null===(r=e.config())||void 0===r?void 0:r.serverTimestamp;if(!(isNaN(o)||Number(o)<=0||n)){n=!0;var s=(new Date).getTime();if(s-t<700&&o){var a=o-(s+t)/2;!isNaN(a)&&(a>0||a<-6e5)&&e.on("beforeBuild",(function(e){var t;return i(i({},e),{extra:i(i({},null!==(t=e.extra)&&void 0!==t?t:{}),{sdk_offset:null!=a?a:0})})}))}}}))}))},Dn=function(e,t){var n={};return n.bid=t.bid,n.user_id=t.userId,n.device_id=t.deviceId,n.session_id=t.sessionId,n.release=t.release,n.env=t.env,i(i({},e),{extra:i(i({},n),e.extra||{})})},xn=function(e){e.on("beforeBuild",(function(t){return Dn(t,e.config())}))},In=function(e){e.on("start",(function(){var t=e.config().bid,n=e.getSender();n.setEndpoint(n.getEndpoint()+"?biz_id="+t)}))},Nn=function(e){var t=ge(e.storageExpires),n=hn(e.bid,t);return{bid:"",pid:"",viewId:st("_"),userId:n.userId,deviceId:n.deviceId,storageExpires:t,sessionId:on(),domain:At,pluginBundle:{name:"commonMonitors",plugins:["breadcrumb","jsError","performance","resourceError","resource"]},pluginPathPrefix:Ot,plugins:{ajax:{ignoreUrls:Nt},fetch:{ignoreUrls:Nt},breadcrumb:{},pageview:{},jsError:{},resource:{},resourceError:{},performance:{},tti:{},fmp:{},blankScreen:!1,heatmap:!1},release:"",env:"production",sample:jt,transport:zt()}},Pn=function(e){var t=void 0===e?{}:e,n=t.createSender,s=void 0===n?function(e){return wt({size:Ut,endpoint:nn(e.domain),transport:e.transport})}:n,c=t.builder,u=void 0===c?yn:c,h=t.createDefaultConfig,f=function(e){var t,n,i=e.builder,s=e.createSender,c=e.createDefaultConfig,u=e.createConfigManager,h=e.userConfigNormalizer,f=e.initConfigNormalizer,p=e.validateInitConfig,d={};a.forEach((function(e){return d[e]=[]}));var g=!1,v=!1,m=!1,_=[],y=[],S=function(){var e=!1,t={},n=function(e){e.length&&e.forEach((function(e){try{e()}catch(e){}})),e.length=0},i=function(e){t[e]&&t[e].forEach((function(e){n(e[1])})),t[e]=void 0};return{set:function(i,r,o){t[i]?t[i].push([r,o]):t[i]=[[r,o]],e&&n(o)},has:function(e){return!!t[e]},remove:i,removeByEvType:function(e){Object.keys(t).forEach((function(i){t[i]&&t[i].forEach((function(t){t[0]===e&&n(t[1])}))}))},clear:function(){e=!0,Object.keys(t).forEach((function(e){i(e)}))}}}(),z={getBuilder:function(){return i},getSender:function(){return t},getPreStartQueue:function(){return _},init:function(e){if(g)D("already inited");else{if(!(e&&l(e)&&p(e)))throw new Error("invalid InitConfig, init failed");var i=c(e);if(!i)throw new Error("defaultConfig missing");var r=f(e);if((n=u(i)).setConfig(r),n.onChange((function(){w("config")})),!(t=s(n.getConfig())))throw new Error("sender missing");g=!0,w("init",!0)}},set:function(e){g&&e&&l(e)&&(w("beforeConfig",!1,e),null==n||n.setConfig(e))},config:function(e){if(g)return e&&l(e)&&(w("beforeConfig",!1,e),null==n||n.setConfig(h(e))),null==n?void 0:n.getConfig()},provide:function(e,t){b(y,e)?D("cannot provide "+e+", reserved"):(z[e]=t,w("provide",!1,e))},start:function(){var e=this;g&&(v||null==n||n.onReady((function(){v=!0,w("start",!0),_.forEach((function(t){return e.build(t)})),_.length=0})))},report:function(e){if(e){var t=N(d.beforeReport)(e);if(t){var n=N(d.report)(t);n&&(v?this.build(n):_.push(n))}}},build:function(e){if(v){var t=N(d.beforeBuild)(e);if(t){var n=i.build(t);if(n){var r=N(d.build)(n);r&&this.send(r)}}}},send:function(e){if(v){var n=N(d.beforeSend)(e);n&&(t.send(n),w("send",!1,n))}},destroy:function(){S.clear(),m=!0,_.length=0,w("beforeDestroy",!0)},on:function(e,t){if("init"===e&&g||"start"===e&&v||"beforeDestroy"===e&&m)try{t()}catch(e){}else d[e]&&d[e].push(t)},off:function(e,t){d[e]&&(d[e]=E(d[e],t))},destroyAgent:S};return y=Object.keys(z),z;function w(e,t){void 0===t&&(t=!1);for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];d[e].forEach((function(e){try{e.apply(void 0,o([],r(n),!1))}catch(e){}})),t&&(d[e].length=0)}}({validateInitConfig:Qt,initConfigNormalizer:Zt,userConfigNormalizer:en,createSender:s,builder:u,createDefaultConfig:void 0===h?Nn:h,createConfigManager:gn});Ln(f),function(e){var t=function(){var e={},t={},n={set:function(i,r){return e[i]=r,t[i]=A(r),n},merge:function(r){return e=i(i({},e),r),Object.keys(r).forEach((function(e){t[e]=A(r[e])})),n},delete:function(i){return delete e[i],delete t[i],n},clear:function(){return e={},t={},n},get:function(e){return t[e]},toString:function(){return i({},t)}};return n}();e.provide("context",t),e.on("report",(function(e){return e.extra||(e.extra={}),e.extra.context=t.toString(),e}))}(f);var p=ie(K());!function(e,t){var n=t||{},i={};e.provide("setFilter",(function(e,t){i[e]||(i[e]=[]),i[e].push(t)})),e.provide("initSubject",(function(t){var o=r(t,2),s=o[0],a=o[1],c=function(e){return e.split("_")[0]}(s),u=!!c&&i[c];return n[s]||(n[s]=U(a,(function(){n[s]=void 0}))),u?V(e,[s,G(n[s],u)]):n[s]})),e.provide("getSubject",(function(e){return n[e]})),e.provide("privateSubject",{})}(f,p&&p.subject),Cn(f),xn(f),En(f),function(e){var t=function(){var e=function(){if(K()&&"navigator"in window)return window.navigator}();if(e)return e.connection||e.mozConnection||e.webkitConnection}(),n=_t(t);t&&(t.onchange=function(){n=_t(t)}),e.on("report",(function(e){return i(i({},e),{extra:i(i({},e.extra||{}),{network_type:n})})}))}(f),In(f);var g=function(e,t,n){var i={},s=function(){for(var n,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var u=a[0];if(u){var l=u.split(".")[0];if(!(l in s)){var h=i[l]||[],f=null!==(n=null==t?void 0:t(e))&&void 0!==n?n:{};return h.push(o([f],r(a),!1)),void(i[l]=h)}return function(e,t,n){return S(e,t,(function(e,t){if(e&&t in e&&d(e[t]))try{return e[t].apply(e,n)}catch(e){return}}))}(s,u,[].slice.call(a,1))}};for(var a in T(e,"provide",(function(t){return function(n,i){s[n]=i,t.call(e,n,i)}}))(),e)Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return e.on("provide",(function(t){i[t]&&(i[t].forEach((function(t){var i=r(t),o=i[0],s=i.slice(1);null==n||n(e,o,s)})),i[t]=null)})),s}(f,oe,(function(e,t,n){return se(e,t)((function(){var e=r(n),t=e[0],i=e.slice(1);f[t].apply(f,o([],r(i),!1))}))}));return function(e,t){e.on("init",(function(){var n=[],i=function(i){i.forEach((function(i){var r=i.name;b(n,r)||(n.push(r),i.setup(e),t&&t(r,i.setup),e.destroyAgent.set(r,r,[function(){n=E(n,r),i.tearDown&&i.tearDown()}]))}))};e.provide("applyIntegrations",i);var r=e.config();r&&r.integrations&&i(r.integrations)}))}(g,$t),g},Mn=((_n={})[vt]=function(e){e.on("init",(function(){var t,n=null===(t=e.config())||void 0===t?void 0:t.plugins[vt];!function(e,t){var n,o=he(t,mt);if(o&&W()){var s=o.routeMode,a=o.apdex,u=e.report.bind(e),l=c;if(a){var h=[],f=r(function(e,t,n,i){var o,s,a,c=r(n,2),u=c[0],l=c[1],h=2===i.apdex,f=void 0,p=void 0,d=void 0,g=!1,v=r(dt(),4),m=v[0],_=v[1],y=v[2],b=v[3],E=r(dt(),4),S=E[0],z=E[1],w=E[2],A=E[3],T=r((o={start:q(),end:0,time_spent:0,is_bounced:!1,entry:"",exit:"",p_count:0,a_count:0},[function(e,t){var n=r(e,3),i=n[0],s=n[1],a=n[2];o.end=q(),o.time_spent+=t&&t.time_spent||0,o.last_page=t,o.p_count+=1,o.rank=i,o.apdex=s,o.apdex_detail=a;var c=H();c&&(o.is_bounced=!function(e){return"complete"===e.readyState}(c))},function(e,t){o.time_spent+=e.time_spent,o.p_count+=1,o.exit=t},function(){o.a_count+=1},function(e){o.entry=e,o.exit=e},function(){return o}]),5),O=T[0],k=T[1],R=T[2],L=T[3],C=T[4],D=r((s=0,a=void 0,[function(e){if(e){if(!a)return;s+=q()-a,a=void 0}else a=q()},function(){a&&(s+=q()-a);var e=s;return s=0,a=q(),e}]),2),x=D[0],I=D[1];t.push(u[0](x)),!h&&t.push(l[0]((function(){if(g){var t=r(w(),2),n=t[0],i=t[1],o=ft(n,d);O([o,n,i],M()),e({ev_type:Te,payload:C()}),A()}})));var N=pt(m,_),P=pt(S,z),M=function(){var e=r(y(),2),t=e[0],n=e[1];return{start:f[0],pid:f[1],view_id:f[2],end:q(),time_spent:I(),apdex:t,rank:ft(t,d),detail:n}};return t.push((function(){g=!1})),[function(e,t){if(!f)return f=[q(),e,t],L(e),void(g=!(!d||!f));g&&(p=M(),k(p,e)),f=[q(),e,t],b()},function(e){g&&(h||(P(e,d),e.ev_type===Le&&R()),e.common.pid===f[1]&&N(e,d))},function(t){g&&(t.payload.last=p),e(t)},function(e){if(!e)return t.forEach((function(e){return e()})),void(t.length=0);g=!(!(d=e)||!f)}]}(e.report.bind(e),h,[F(e,nt),F(e,it)],o),4),p=f[0],d=f[1],g=f[2],v=f[3];u=g,l=p,e.on("send",d),h.push((function(){return e.off("send",d)})),e.on("start",(function(){v(e.config().apdex)})),B(e,vt,Te,h)}var m=[],_=r(gt(u,m,ct(s)?[]:[e.initSubject(rt),e.initSubject(ot)],i(i({},o),{initPid:null===(n=e.config())||void 0===n?void 0:n.pid,onPidUpdate:function(t){var n=st(t);l(t,n),e.set({pid:t,viewId:n,actionId:void 0})}})),1)[0];V(e,["f_view_0",ne(e)],-1);var y=function(){_(e.config().pid)};e.on("config",y),m.push((function(){return e.off("config",y)})),B(e,vt,Ae,m),e.provide("sendPageview",_)}}(e,n)}))},_n[Ge]=function(e){e.on("init",(function(){var t,n=null===(t=e.config())||void 0===t?void 0:t.plugins[Ge];!function(e,t){var n=he(t,Be);if(n){var r=[],o=i(i({},n),{setContextAtReq:function(){return te(e,!0)},setTraceHeader:xe(n.trace)}),s=function(){return F(e,we)};o.autoWrap&&je(r,[F(e,["xhr_0",be(XMLHttpRequest&&XMLHttpRequest.prototype)]),s],o),B(e,Ge,ke,r),e.provide("wrapXhr",(function(e){function t(){var t=new e;return je(r,[U(be(t)),s],o),t}return t.prototype=new e,["DONE","HEADERS_RECIEVED","LOADING","OPENED","UNSENT"].forEach((function(n){t[n]=e[n]})),t}))}}(e,n)}))},_n[$e]=function(e){e.on("init",(function(){var t,n=null===(t=e.config())||void 0===t?void 0:t.plugins[$e];!function(e,t){var n=he(t,Ye);if(n){var r=[],o=i(i({},n),{setContextAtReq:function(){return te(e,!0)},setTraceHeader:xe(n.trace)}),s=function(){return F(e,we)};o.autoWrap&&Fe(r,[F(e,Se),s],o),B(e,$e,ke,r),e.provide("wrapFetch",(function(e){var t=void 0;return Fe(r,[U((function(n){t=Ee(e,n)})),s],o),t}))}}(e,n)}))},_n),jn=function(e){void 0===e&&(e={});var t=Pn(e);return function(e){e.on("start",(function(){var t=e.config(),n=function(e,t,n,i,r){if(!t)return u;var o=t.sample_rate,s=t.include_users,a=t.sample_granularity,c=t.rules,l=t.r,h=void 0===l?Math.random():l;if(b(s,e))return function(e){return yt(e,1)};var f="session"===a,p=bt(f,o,n,h,i),d=function(e,t,n,i,r,o){var s={};return Object.keys(e).forEach((function(a){var c=e[a],u=c.enable,l=c.sample_rate,h=c.conditional_sample_rules;u?(s[a]={enable:u,sample_rate:l,effectiveSampleRate:l*n,hit:bt(t,l,i,r,o)},h&&(s[a].conditional_hit_rules=h.map((function(e){var s=e.sample_rate,a=e.filter;return{sample_rate:s,hit:bt(t,s,i,r,o),effectiveSampleRate:s*n,filter:a}})))):s[a]={enable:u,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}})),s}(c,f,o,n,h,i);return function(e){var t;if(!p())return f&&r[0](),!1;if(!(e.ev_type in d))return yt(e,o);if(!d[e.ev_type].enable)return f&&r[1](e.ev_type),!1;if(null===(t=e.common)||void 0===t?void 0:t.sample_rate)return e;var n=d[e.ev_type],i=n.conditional_hit_rules;if(i)for(var s=0;s<i.length;s++)if(Et(e,i[s].filter))return!!i[s].hit()&&yt(e,i[s].effectiveSampleRate);return n.hit()?yt(e,n.effectiveSampleRate):((!i||!i.length)&&f&&r[1](e.ev_type),!1)}}(t.userId,t.sample,x,I,[function(){e.destroy()},function(t){e.destroyAgent.removeByEvType(t)}]);e.on("build",n)}))}(t),kn(t),function(e){e.provide("sendEvent",(function(t){var n=function(e){if(e&&l(e)&&e.name&&v(e.name)){var t={name:e.name,type:"event"};if("metrics"in e&&l(e.metrics)){var n=e.metrics,i={};for(var r in n)g(n[r])&&(i[r]=n[r]);t.metrics=i}if("categories"in e&&l(e.categories)){var o=e.categories,s={};for(var r in o)s[r]=A(o[r]);t.categories=s}return"attached_log"in e&&v(e.attached_log)&&(t.attached_log=e.attached_log),t}}(t);n&&e.report({ev_type:Re,payload:n,extra:{timestamp:q()}})})),e.provide("sendLog",(function(t){var n=function(e){if(e&&l(e)&&e.content&&v(e.content)){var t={content:A(e.content),type:"log",level:"info"};if("level"in e&&(t.level=e.level),"extra"in e&&l(e.extra)){var n=e.extra,i={},r={};for(var o in n)g(n[o])?i[o]=n[o]:r[o]=A(n[o]);t.metrics=i,t.categories=r}return"attached_log"in e&&v(e.attached_log)&&(t.attached_log=e.attached_log),t}}(t);n&&e.report({ev_type:Re,payload:n,extra:{timestamp:q()}})}))}(t),Object.keys(Mn).forEach((function(e){$t(e,Mn[e]),Mn[e](t)})),Bt(t),t.provide("create",jn),t},Un="precollect",Gn=3e5,Bn=jn(),Fn=K();Fn&&function(e,t){if("addEventListener"in e){t.pcErr=function(n){var i=(n=n||e.event).target||n.srcElement||{};i instanceof Element||i instanceof HTMLElement?t(Un,"st",{tagName:i.tagName,url:i.getAttribute("href")||i.getAttribute("src")}):t(Un,"err",n.error)},t.pcRej=function(n){n=n||e.event,t(Un,"reject",n.reason||n.detail&&n.detail.reason)};var n=[];n.push(ae(e,"error",t.pcErr,!0)),n.push(ae(e,"unhandledrejection",t.pcRej,!0)),setTimeout((function(){n.forEach((function(e){return e()}))}),Gn)}"PerformanceObserver"in e&&"PerformanceLongTaskTiming"in e&&(t.pp={entries:[]},t.pp.observer=new PerformanceObserver((function(e){t.pp.entries=t.pp.entries.concat(e.getEntries())})),t.pp.observer.observe({entryTypes:["longtask"]}),setTimeout((function(){t.pp.observer.disconnect()}),Gn))}(Fn,Bn)},999:(e,t,n)=>{n.r(t),n.d(t,{Collector:()=>De,default:()=>xe});var i=function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e}var s,a,c,u,l=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,(function i(r){t(r),n.off(e,i)}))},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length)if(t){var n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1)}else this._hooks[e]=[]},e.prototype.emit=function(e,t,n){if(n){if(!e)return;-1!==this._cache.indexOf(n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t))}else this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&o(this._hooks[e]).forEach((function(e){try{e(t)}catch(e){}}))},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),h=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},f=function(e){return Array.isArray(e)},p=(s=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return s+=1}),d=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof n){var i,r=[];n=n<=25?n:n%25;var o=String.fromCharCode(n+97);i=e.split(o);for(var s=0;s<i.length;s++){var a=parseInt(i[s],n);a=1*a^64;var c=String.fromCharCode(a);r.push(c)}return r.join("")}}(e,0,25)},g=function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)},v=function(){var e=0;return["hidden","msHidden","webkitHidden"].forEach((function(t){void 0!==document[t]&&(e=1)})),e},m=function(e){var t=document.createElement("a");return t.href=e,t},_=function(e){var t={};try{var n=m(e).search;if(!n)return t;(n=n.slice(1)).split("&").forEach((function(e){var n,i,r=e.split("=");r.length&&(n=r[0],i=r[1]);try{t[n]=decodeURIComponent(void 0===i?"":i)}catch(e){t[n]=i}}))}catch(e){}return t},y=function(e){for(var t=0,n=0,i=(e+="").length,r=0;r<i;r++)((t=31*t+e.charCodeAt(n++))>0x7fffffffffff||t<-0x800000000000)&&(t&=0xffffffffffff);return t<0&&(t+=0x7ffffffffffff),t},b=(function(e){var t;t=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,!0!==o[c]&&(a+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(a[0]);if(c=(i.read||i)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(r[u]=c,e===u)break}catch(e){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return s(e,!1)},r.getJSON=function(e){return s(e,!0)},r.remove=function(t,n){o(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))},e.exports=t()}(a={exports:{}}),a.exports),E=function(e,t){try{return e?b.get(e,{domain:t||document.domain}):b.get()}catch(e){return""}},S=function(e,t,n,i){try{var r=i||document.domain,o=+new Date+(n||6048e5);b.set(e,t,{expires:new Date(o),path:"/",domain:r})}catch(e){}},z=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return E(e,t)},e.prototype.setCookie=function(e,t,n,i){S(e,t,n,i)},e}(),w={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return E(e,t)},setCookie:function(e,t,n,i){S(e,t,n,i)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},A={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return E(e,t)},setCookie:function(e,t,n,i){S(e,t,n,i)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},T=function(){function e(e,t){this._storage=t&&"session"===t?A:!e&&w.isSupportLS?w:new z}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,i){this._storage.setCookie(e,t,n,i)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),O=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,n=document.referrer,i=n?m(n).hostname:"",r=_(window.location.href),o=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(e,t,n,i){var r=new T(!1),o=new T(!1,"session"),s=e?"_tea_utm_cache_"+e:"_tea_utm_cache",a=e?"_$utm_from_url_"+e:"_$utm_from_url",c={},u=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],l={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var h=!1;for(var f in l)l[f]&&(-1!==u.indexOf(f)?(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data[f]=l[f]):c[f]=l[f],h=!0);if(h)o.setItem(a,"1"),r.setCookie(s,JSON.stringify(c),i,n);else{var p=r.getCookie(s,n);p&&(c=JSON.parse(p))}o.getItem(a)&&(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data.$utm_from_url=1)}catch(e){return l}return c}(this.appid,r,this.domain,this.cookie_expire);var s=this.browser(),a=this.os();return{browser:s.browser,browser_version:s.browser_version,platform:o,os_name:a.os_name,os_version:a.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(a.os_name),language:t,referrer:n,referrer_host:i,utm:this.utm,latest_data:this.last(n,i)}},e.prototype.last=function(e,t){var n="",i="",r="",o=location.hostname,s=!1;if(e&&t&&o!==t){n=e,i=t,s=!0;var a=_(e);a.keyword&&(r=a.keyword)}return{$latest_referrer:n,$latest_referrer_host:i,$latest_search_keyword:r,isLast:s}},e.prototype.browser=function(){var e,t,n="",i=""+parseFloat(this.appVersion),r=this.userAgent;return-1!==r.indexOf("Edge")||-1!==r.indexOf("Edg")?(n="Microsoft Edge",-1!==r.indexOf("Edge")?(e=r.indexOf("Edge"),i=r.substring(e+5)):(e=r.indexOf("Edg"),i=r.substring(e+4))):-1!==(e=r.indexOf("MSIE"))?(n="Microsoft Internet Explorer",i=r.substring(e+5)):-1!==(e=r.indexOf("MetaSr"))?(n="sougoubrowser",i=r.substring(e+7,e+10)):-1!==r.indexOf("MQQBrowser")||-1!==r.indexOf("QQBrowser")?(n="qqbrowser",-1!==r.indexOf("MQQBrowser")?(e=r.indexOf("MQQBrowser"),i=r.substring(e+11,e+15)):-1!==r.indexOf("QQBrowser")&&(e=r.indexOf("QQBrowser"),i=r.substring(e+10,e+25))):-1!==r.indexOf("Chrome")?-1!==(e=r.indexOf("MicroMessenger"))?(n="weixin",i=r.substring(e+15,e+20)):-1!==(e=r.indexOf("360"))?(n="360browser",i=r.substring(r.indexOf("Chrome")+7)):-1!==r.indexOf("baidubrowser")||-1!==r.indexOf("BIDUBrowser")?(-1!==r.indexOf("baidubrowser")?(e=r.indexOf("baidubrowser"),i=r.substring(e+13,e+16)):-1!==r.indexOf("BIDUBrowser")&&(e=r.indexOf("BIDUBrowser"),i=r.substring(e+12,e+15)),n="baidubrowser"):-1!==(e=r.indexOf("xiaomi"))?-1!==r.indexOf("openlanguagexiaomi")?(n="openlanguage xiaomi",i=r.substring(e+7,e+13)):(n="xiaomi",i=r.substring(e-7,e-1)):-1!==(e=r.indexOf("TTWebView"))?(n="TTWebView",i=r.substring(e+10,e+23)):(-1!==(e=r.indexOf("Chrome"))||-1!==(e=r.indexOf("Chrome")))&&(n="Chrome",i=r.substring(e+7)):-1!==r.indexOf("Safari")?-1!==(e=r.indexOf("QQ"))?(n="qqbrowser",i=r.substring(e+10,e+16)):-1!==(e=r.indexOf("Safari"))&&(n="Safari",i=r.substring(e+7),-1!==(e=r.indexOf("Version"))&&(i=r.substring(e+8))):-1!==(e=r.indexOf("Firefox"))?(n="Firefox",i=r.substring(e+8)):-1!==(e=r.indexOf("MicroMessenger"))?(n="weixin",i=r.substring(e+15,e+20)):-1!==(e=r.indexOf("QQ"))&&(n="qqbrowser",i=r.substring(e+3,e+8)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(")"))&&(i=i.substring(0,t)),{browser:n,browser_version:i}},e.prototype.os=function(){for(var e="",t="",n=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"chromeOS",r:/CrOS/},{s:"Linux",r:/(Linux|X11)/},{s:"Sun OS",r:/SunOS/}],i=0;i<n.length;i++){var r=n[i];if(r.r.test(this.userAgent)){"Mac OS X"===(e=r.s)&&this.isNewIpad()&&(e="iOS");break}}var o,s,a=function(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""},c=function(e,t){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return n?n.slice(1)[0]:""};switch(/Windows/.test(e)&&(t=a(/Windows (.*)/,e),e="windows"),e){case"Mac OS X":t=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),e="mac";break;case"Android":(s=a(/Android ([\.\_\d]+)/,o=this.userAgent))||(s=a(/Android\/([\.\_\d]+)/,o)),t=s,e="android";break;case"iOS":t=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(t=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?t[1]+"."+t[2]+"."+(0|t[3]):"",e="ios";break;case"chromeOS":var u=this.userAgent.indexOf("x86_64");t=this.userAgent.substring(u+7,u+16)}return{os_name:e,os_version:t}},e.prototype.getDeviceModel=function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach((function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))}));else if("ios"===e||"mac"===e||"windows"===e)if(this.isNewIpad())t="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),i=n.indexOf(";");t=n.slice(0,i)}}catch(e){return t.trim()}return t.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),k={cn:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},R={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az28z1gz1hz1gz1cz18z1nz1gz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},L="5.1.25",C=(d("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z1cz1bz1gz22z1mz20z49z20z18z1lz1ez1cz20z21z4az1hz21"),d("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z18z19z49z1az1mz20z1cz4az1hz21"),d("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z18z19z49z1jz1mz18z1bz1cz20z4az1hz21"),d("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz1fz1cz18z22z1kz18z1nz49z1az1mz20z1c"),d("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1bz18z22z18z4az24z1mz1jz1az1az1bz1lz4az1az1mz1kz4bz1mz19z1hz4bz1bz18z22z18z49z21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz22z1cz21z22z1cz20z49z1cz24z1cz1lz22z49z1gz1lz21z1nz1cz1az22z1mz20"),function(){function e(e,t){this.collector=e,this.config=t,this.eventNameWhiteList=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure"],this.paramsNameWhiteList=["$inactive","$inline","$target_uuid_list","$source_uuid","$is_spider","$source_id","$is_first_time","_staging_flag"],this.regStr=new RegExp("^[a-zA-Z0-9][a-z0-9A-Z_.-]{1,255}$")}return e.prototype.checkVerify=function(e){var t=this;if(!e||!e.length)return!1;var n=e[0];if(!n)return!1;var i=n.events,r=n.header;if(!i||!i.length)return!1;var o=!0;return i.forEach((function(e){if(!e)return o=!1,void(e.checkEvent="事件异常");t.checkEventName(e.event)||(o=!1,e.checkEvent="事件名不能以 $ or __开头"),t.checkEventParams(e.params)||(o=!1,e.checkParams="属性名不能以 $ or __开头")})),this.checkEventParams(r)||(o=!1),o},e.prototype.checkEventName=function(e){return!!e&&this.calculate(e,"event")},e.prototype.checkEventParams=function(e){var t=e;if("string"==typeof e&&(t=JSON.parse(t)),!Object.keys(t).length)return!0;for(var n in t)return!(!this.calculate(n,"params")||"string"==typeof t[n]&&t[n].length>1024&&(console.warn("params: "+n+" can not over 1024 byte, please check;"),1));return!0},e.prototype.calculate=function(e,t){return-1!==("event"===t?this.eventNameWhiteList:this.paramsNameWhiteList).indexOf(e)||!new RegExp("^\\$").test(e)&&!new RegExp("^__").test(e)||(console.warn(("event"===t?"event":"params")+" name: "+e+" can not start with $ or __, pleace check;"),!1)},e}());!function(e){e.Init="init",e.Config="config",e.Start="start",e.Ready="ready",e.UnReady="un-ready",e.TokenComplete="token-complete",e.TokenStorage="token-storage",e.TokenFetch="token-fetch",e.TokenError="token-error",e.ConfigUuid="config-uuid",e.ConfigWebId="config-webid",e.ConfigDomain="config-domain",e.CustomWebId="custom-webid",e.TokenChange="token-change",e.TokenReset="token-reset",e.ConfigTransform="config-transform",e.EnvTransform="env-transform",e.SessionReset="session-reset",e.SessionResetTime="session-reset-time",e.SetSessionId="set-session-id",e.Event="event",e.Events="events",e.EventNow="event-now",e.CleanEvents="clean-events",e.BeconEvent="becon-event",e.SubmitBefore="submit-before",e.SubmitScuess="submit-scuess",e.SubmitAfter="submit-after",e.SubmitError="submit-error",e.SubmitVerify="submit-verify",e.Stay="stay",e.ResetStay="reset-stay",e.StayReady="stay-ready",e.SetStay="set-stay",e.RouteChange="route-change",e.RouteReady="route-ready",e.Ab="ab",e.AbVar="ab-var",e.AbAllVars="ab-all-vars",e.AbConfig="ab-config",e.AbExternalVersion="ab-external-version",e.AbVersionChangeOn="ab-version-change-on",e.AbVersionChangeOff="ab-version-change-off",e.AbOpenLayer="ab-open-layer",e.AbCloseLayer="ab-close-layer",e.AbReady="ab-ready",e.AbComplete="ab-complete",e.AbTimeout="ab-timeout",e.Profile="profile",e.ProfileSet="profile-set",e.ProfileSetOnce="profile-set-once",e.ProfileUnset="profile-unset",e.ProfileIncrement="profile-increment",e.ProfileAppend="profile-append",e.ProfileClear="profile-clear",e.Autotrack="autotrack",e.AutotrackReady="autotrack-ready",e.CepReady="cep-ready",e.TracerReady="tracer-ready",e.sessionRecord="session-record",e.SessionRecordStart="session-record-start",e.SessionRecordPause="session-record-pause",e.SessionRecordEnd="session-record-end",e.SessionRecordReport="session-record-report",e.DestoryInstance="destory-instance",e.VisualCollectReady="visual-collect-ready",e.VisualApiReady="visual-api-ready",e.VisualApiUpdate="visual-api-update"}(c||(c={})),function(e){e.DEBUGGER_MESSAGE="debugger-message",e.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",e.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",e.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",e.DEBUGGER_MESSAGE_EVENT="debugger-message-event",e.DEVTOOL_WEB_READY="devtool-web-ready"}(u||(u={}));var D,x=c,I=void 0,N=(new Date).getTimezoneOffset(),P=parseInt(""+-N/60,10),M=60*N,j=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var n=new O(t.app_id,t.cookie_domain||"",t.cookie_expire||7776e6).init();this.eventCheck=new C(e,t);var i="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new T(!1,"session"),this.localStorage=new T(!1,"local"),t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var r=this.localStorage.getItem(i);r&&1==r?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(i,"1")),this.envInfo={user:{user_unique_id:I,user_type:I,user_id:I,user_is_auth:I,user_is_login:I,device_id:I,web_id:I,ip_addr_id:I,user_unique_id_type:I},header:{app_id:I,app_name:I,app_install_id:I,install_id:I,app_package:I,app_channel:I,app_version:I,ab_version:I,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:I,traffic_type:I,client_ip:I,device_brand:I,os_api:I,access:I,language:n.language,region:I,app_language:I,app_region:I,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:I,rnd:I,platform:n.platform,sdk_version:L,sdk_lib:"js",province:I,city:I,timezone:P,tz_offset:M,tz_name:I,sim_region:I,carrier:I,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:JSON.stringify(n.utm.tracer_data),custom:{},wechat_unionid:I,wechat_openid:I}},this.ab_version="",this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(){var e=this.initConfig.channel_domain;if(e)this.domain=e;else{var t=this.initConfig.channel;this.domain=d(R[t])}},e.prototype.setDomain=function(e){this.domain=e},e.prototype.getDomain=function(){return this.domain},e.prototype.initABData=function(){var e="__tea_sdk_ab_version_"+this.initConfig.app_id,t=null;if(this.initConfig.ab_cross){var n=this.localStorage.getCookie(e,this.initConfig.ab_cookie_domain);t=n?JSON.parse(n):null}else t=this.localStorage.getItem(e);this.setAbCache(t)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.clearAbCache=function(){this.ab_version="",this.ab_cache={}},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t="/list";break;case"webid":t="/webid";break;case"tobid":t="/tobid"}var n="";return this.initConfig.caller&&(n="?sdk_version="+L+"&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+n},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.set=function(e){var t=this;Object.keys(e).forEach((function(n){void 0!==e[n]&&null!==e[n]||t.delete(n);try{t.eventCheck.calculate(n,"config")}catch(e){}if("traffic_type"===n&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[n]),"evtParams"===n)t.evtParams=i(i({},t.evtParams||{}),e.evtParams||{});else if("_staging_flag"===n)t.evtParams=i(i({},t.evtParams||{}),{_staging_flag:e._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof e[n])t.reportErrorCallback=e[n];else{var r="",o="";if(n.indexOf(".")>-1){var s=n.split(".");r=s[0],o=s[1]}r?"user"===r||"header"===r?t.envInfo[r][o]=e[n]:t.envInfo.header.custom[o]=e[n]:Object.hasOwnProperty.call(t.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?Number(e[n]):e[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?String(e[n]):e[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?t.envInfo.user[n]=Boolean(e[n]):"device_id"===n&&(t.envInfo.user[n]=e[n]):Object.hasOwnProperty.call(t.envInfo.header,n)?t.envInfo.header[n]=e[n]:t.envInfo.header.custom[n]=e[n]}}))},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&Object.keys(e).length){var n=Object.assign(e,t);this.storage.setItem(this.configKey,n)}}catch(e){console.log("setStore error"),this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message}),console.log("delete error")}},e}(),U=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[AppLog WEB SDK] [instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("[AppLog WEB SDK] [instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("[AppLog WEB SDK] [instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),new Error(e)},e}(),G=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Sogou News Spider","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t=window.navigator.userAgent;if(!t)return!0;var n=!1;return this.spiderBot.forEach((function(e){-1!==t.indexOf(e)&&(n=!0)})),n},e}(),B=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise((function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted((function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):n(!1)})):n(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),n(!1)}}))},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach((function(n){"user_unique_id"===n?t.setUserUniqueId(e[n]):e[n]?t.addHeaderInfo(n,e[n]):t.removeHeaderInfo(n)}))}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge埋点上报",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),F=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},V=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new T(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSessionTimeCheck=t.disable_session_check,this.disableSession||(this.setSessionId(),this.collect.on(x.SessionReset,(function(e){n.resetSessionId(e)})),this.collect.on(x.SessionResetTime,(function(){n.updateSessionIdTime()})))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:F(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:F(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.disableSessionTimeCheck||(this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.resetSessionId=function(e){var t={sessionId:e||F(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,t)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:F(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),q=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.eventCheck=new C(e,t),this.cacheStorgae=new T(!0),this.localStorage=new T(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||t.report_time||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=t.report_url||this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.pageId=F(),this.collect.on(x.Ready,(function(){n.reportAll(!1)})),this.collect.on(x.ConfigDomain,(function(){n.reportUrl=n.configManager.getUrl("event")})),this.collect.on(x.Event,(function(e){n.event(e)})),this.collect.on(x.BeconEvent,(function(e){n.beconEvent(e)})),this.collect.on(x.CleanEvents,(function(){n.reportAll(!1)}));var i=this.linster();this.collect.on(x.DestoryInstance,(function(){i&&i()}))},e.prototype.linster=function(){var e=this,t=function(){e.reportAll(!0)};window.addEventListener("unload",t,!1),g(t);var n=function(){"hidden"===document.visibilityState&&e.reportAll(!0)};return document.addEventListener("visibilitychange",n,!1),function(){window.removeEventListener("unload",t),window.removeEventListener("pagehide",t,!1),window.removeEventListener("beforeunload",t,!1),document.removeEventListener("visibilitychange",n,!1)}},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{if(this.collect.destroy)return;if(this.collect.sdkStop)return;var n=o(e,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var i=this.reportTime;this.reportTimeout=setTimeout((function(){t.report(!1),t.reportTimeout=null}),i)}}catch(e){this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e){if(!this.collect.destroy&&!this.collect.sdkStop){var t=o(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))}},e.prototype.reportBecon=function(){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))}},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){var i;i=e.slice(n,n+this.eventLimit);var r=this.split(this.merge(i));this.send(r,t)}else r=this.split(this.merge(e)),this.send(r,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.merge=function(e,t){var n=this,r=this.configManager.get(),o=r.header,s=r.user;this.config.enable_pageid&&(o.custom.page_id=this.pageId),o.referrer=this.handleRefer(),o.custom=JSON.stringify(o.custom);var a=this.configManager.get("evtParams"),c=this.configManager.get("user_unique_id_type"),l=e.map((function(e){try{Object.keys(a).length&&!t&&(e.params=i(i({},a),e.params)),c&&(e.params.$user_unique_id_type=c);var r=n.configManager.getAbCache(),o=s[n.config.ab_user_mode]||s.user_unique_id;return r&&r.uuid&&r.uuid===o&&n.configManager.getAbVersion()&&(e.ab_sdk_version=n.configManager.getAbVersion()),e.session_id=n.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(t){return n.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message}),e}})),h=JSON.parse(JSON.stringify({events:l,user:s,header:o}));h.local_time=Math.floor(Date.now()/1e3),h.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,h.verbose=1;var f=[];return f.push(h),f},e.prototype.split=function(e){return e.map((function(e){var t=[];return t.push(e),t}))},e.prototype.send=function(e,t){var n=this;e.length&&(this.config.disable_track_event||e.forEach((function(e){try{var i=JSON.parse(JSON.stringify(e));n.config.filter&&((i=n.config.filter(i))||console.warn("filter must return data !!")),n.collect.eventFilter&&i&&((i=n.collect.eventFilter(i))||console.warn("filterEvent api must return data !!"));var r=i||e,o=JSON.parse(JSON.stringify(r));if(n.eventCheck.checkVerify(o),!r.length)return;var s=!0;if(r.forEach((function(e){e.events.length||(s=!1)})),!s)return;n.collect.emit(x.SubmitBefore,r),n.collect.requestManager.useRequest({url:n.reportUrl,data:r,success:function(e,t){e&&0!==e.e?(n.collect.emit(x.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),n.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_EVENT,info:"埋点上报失败",time:Date.now(),data:o,code:e.e,failType:"数据异常失败",status:"fail"})):(n.collect.emit(x.SubmitScuess,{eventData:t,res:e}),n.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_EVENT,info:"埋点上报成功",time:Date.now(),data:o,code:200,status:"success"}))},fail:function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(x.SubmitError,{type:"f_net",eventData:e,errorCode:t}),n.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_EVENT,info:"埋点上报网络异常",time:Date.now(),data:o,code:t,failType:"网络异常失败",status:"fail"})},timeout:n.timeout,useBeacon:t,withCredentials:n.enable_ttwebid}),n.collect.emit(x.SubmitAfter,r)}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),n.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message})}})))},e}(),K=function(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}().replace(/-/g,"").slice(0,19)},H=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new T(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(x.ConfigUuid,(function(e){n.setUuid(e)})),this.collect.on(x.ConfigWebId,(function(e){n.setWebId(e)})),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;if(this.enableCookie){var t=this.storage.getCookie(this.tokenKey,this.cookieDomain);this.cacheToken=t&&"string"==typeof t?JSON.parse(t):{}}else this.cacheToken=this.storage.getItem(this.tokenKey)||{};this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(x.CustomWebId,(function(){e.tokenReady=!0,e.collect.emit(x.TokenComplete)})):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:K(),user_unique_id:this.configManager.get("user_unique_id")||K()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram")){var t=_(window.location.href);return!(!t||!t.Web_ID||(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),0))}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 发起WEBID请求",logType:"fetch",level:"info",time:Date.now(),data:n}),this.collect.requestManager.useRequest({url:t,data:n,success:function(t){var n;if(t&&0===t.e)n=t.web_id,e.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"WEBID请求成功",logType:"fetch",level:"info",time:Date.now(),data:t});else{var i=K();n=i,e.collect.configManager.set({localWebId:i}),e.collect.emit(x.TokenError),e.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"WEBID请求返回值异常",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")}e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n})},fail:function(){var t=K();e.complete({web_id:e.configManager.get("web_id")||t,user_unique_id:e.configManager.get("user_unique_id")||t}),e.collect.configManager.set({localWebId:t}),e.collect.emit(x.TokenError),e.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"WEBID请求网络异常",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")},timeout:3e5})},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(x.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(x.TokenComplete)},e.prototype.setUuid=function(e){if(e&&-1===["null","undefined","Null","None"].indexOf(e)){var t=String(e),n=this.configManager.get("user_unique_id"),i=this.cacheToken&&this.cacheToken.user_unique_id;if(t===n&&t===i)return;this.configManager.set({user_unique_id:t}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(x.TokenChange,"uuid"),this.collect.emit(x.SessionReset)}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&this.configManager.get("user_unique_id")!==this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(x.TokenReset,"uuid"))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now();var t=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(x.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(x.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.enableCookie||this.enable_ttwebid?(this.storage.setCookie(this.tokenKey,e,this.expiresTime,this.cookieDomain),this.enable_ttwebid&&(delete e.web_id,this.storage.setItem(this.tokenKey,e))):this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this;return new Promise((function(t){e.collect.requestManager.useRequest({url:e.configManager.getUrl("tobid"),data:{app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")},success:function(e){e&&0===e.e?t(e.tobid):t("")},fail:function(){t("")},time:3e4,withCredentials:e.enable_ttwebid})}))},e}(),W=function(){function e(e,t){this.collector=e,this.config=t,this.requestType=t.request_type||"xhr",this.supportBeacon=!(!window.navigator||!window.navigator.sendBeacon),this.errorCode={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001,TIMEOUT:5005},this.customHeader=t.custom_request_header||{}}return e.prototype.useFetch=function(e){var t=e.url,n=e.data,i=e.method,r=e.success,o=e.fail,s={"Content-Type":"application/json; charset=utf-8"};if(Object.keys(this.customHeader).length)for(var a in this.customHeader)s[a]=this.customHeader[a];window.fetch?fetch(t,{method:i||"POST",headers:s,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){r&&r(e)})).catch((function(e){o&&o(n,e)})):(this.requestType="xhr",console.log("your brwoser not support fetch, use xhr"),this.useRequest({url:t,data:n,method:i,success:r,fail:o}))},e.prototype.useBeacon=function(e){var t=e.url,n=e.data,i=e.success,r=e.fail;window.navigator.sendBeacon(t,JSON.stringify(n))?i&&i():r&&r(n,this.errorCode.BEACON_FALSE)},e.prototype.useRequest=function(e){var t=this,n=e.url,i=e.data,r=e.method,o=e.success,s=e.fail,a=e.timeout,c=e.useBeacon,u=e.withCredentials,l=e.app_key,h=e.forceXhr;if(c&&this.supportBeacon)this.useBeacon({url:n,data:i,method:r,success:o,fail:s});else if("fetch"!==this.requestType||h)try{var f=new XMLHttpRequest,p=r||"POST";if(f.open(p,""+n,!0),f.setRequestHeader("Content-Type","application/json; charset=utf-8"),l&&f.setRequestHeader("X-MCS-AppKey",""+l),Object.keys(this.customHeader).length)for(var d in this.customHeader)f.setRequestHeader(d,this.customHeader[d]);u&&(f.withCredentials=!0),a&&(f.timeout=a,f.ontimeout=function(){s&&s(i,t.errorCode.TIMEOUT)}),f.onload=function(){if(o){var e=null;if(f.responseText){try{e=JSON.parse(f.responseText)}catch(t){e={}}o(e,i)}}},f.onerror=function(){f.abort(),s&&s(i,t.errorCode.XHR_ON)},f.send(JSON.stringify(i))}catch(e){}else this.useFetch({url:n,data:i,method:r,success:o,fail:s})},e}(),J=function(){function e(e,t){if(this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,this.eventVerifyReady=!1,t.enable_debug){var n=e.adapters.storage;this.collect=e,this.config=t,this.app_id=t.app_id,this.cacheStorgae=new n(!1,"session"),this.eventVerifyInfo=[],this.sdk_type=L.includes("tob")?"tob":"inner",this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],this.load()}}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.parseUrl=function(){var e={};try{var t=window.location.href.split("?")[1].split("&");t.length&&t.forEach((function(t){var n=t.split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}))}catch(e){}return e},e.prototype.load=function(){try{var e=this.parseUrl();if(e.open_devtool_web&&e.app_id){if(parseInt(e.app_id)!==this.app_id)return}else if(!this.getStorage())return;this.loadBaseInfo(),this.loadHook(),this.setStorage(),this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(e){console.log("debug fail, "+e.message)}},e.prototype.getStorage=function(){var e=this.cacheStorgae.getItem("__applog_devtool_web");return e&&parseInt(e)===this.app_id},e.prototype.setStorage=function(){this.cacheStorgae.setItem("__applog_devtool_web",this.app_id)},e.prototype.loadDevTool=function(){this.loadScript(d("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz1bz1cz24z22z1mz1mz1jz4b")+"debug-web.v1.0.1.js")},e.prototype.loadBaseInfo=function(){var e=this;this.info=[{title:"基本信息",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,上报域名:this.collect.configManager.getDomain(),SDK版本:L,SDK引入方式:"npm"}},{title:"用户信息",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"点击获取SSID"}},{title:"公共参数信息",type:2,infoName:{浏览器:this.collect.configManager.get("browser"),浏览器版本:this.collect.configManager.get("browser_version"),平台:this.collect.configManager.get("platform"),设备型号:this.collect.configManager.get("device_model"),操作系统:this.collect.configManager.get("os_name"),操作系统版本:this.collect.configManager.get("os_version"),屏幕分辨率:this.collect.configManager.get("resolution"),来源:this.collect.configManager.get("referrer"),自定义信息:""}},{title:"配置信息",type:3,infoName:{全埋点:!!this.config.autotrack,停留时长:!!this.config.enable_stay_duration}},{title:"A/B配置信息",type:4,infoName:{"A/B实验":!!this.config.enable_ab_test}},{title:"客户端信息",type:3,infoName:{打通开关:!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(x.Ready,(function(){e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id,e.info[2].infoName["自定义信息"]=JSON.stringify(e.collect.configManager.get("custom")),e.config.enable_ab_test&&(e.info[4].infoName["已曝光VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["A/B域名"]=e.config.ab_channel_domain||d(k[e.config.channel]),e.info[4].infoName["全部配置"]=e.collect.configManager.getAbData()),e.config.Native&&(e.info[5].infoName["是否打通"]=!!e.collect.bridgeReport)}))},e.prototype.loadHook=function(){var e=this;this.collect.on(u.DEBUGGER_MESSAGE,(function(t){switch(t.type){case u.DEBUGGER_MESSAGE_SDK:var n={time:t.time,type:t.logType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(n.desc={content:JSON.stringify(t.data)}),e.updateLog(n),t.secType&&"AB"===t.secType?(e.info[4].infoName["已曝光VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["全部配置"]=e.collect.configManager.getAbData()):"USER"===t.secType&&(e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id),void e.updateInfo();case u.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var i=t.data[0],r=i.events;if(!r.length)return;r.forEach((function(n){n.checkShow=!0,n.searchShow=!0,n.success=t.status,n.type=-1!==e.filterEvent.indexOf(n.event)?"sdk":"cus",n.type=e.collect.bridgeReport?"bridge":n.type,n.info="","fail"===t.status&&(n.info={message:"code: "+t.code+"， msg: "+t.failType})})),e.updateEvent(i)}return}}))},e.prototype.formatParamsType=function(e){switch(e){case 0:return"string";case 1:case 2:return"number";case 3:return"boolean"}},e.prototype.fetchEventInfo=function(){var e=this;try{return new Promise((function(t){var n=d("1fz22z22z1nz21z4mz4bz4bz18z1nz1nz1jz1mz1ez1fz1mz1kz1cz4az19z27z22z1cz1bz18z1lz1az1cz4az1lz1cz22z4bz18z1nz1nz1jz1mz1ez1bz1cz24z22z1mz1mz1jz21z4bz1mz1nz1cz1lz18z1nz1gz4bz24z4dz4bz18z1nz1nz16z1jz1mz1ez16z1kz1cz22z18")+"?app_id="+e.app_id+"&t="+e.sdk_type+"&nc=false";e.collect.requestManager.useRequest({url:n,method:"GET",success:function(n){e.eventVerifyReady=!0,e.collect.reStart(),t({data:n.data,verifyStatus:!0})},fail:function(){e.eventVerifyReady=!0,e.collect.reStart(),t({data:[],verifyStatus:!1})},timeout:3e3})}))}catch(e){return{data:[],verifyStatus:!1}}},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",(function(t){if(t.origin===location.origin){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event,appid:e.app_id}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken((function(t){e.info[1].infoName.ssid=t.tobid,e.updateInfo()}))}}))},e.prototype.sendData=function(e,t){try{var n={type:e,payload:t};window&&window.postMessage(n,this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady||this.eventVerifyReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e="#debugger-applog-web {\n      position: fixed;\n      width: 50px;\n      height: 50px;\n      background-image: url("+d("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz1bz1cz24z22z1mz1mz1jz4bz18z1nz1nz1jz1mz1ez4az1nz1lz1e")+");\n      bottom: 5%;\n      right: 10%;\n      cursor: pointer;\n      z-index:100;\n      background-size: 50px;\n    }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.appendChild(document.createTextNode(e)),t.appendChild(n);var i=document.createElement("div");i.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web"></div>';var r=document.createElement("div");r.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(i),document.getElementsByTagName("body")[0].appendChild(r),document.getElementById("debugger-applog-web").addEventListener("click",(function(){window&&window.postMessage({type:"devtool:web:open-draw"},location.origin)}))},e}(),X={autotrack:{src:{cn:d("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz18z23z22z1mz22z20z18z1az1iz4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{cn:d("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz18z19z4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{cn:d("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz21z22z18z27z4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{cn:d("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz20z1mz23z22z1cz4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},cep:{src:{cn:d("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz1az1cz1nz4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/cep.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/cep.js"},object:"LogCep"},tracer:{src:{cn:d("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz22z20z18z1az1cz20z4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},retry:{src:{cn:d("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz20z1cz22z20z27z4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/retry.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/retry.js"},object:"LogRetry"},visual:{src:{cn:d("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz24z1gz21z23z18z1jz4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},$=["ab","autotrack","Stay","store","et","profile","cep","heartbeat","monitor","route","tracer"],Y=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroy=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.sdkStop=!1,this.name=e,this.hook=new l,this.remotePlugin=new Map,this.Types=x,this.adapters.storage=T,this.loadType="full"}return e.usePlugin=function(t,n,i){if(n){for(var r=!1,o=0,s=e.plugins.length;o<s;o++)if(e.plugins[o].name===n){e.plugins[o].plugin=t,e.plugins[o].options=i||{},r=!0;break}r||e.plugins.push({name:n,plugin:t,options:i})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&("full"===this.loadType&&$.includes(e)?console.info("your sdk version has "+e+" plugin already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var n,i=this;this.logger=new U(this.name,t.log),this.inited?this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!"):t&&h(t)?t.app_id&&"number"==typeof(n=t.app_id)&&!isNaN(n)?!t.app_key||function(e){return"string"==typeof e}(t.app_key)?(t.channel_domain||-1!==["cn","sg","va"].indexOf(t.channel)||(this.logger.warn("channel must be `cn`, `sg`,`va` !"),t.channel="cn"),this.spider=new G,this.spider.checkSpider(t)?this.logger.warn("your env may be a spider, can not report!"):(this.appBridge=new B(this,t.enable_native),this.requestManager=new W(this,t),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new j(this,t),this.debugger=new J(this,t),this.initConfig=t,this.emit(x.Init),this.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 执行INIT",data:t,level:"info",time:Date.now()}),this.destroy=!1,t.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.set({app_id:t.app_id}),this.eventManager=new q,this.tokenManager=new H,this.sessionManager=new V,Promise.all([new Promise((function(e){i.once(x.TokenComplete,(function(){e(!0)}))})),new Promise((function(e){i.once(x.Start,(function(){e(!0)}))}))]).then((function(){try{e.plugins.reduce((function(e,t){var n=t.plugin,r=t.options,o=Object.assign(i.initConfig,r),s=new n;return s.apply(i,o),e.push(s),e}),i.pluginInstances)}catch(e){console.warn("load plugin error, "+e.message),i.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message})}i.sdkReady=!0,i.emit(x.Ready),i.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 初始化完成",time:Date.now(),level:"info",data:i.configManager.get("user")}),i.logger.info("appid: "+t.app_id+", userInfo:"+JSON.stringify(i.configManager.get("user"))),i.logger.info("appid: "+t.app_id+", sdk is ready, version type is "+i.loadType+", version is "+L+", you can report now !!!"),t.disable_auto_pv&&(i.disableAutoPageView=!0);try{"full"===i.loadType&&(t.enable_ab_test||t.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){i.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message})}i.pageView(),i.on(x.TokenChange,(function(e){"webid"===e&&i.pageView(),i.logger.info("appid: "+t.app_id+" token change, new userInfo:"+JSON.stringify(i.configManager.get("user"))),i.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 设置了用户信息",time:Date.now(),secType:"USER",level:"info",data:i.configManager.get("user")})})),i.on(x.TokenReset,(function(){i.logger.info("appid: "+t.app_id+" token reset, new userInfo:"+JSON.stringify(i.configManager.get("user"))),i.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 重置了用户信息",time:Date.now(),secType:"USER",level:"info",data:i.configManager.get("user")})})),i.on(x.RouteChange,(function(e){e.init||t.disable_route_report||i.pageView()}))})),this.tokenManager.apply(this,t),this.eventManager.apply(this,t),this.sessionManager.apply(this,t)),this.inited=!0)):this.logger.warn("app_key param is error, must be string, please check!"):this.logger.warn("app_id param is error, must be number, please check!"):this.logger.warn("init params error,please check!")},e.prototype.config=function(e){if(this.inited)if(e&&h(e))if(this.bridgeReport)this.appBridge.setConfig(e);else{e._staging_flag&&1===e._staging_flag&&(this.staging=!0),e.disable_auto_pv&&(this.disableAutoPageView=!0,delete e.disable_auto_pv);var t=i({},e),n=this.initConfig.configPersist||this.initConfig.config_persist||!1;if(this.initConfig&&n){var r=this.configManager.getStore();r&&(t=Object.assign(r,e)),this.configManager.setStore(e)}t.web_id,t.user_unique_id;var o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]])}return n}(t,["web_id","user_unique_id"]);this.configManager.set(o),t.hasOwnProperty("web_id")&&this.emit(x.ConfigWebId,t.web_id),t.hasOwnProperty("user_unique_id")&&this.emit(x.ConfigUuid,t.user_unique_id),this.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 执行CONFIG",level:"info",time:Date.now(),data:t})}else console.warn("config params is error, please check");else console.warn("config must be use after function init")},e.prototype.setUserUniqueID=function(e){this.config({user_unique_id:e})},e.prototype.setHeaderInfo=function(e,t){var n={};n[e]=t,this.config(n)},e.prototype.removeHeaderInfo=function(e){var t={};t[e]=void 0,this.config(t)},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(x.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.started=!0,this.emit(x.Start),this.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 执行START",level:"info",time:Date.now()}),this.bridgeReport&&(this.pageView(),this.emit(x.Ready)))},e.prototype.event=function(e,t){var n=this;try{var i=[];if(Array.isArray(e))e.forEach((function(e){var t=n.processEvent(e[0],e[1]||{});t&&i.push(t)}));else{var r=this.processEvent(e,t);if(!r)return;i.push(r)}this.bridgeReport?i.forEach((function(e){var t=e.event,i=e.params;n.appBridge.onEventV3(t,JSON.stringify(i))})):i.length&&(this.emit(x.Event,i),this.emit(x.SessionResetTime))}catch(e){this.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e,t){if(Array.isArray(e))console.warn("beconEvent not support batch report, please check");else{var n=[],i=this.processEvent(e,t||{});i&&(n.push(i),n.length&&(this.emit(x.BeconEvent,n),this.emit(x.SessionResetTime)))}},e.prototype.beaconEvent=function(e,t){this.beconEvent(e,t)},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return console.warn("eventName is null， please check"),null;var n=e;/^event\./.test(e)&&(n=e.slice(6));var i=t;"object"!=typeof i&&(i={}),i.profile?delete i.profile:i.event_index=p();var r=void 0;return i.local_ms?(r=i.local_ms,delete i.local_ms):r=+new Date,{event:n,params:i,local_time_ms:r,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:n.message}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.stop=function(){this.sdkStop=!0},e.prototype.reStart=function(){this.sdkStop=!1},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=i(i({},t),e);this.event("predefine_pageview",n)}else console.warn("predefinePageView must be use after function init")},e.prototype.clearEventCache=function(){this.emit(x.CleanEvents)},e.prototype.setWebIDviaUnionID=function(e){if(e){var t=y(e);this.config({web_id:""+t,wechat_unionid:e}),this.emit(x.CustomWebId)}},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setWebIDviaOpenID=function(e){if(e){var t=y(e);this.config({web_id:""+t,wechat_openid:e}),this.emit(x.CustomWebId)}},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.getSessionId=function(){return F()},e.prototype.setSessionId=function(e){this.emit(x.SessionReset,e)},e.prototype.resetStayDuration=function(e,t,n){this.emit(x.ResetStay,{url_path:e,title:t,url:n},x.Stay)},e.prototype.resetStayParams=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.emit(x.SetStay,{url_path:e,title:t,url:n},x.Stay)},e.prototype.getToken=function(e,t){var n=this;if(this.inited){var r=!1,o=function(t){if(!r){r=!0;var o=n.configManager.get().user;return t&&(o.tobid=t,o["diss".split("").reverse().join("")]=t),e(i({},o))}},s=function(){n.tokenManager.getTobId().then((function(e){o(e)}))};this.sdkReady?s():(t&&setTimeout((function(){o()}),t),this.on(x.Ready,(function(){s()})))}else console.warn("getToken must be use after function init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(x.ProfileSet,e,x.Profile),this.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(x.ProfileSetOnce,e,x.Profile),this.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(x.ProfileIncrement,e,x.Profile),this.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(x.ProfileUnset,e,x.Profile),this.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(x.ProfileAppend,e,x.Profile),this.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 执行profileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(x.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,x.Ab)},e.prototype.getVar=function(e,t,n){this.emit(x.AbVar,{name:e,defaultValue:t,callback:n},x.Ab)},e.prototype.getABconfig=function(e,t){this.emit(x.AbConfig,{params:e,callback:t},x.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(x.AbVersionChangeOn,e,x.Ab),function(){t.emit(x.AbVersionChangeOff,e,x.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(x.AbVersionChangeOff,e,x.Ab)},e.prototype.openOverlayer=function(){this.emit(x.AbOpenLayer,"",x.Ab)},e.prototype.closeOverlayer=function(){this.emit(x.AbCloseLayer,"",x.Ab)},e.prototype.getAllVars=function(e){this.emit(x.AbAllVars,e,x.Ab)},e.prototype.destoryInstace=function(){this.destroy||(this.destroy=!0,this.off(x.TokenComplete),this.emit(x.DestoryInstance))},e.prototype.destroyInstance=function(){this.destroy||(this.destroy=!0,this.off(x.TokenComplete),this.emit(x.DestoryInstance))},e.plugins=[],e}(),Z="__rangers_ab_style__";!function(e){e[e.Var=0]="Var",e[e.All=1]="All"}(D||(D={}));var Q=function(){function e(){this.fetchStatus="no",this.refreshFetchStatus="complete",this.versions=[],this.extVersions=[],this.mulilinkVersions=[],this.enable_multilink=!1,this.enable_ab_visual=!1,this.editMode=!1,this.callbacks=[],this.data=null,this.changeListener=new Map,this.readyStatus=!1,this.exposureCache=[]}return e.prototype.apply=function(e,t){var n=this;if(t.enable_ab_test){this.collect=e,this.config=t;var i=t.enable_multilink,r=t.ab_channel_domain,o=t.enable_ab_visual,s=t.ab_cross,a=t.ab_cookie_domain,c=t.ab_timeout,u=r||d(k[t.channel||"cn"]),l=e.adapters.storage,h=this.collect.Types;this.types=h,this.cacheStorgae=new l(!1),this.timeout=c||3e3,this.enable_multilink=i,this.enable_ab_visual=o,this.abKey="__tea_sdk_ab_version_"+t.app_id,this.ab_cross=s,this.ab_cookie_domain=a||"",this.fetchUrl=u+"/service/2/abtest_config/",this.reportUrl=""+e.configManager.getUrl("event"),this.exposureLimit=t.exposure_limit||20,this.ab_batch_time=t.ab_batch_time||500,this.ab_user_mode=t.ab_user_mode||"user_unique_id",this.collect.on(h.TokenChange,(function(e){"uuid"===e&&n.readyStatus&&(n.clearCache(),n.fetchAB())})),this.collect.on(h.TokenReset,(function(e){"uuid"===e&&n.readyStatus&&(n.clearCache(),n.fetchAB())})),this.collect.on(h.AbVar,(function(e){var t=e.name,i=e.defaultValue,r=e.callback;n.getVar(t,i,r)})),this.collect.on(h.AbAllVars,(function(e){n.getAllVars(e)})),this.collect.on(h.AbConfig,(function(e){var t=e.params,i=e.callback;n.getABconfig(t,i)})),this.collect.on(h.AbExternalVersion,(function(e){n.setExternalAbVersion(e)})),this.collect.on(h.AbOpenLayer,(function(){n.openOverlayer()})),this.collect.on(h.AbCloseLayer,(function(){n.closeOverlayer()})),this.collect.on(h.AbVersionChangeOn,(function(e){n.changeListener.set(e,e)})),this.collect.on(h.AbVersionChangeOff,(function(e){n.changeListener.get(e)&&n.changeListener.delete(e)})),this.loadMode(),(this.enable_ab_visual||this.enable_multilink)&&this.openOverlayer(this.config.multilink_timeout_ms||500),this.checkLocal(),this.ready("ab"),this.readyStatus||(this.fetchAB(),this.readyStatus=!0),this.collect.emit(h.AbReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var i=function(e){n[e].length&&n[e].forEach((function(n){t.collect.hook.emit(e,n)}))};for(var r in n)i(r)}},e.prototype.loadMode=function(){var e=function(){try{return JSON.parse(atob(window.name))||void 0}catch(e){return}}(),t="";if(e){var n=e.scenario,i=e.href;n?(this.editMode=!0,t=n):!i||-1===i.indexOf("datatester")&&-1===i.indexOf("visual-editor")||(this.editMode=!0,t="visual-editor")}this.enable_ab_visual&&"visual-editor"===t&&this.collect.destoryInstace()},e.prototype.checkLocal=function(){var e=this.getABCache(),t=e.ab_version,n=e.ab_ext_version,i=e.ab_version_multilink,r=e.data,o=this.checkFromUrl();o?this.mulilinkVersions.push(o):this.mulilinkVersions=i||[],this.extVersions=n||[],this.versions=t||[],this.data=r;var s=this.versions.concat(this.extVersions);this.enable_multilink&&(s=s.concat(this.mulilinkVersions)),this.configVersions(s.join(","))},e.prototype.checkFromUrl=function(){var e=_(window.location.href);return e&&e.vid?e.vid:""},e.prototype.updateVersions=function(){var e=this.extVersions.length?this.versions.concat(this.extVersions):this.versions;this.enable_multilink&&(e=e.concat(this.mulilinkVersions)),this.configVersions(e.join(",")),this.updateABCache(),this.changeListener.size>0&&this.changeListener.forEach((function(t){"function"==typeof t&&t(e)}))},e.prototype.configVersions=function(e){this.collect.configManager.setAbVersion(e)},e.prototype.getVar=function(e,t,n){if(!e)throw new Error("variable must not be empty");if(void 0===t)throw new Error("variable no default value");if("function"!=typeof n)throw new Error("callback must be a function");var i={name:e,defaultValue:t,callback:n,type:D.Var};"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealVar(i,e):this.callbacks.push(i)},e.prototype.getRealVar=function(e,t){var n=e.name,i=e.defaultValue,r=e.callback,o=this.data;if(o){if(h(o[n])){var s=o[n].vid;return"$ab_url"===t?this.mulilinkVersions.includes(s)||this.mulilinkVersions.push(s):this.versions.includes(s)||this.versions.push(s),this.updateVersions(),this.fechEvent(s,t,i),r(o[n].val),void this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK 曝光了实验"+n,level:"info",time:Date.now(),data:o[n]})}this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK 调用getVar",level:"info",time:Date.now(),data:i}),r(i)}else r(i)},e.prototype.getAllVars=function(e){if("function"!=typeof e)throw new Error("callback must be a function");var t={callback:e,type:D.All};"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealAllVars(t):this.callbacks.push(t)},e.prototype.getRealAllVars=function(e){(0,e.callback)(this.data?JSON.parse(JSON.stringify(this.data)):{}),this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK 调用getAllVars",level:"info",time:Date.now(),data:this.data})},e.prototype.fechEvent=function(e,t,n){try{if(this.config.disable_track_event)return;if(!e)return;var i=this.collect.configManager.get(),r=i.header,o=i.user,s=this.getABCache(),a=o[this.ab_user_mode]||o.user_unique_id;if(s&&s.uuid&&s.uuid!==a)return;var c={event:"abtest_exposure",ab_sdk_version:""+e,params:JSON.stringify({app_id:this.config.appId,ab_url:"$ab_url"===t?n:window.location.href}),local_time_ms:Date.now()};r.custom=JSON.stringify(r.custom);var l={events:[c],user:o,header:r};this.reportExposure(l,t)}catch(e){this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message})}},e.prototype.reportExposure=function(e,t){var n=this;this.exposureCache.push(e),this.reportTimeout&&clearTimeout(this.reportTimeout),this.exposureCache.length>=this.exposureLimit?this.report(t):this.reportTimeout=setTimeout((function(){n.report(t),clearTimeout(n.reportTimeout)}),this.ab_batch_time)},e.prototype.report=function(e){var t=this;this.collect.requestManager.useRequest({url:this.reportUrl,data:this.exposureCache,timeout:2e4,useBeacon:"$ab_url"===e}),this.exposureCache.forEach((function(e){t.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_EVENT,info:"埋点上报成功",time:Date.now(),data:[e],code:200,status:"success"})})),this.exposureCache=[]},e.prototype.setExternalAbVersion=function(e){this.extVersions=[e],this.updateVersions()},e.prototype.getABconfig=function(e,t){var n=Object.keys(e);n&&n.length&&this.collect.configManager.set(e),this.fetchAB(t)},e.prototype.get=function(e){if(this.ab_cross){var t=this.cacheStorgae.getCookie(e,this.ab_cookie_domain);return t?JSON.parse(t):{}}return this.cacheStorgae.getItem(e)},e.prototype.set=function(e,t){this.ab_cross?this.cacheStorgae.setCookie(e,t,2592e6,this.ab_cookie_domain):this.cacheStorgae.setItem(e,t),this.collect.configManager.setAbCache(t)},e.prototype.getABCache=function(e){var t={ab_version:[],ab_ext_version:[],ab_version_multilink:[],data:null,timestamp:+new Date,uuid:""};return t=this.get(this.abKey)||t,e?t[e]:t},e.prototype.updateABCache=function(){var e=this.getABCache();e.ab_version_multilink=this.mulilinkVersions,e.ab_ext_version=this.extVersions,e.ab_version=this.versions,e.timestamp=Date.now(),this.set(this.abKey,e)},e.prototype.setAbCache=function(e){var t=this.getABCache();t.data=this.data,t.uuid=e,t.timestamp=Date.now(),this.set(this.abKey,t)},e.prototype.clearCache=function(){this.refreshFetchStatus="ing",this.data={},this.extVersions=[],this.mulilinkVersions=[],this.versions=[],this.collect.configManager.clearAbCache()},e.prototype.openOverlayer=function(e){var t=this;if(function(){if(!document.getElementById(Z)){var e="body { opacity: 0 !important; }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id=Z,n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}}(),e)var n=setTimeout((function(){t.closeOverlayer(),clearTimeout(n)}),e)},e.prototype.closeOverlayer=function(){var e;(e=document.getElementById(Z))&&e.parentElement.removeChild(e)},e.prototype.fetchComplete=function(e,t){var n=this;try{if(e&&"[object Object]"==Object.prototype.toString.call(e)){this.data=e,this.setAbCache(t);var i=[];Object.keys(e).forEach((function(t){var n=e[t].vid;n&&i.push(n)})),this.versions=this.versions.filter((function(e){return i.includes(e)}));var r=e.$ab_url,o=e.$ab_modification;if(o&&o.val&&this.enable_ab_visual){if(this.collect.destroy)return}else if(r&&this.enable_multilink){this.mulilinkVersions=this.mulilinkVersions.filter((function(e){return i.includes(e)}));var s=r.val,a=r.vid;s&&a&&this.getVar("$ab_url",s,(function(){n.editMode||(s!==window.location.href?setTimeout((function(){if(!n.collect.destroy){var e=""+s;e=-1===e.indexOf("http")?"https://"+e:e,m(e).host!==location.host?e=e+"&vid="+a:window.history.replaceState("","",e),window.location.href=e}}),100):n.closeOverlayer())}))}this.updateVersions()}else this.closeOverlayer();this.callbacks.forEach((function(e){return n[e.type===D.Var?"getRealVar":"getRealAllVars"](e,"")})),this.callbacks=[]}catch(e){}},e.prototype.fetchAB=function(e){var t=this,n=this.collect.configManager.get(),r={header:i(i(i({aid:this.config.app_id},n.user||{}),n.header||{}),{ab_sdk_version:this.collect.configManager.getAbVersion(),ab_url:window.location.href})};this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 发起AB实验请求",level:"info",logType:"fetch",time:Date.now(),data:r});var o=n.user[this.ab_user_mode]||n.user.user_unique_id;this.collect.requestManager.useRequest({url:this.fetchUrl,data:r,success:function(n){t.fetchStatus="complete",t.refreshFetchStatus="complete";var i=n.data;"success"===n.message?(t.fetchComplete(i,o),e&&e(i)):(t.fetchComplete(null,o),e&&e(null)),t.collect.emit(t.types.AbComplete,i),t.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"AB实验请求成功",level:"info",logType:"fetch",time:Date.now(),data:i})},fail:function(){t.fetchStatus="complete",t.refreshFetchStatus="complete",t.fetchComplete(null,o),t.collect.emit(t.types.AbTimeout),e&&e(null),t.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"AB实验请求网络异常",level:"error",logType:"fetch",time:Date.now()})},timeout:this.timeout})},e}(),ee=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;t.event_verify_url&&("string"==typeof t.event_verify_url?(this.url=t.event_verify_url+"/v1/list_test",e.on(e.Types.SubmitBefore,(function(t){e.requestManager.useBeacon({url:n.url,data:t})}))):console.log("please use correct et_test url"))},e}(),te=function(){function e(e,t){this.maxDuration=432e5,this.aliveDTime=6e4,this.options={aliveName:"predefine_page_alive",params:{}},this.focusState=!0,this.collect=e,this.config=t,this.pageStartTime=Date.now(),this.sessionStartTime=this.pageStartTime,this.timerHandler=null,h(t.enable_stay_duration)&&(this.options=Object.assign(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.focusState=document.hasFocus(),this.aliveDTime=this.options.aliveTime||6e4}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageAlive(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback(),this.pageStartTime=Date.now(),this.hard&&this.removeMode&&this.removeMode()},e.prototype.sendEvent=function(e,t){void 0===t&&(t=!1);var n=t?this.aliveDTime:Date.now()-this.sessionStartTime;n<0||n>this.aliveDTime||Date.now()-this.pageStartTime>this.maxDuration||t&&"hidden"===document.visibilityState||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.aliveName,i({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),duration:n,is_support_visibility_change:v(),startTime:this.sessionStartTime,hidden:document.visibilityState,leave:e,mode:this.hard?"hard":"normal",focusState:this.focusState},this.options.params)),this.sessionStartTime=Date.now())},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.setUpTimer=function(){var e=this;return this.timerHandler&&clearInterval(this.timerHandler),setInterval((function(){Date.now()-e.sessionStartTime>e.aliveDTime&&e.sendEvent(!1,!0)}),1e3)},e.prototype.visibilitychange=function(){"hidden"===document.visibilityState?this.timerHandler&&(clearInterval(this.timerHandler),this.sendEvent(!1)):"visible"===document.visibilityState&&(this.sessionStartTime=Date.now(),this.timerHandler=this.setUpTimer())},e.prototype.beforeunload=function(){document.hidden||this.sendEvent(!0)},e.prototype.enablePageAlive=function(){var e=this;this.timerHandler=this.setUpTimer();var t=this.visibilitychange.bind(this),n=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),window.addEventListener("pagehide",n),function(){e.beforeunload(),document.removeEventListener("visibilitychange",t),window.removeEventListener("pagehide",n)}},e.prototype.hardMode=function(){var e=this,t=function(){e.timerHandler&&(clearInterval(e.timerHandler),e.sendEvent(!1)),e.focusState=!1},n=function(){e.focusState=!0,e.sessionStartTime=Date.now(),e.timerHandler=e.setUpTimer()};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),ne=function(){function e(e,t){var n=this;this.maxDuration=432e5,this.aliveDTime=6e4,this.options={closeName:"predefine_page_close",params:{}},this.focusState=!0,this.visibilitychange=function(){"hidden"===document.visibilityState?n.activeEndTime=Date.now():"visible"===document.visibilityState&&(n.activeEndTime&&(n.totalTime+=n.activeEndTime-n.activeStartTime,n.activeTimes+=1),n.activeEndTime=void 0,n.activeStartTime=Date.now())},this.beforeunload=function(){if(n.totalTime+=(n.activeEndTime||Date.now())-n.activeStartTime,n.config.autotrack)try{window.sessionStorage.setItem("_tea_cache_duration",JSON.stringify({duration:n.totalTime,page_title:document.title||location.pathname}))}catch(e){}n.sendEventPageClose()},this.collect=e,this.config=t,this.maxDuration=t.maxDuration||t.max_duration||864e5,this.pageStartTime=Date.now(),h(t.enable_stay_duration)&&(this.options=Object.assign(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.focusState=document.hasFocus(),this.resetData()}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.resetParams=function(e,t,n){this.url_path=e,this.url=n,this.title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageClose(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback(),this.hard&&this.removeMode&&this.removeMode()},e.prototype.resetData=function(){this.activeStartTime=void 0===this.activeStartTime?this.pageStartTime:Date.now(),this.activeEndTime=void 0,this.activeTimes=1,this.totalTime=0,this.resetParams(location.pathname,document.title,location.href)},e.prototype.sendEventPageClose=function(){var e=Date.now()-this.pageStartTime;this.totalTime<0||e<0||this.totalTime>=this.maxDuration||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.closeName,i({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),active_times:this.activeTimes,duration:this.totalTime,total_duration:e,is_support_visibility_change:v(),mode:this.hard?"hard":"normal",focusState:this.focusState},this.options.params)),this.pageStartTime=Date.now(),this.resetData())},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.enablePageClose=function(){var e=this,t=this.visibilitychange.bind(this),n=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),window.addEventListener("pagehide",n),function(){e.beforeunload(),document.removeEventListener("visibilitychange",t),window.removeEventListener("pagehide",n)}},e.prototype.hardMode=function(){var e=this,t=function(){e.focusState=!1},n=function(){e.focusState=!0};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),ie=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,this.config.enable_stay_duration){this.title=document.title||location.pathname,this.url=location.href,this.url_path=location.pathname,this.pageAlive=new te(e,t),this.pageClose=new ne(e,t);var i=this.collect.Types;this.collect.on(i.DestoryInstance,(function(){n.disable()})),this.collect.on(i.ResetStay,(function(e){var t=e.url_path,i=e.title,r=e.url;n.resetStayDuration(t,i,r)})),this.collect.on(i.RouteChange,(function(e){e.init||t.disable_route_report||n.resetStayDuration()})),this.collect.on(i.SetStay,(function(e){var t=e.url_path,i=e.title,r=e.url;n.setStayParmas(t,i,r)})),this.enable(this.url_path,this.title,this.url),this.ready(i.Stay),this.collect.emit(i.StayReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var i=function(e){n[e].length&&n[e].forEach((function(n){t.collect.hook.emit(e,n)}))};for(var r in n)i(r)}},e.prototype.enable=function(e,t,n){this.pageAlive.enable(e,t,n),this.pageClose.enable(e,t,n)},e.prototype.disable=function(){this.pageAlive.disable(),this.pageClose.disable()},e.prototype.setStayParmas=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.pageAlive.setParams(e,t,n),this.pageClose.setParams(e,t,n),this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 执行 resetStayParams",level:"info",time:Date.now(),data:{url_path:e,title:t,url:n}})},e.prototype.reset=function(e,t,n){this.disable(),this.enable(e,t,n)},e.prototype.resetStayDuration=function(e,t,n){this.reset(e,t,n),this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"SDK 执行 resetStayDuration",level:"info",time:Date.now(),data:{url_path:e,title:t,url:n}})},e}(),re=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.duration=6e4,this.reportUrl=e.configManager.getDomain()+"/profile/list";var i=e.Types;this.eventCheck=new C(e,t),this.cache={},this.collect.on(i.ProfileSet,(function(e){n.setProfile(e)})),this.collect.on(i.ProfileSetOnce,(function(e){n.setOnceProfile(e)})),this.collect.on(i.ProfileUnset,(function(e){n.unsetProfile(e)})),this.collect.on(i.ProfileIncrement,(function(e){n.incrementProfile(e)})),this.collect.on(i.ProfileAppend,(function(e){n.appendProfile(e)})),this.collect.on(i.ProfileClear,(function(){n.cache={}})),this.ready(i.Profile)},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var i=function(e){n[e].length&&n[e].forEach((function(n){t.collect.hook.emit(e,n)}))};for(var r in n)i(r)}},e.prototype.report=function(e,t){void 0===t&&(t={});try{if(this.config.disable_track_event)return;var n=[];n.push(this.collect.processEvent(e,t));var i=this.collect.eventManager.merge(n);this.collect.requestManager.useRequest({url:this.reportUrl,data:i}),this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_EVENT,info:"埋点上报成功",time:Date.now(),data:i,code:200,status:"success"})}catch(e){this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message})}},e.prototype.setProfile=function(e){var t=this.formatParams(e);t&&Object.keys(t).length&&(this.pushCache(t),this.report("__profile_set",i(i({},t),{profile:!0})))},e.prototype.setOnceProfile=function(e){var t=this.formatParams(e,!0);t&&Object.keys(t).length&&(this.pushCache(t),this.report("__profile_set_once",i(i({},t),{profile:!0})))},e.prototype.incrementProfile=function(e){e?this.report("__profile_increment",i(i({},e),{profile:!0})):console.warn("please check the params, must be object!!!")},e.prototype.unsetProfile=function(e){if(e){var t={};t[e]="1",this.report("__profile_unset",i(i({},t),{profile:!0}))}else console.warn("please check the key, must be string!!!")},e.prototype.appendProfile=function(e){if(e){var t={};for(var n in e)"string"==typeof e[n]||"Array"===Object.prototype.toString.call(e[n]).slice(8,-1)?t[n]=e[n]:console.warn("please check the value of param: "+n+", must be string or array !!!");Object.keys(t).length&&this.report("__profile_append",i(i({},t),{profile:!0}))}else console.warn("please check the params, must be object!!!")},e.prototype.pushCache=function(e){var t=this;Object.keys(e).forEach((function(n){t.cache[n]={val:t.clone(e[n]),timestamp:Date.now()}}))},e.prototype.formatParams=function(e,t){var n=this;void 0===t&&(t=!1);try{if(!e||"[object Object]"!==Object.prototype.toString.call(e))return void console.warn("please check the params type, must be object !!!");var i={};for(var r in e)"string"==typeof e[r]||"number"==typeof e[r]||"Array"===Object.prototype.toString.call(e[r]).slice(8,-1)?i[r]=e[r]:console.warn("please check the value of params:"+r+", must be string,number,Array !!!");var o=Object.keys(i);if(!o.length)return;if(!this.eventCheck.checkEventParams(i))return;var s=Date.now();return o.filter((function(i){var r=n.cache[i];return t?!r:!(r&&n.compare(r.val,e[i])&&s-r.timestamp<n.duration)})).reduce((function(e,t){return e[t]=i[t],e}),{})}catch(e){this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message}),console.log("error")}},e.prototype.compare=function(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(e){return this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message}),!1}},e.prototype.clone=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message}),e}},e.prototype.unReady=function(){console.warn("sdk is not ready, please use this api after start")},e}(),oe=function(){function e(){var e=this;this.setInterval=function(){e.clearIntervalFunc=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=1e3);var n,i=Date.now()+t;return n=window.setTimeout((function r(){var o=Date.now()-i;e(),i+=t,n=window.setTimeout(r,Math.max(0,t-o))}),t),function(){window.clearTimeout(n)}}((function(){e.isSessionhasEvent&&e.endCurrentSession()}),e.sessionInterval)},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var i=this.collect.Types;this.collect.on(i.SessionResetTime,(function(){n.process()}))}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),se=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;t.channel_domain||t.disable_track_event||t.disable_sdk_monitor||(this.collect=e,this.config=t,this.url=e.configManager.getUrl("event"),this.collect.on(e.Types.Ready,(function(){n.sdkOnload()})),this.collect.on(e.Types.SubmitError,(function(e){var t=e.type,i=e.eventData,r=e.errorCode;"f_data"===t&&n.sdkError(i,r)})))},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,i=t.user,r=n.app_id,o=n.app_name,s=n.sdk_version,a=i.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:r,app_name:o||"",sdk_version:s,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC",url:location.href}),local_time_ms:Date.now()}],user:{user_unique_id:a},header:{}};setTimeout((function(){e.collect.requestManager.useRequest({url:e.url,data:[c],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})}),16)}catch(e){}},e.prototype.sdkError=function(e,t){var n=this;try{var i=e[0],r=i.user,o=i.header,s=[];e.forEach((function(e){e.events.forEach((function(e){s.push(e)}))}));var a={events:s.map((function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:o.app_id,app_name:o.app_name||"",error_event:e.event,sdk_version:o.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(o),user:JSON.stringify(r)}),local_time_ms:Date.now()}})),user:{user_unique_id:r.user_unique_id},header:{}};setTimeout((function(){n.collect.requestManager.useRequest({url:n.url,data:[a],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})}),16)}catch(e){}},e}();function ae(e,t,n){if(void 0===t&&(t="list"),!e)return!1;if(t&&"list"===t){if(["LI","TR","DL"].includes(e.nodeName))return!0;if(e.dataset&&e.dataset.hasOwnProperty("teaIdx"))return!0;if(e.hasAttribute&&e.hasAttribute("data-tea-idx"))return!0}else{if(["A","BUTTON"].includes(e.nodeName))return!0;if(e.dataset&&e.dataset.hasOwnProperty("teaContainer"))return!0;if(e.hasAttribute&&e.hasAttribute("data-tea-container"))return!0;if(n&&e.hasAttribute&&e.hasAttribute(n))return!0}return!1}var ce=function(e,t){return!!he(e,t)};function ue(e,t){for(var n=e;n&&!ae(n,"container",t.container_attr||"");){if("HTML"===n.nodeName||"BODY"===n.nodeName)return e;n=n.parentElement}return n||e}var le=function(e,t){return e.hasAttribute?e.hasAttribute(t):e.attributes?!(!e.attributes[t]||!e.attributes[t].specified):void 0},he=function(e,t){if("string"==typeof t)return le(e,t);if(f(t)){for(var n=!1,i=0;i<t.length;i++)if(le(e,t[i])){n=!0;break}return n}},fe=function(e,t){var n={};if("string"==typeof t)le(e,t)&&(n[t]=e.getAttribute(t));else if(f(t))for(var i=0;i<t.length;i++)le(e,t[i])&&(n[t[i]]=e.getAttribute(t[i]));return n},pe=function(){function e(e,t,n){var r=this;this.statistics=!1,this.pageView=!1,this.clickEvent=function(e){(function(e,t){if(window.innerHeight,window.innerWidth,1!==e.nodeType)return!1;if(!t.svg&&function(e){if("svg"===e.tagName.toLowerCase())return!0;for(var t=e.parentElement,n=!1;t;)"svg"===t.tagName.toLowerCase()?(t=null,n=!0):t=t.parentElement;return n}(e))return!1;if(["HTML","BODY"].includes(e.tagName.toUpperCase()))return!1;var n=e;return!("none"===n.style.display||!ae(n,"container",t.container_attr||"")&&!(function(e,t){for(var n=e;n&&!ae(n,"container",t.container_attr||"");){if("HTML"===n.nodeName||"BODY"===n.nodeName)return false;n=n.parentElement}return!0}(n,t)||function(e){if(e.children.length){var t=e.children;return![].slice.call(t).some((function(e){return e.children.length>0}))}return!0}(n)||t.svg))})(e.target,r.options)&&r.eventHandel({eventType:"dom",eventName:"click"},e)},this.changeEvent=function(e){r.eventHandel({eventType:"dom",eventName:"change"},e)},this.submitEvent=function(e){r.eventHandel({eventType:"dom",eventName:"submit"},e)},this.getPageViewEvent=function(e,t){t&&"pushState"===t&&r.eventHandel({eventType:"dom",eventName:"beat"},i({beat_type:0},e)),r.eventHandel({eventType:"dom",eventName:"page_view"},e)},this.getPageLoadEvent=function(e){r.eventHandel({eventType:"dom",eventName:"page_statistics"},{lcp:e})},this.config=n.getConfig().eventConfig,this.collect=t,this.options=e,this.beatTime=e.beat,this.domContainer=e.container||document}return e.prototype.init=function(e){this.eventHandel=e;var t=this.config.mode;this.addListener(t)},e.prototype.addListener=function(e){var t=this;if("proxy-capturing"===e){if(this.config.click&&(f(this.domContainer)?this.domContainer.forEach((function(e){e.addEventListener("click",t.clickEvent,!0)})):this.domContainer.addEventListener("click",this.clickEvent,!0)),this.config.pv){this.collect.on("route-change",(function(e){var n=e.config,i=e.name;t.getPageViewEvent(n,i),t.pageView=!0}));var n=setTimeout((function(){t.pageView||(t.getPageViewEvent(t.getDefaultConfig()),t.pageView=!0,clearTimeout(n))}),2e3)}if(this.config.beat){try{"complete"===document.readyState?this.beatEvent(this.beatTime):window.addEventListener("load",(function(){t.beatEvent(t.beatTime)}));var i=0,r=null;window.addEventListener("scroll",(function(){clearTimeout(r),r=setTimeout(o,500),i=document.documentElement.scrollTop||document.body.scrollTop}));var o=function(){(document.documentElement.scrollTop||document.body.scrollTop)==i&&t.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:1})}}catch(e){}try{var s=window.performance&&window.performance.getEntriesByType("paint");if(s&&s.length){new PerformanceObserver((function(e){var n=e.getEntries(),i=n[n.length-1],r=i.renderTime||i.loadTime;t.statistics||(t.getPageLoadEvent(r),t.statistics=!0)})).observe({entryTypes:["largest-contentful-paint"]});var a=setTimeout((function(){t.statistics||(t.getPageLoadEvent(s[0].startTime||0),t.statistics=!0,clearTimeout(a))}),2e3)}else this.getPageLoadEvent(0)}catch(e){this.getPageLoadEvent(0)}}}},e.prototype.removeListener=function(){var e=this;f(this.domContainer)?this.domContainer.forEach((function(t){t.removeEventListener("click",e.clickEvent,!0)})):this.domContainer.removeEventListener("click",this.clickEvent,!0)},e.prototype.beatEvent=function(e){var t=this;try{var n;this.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:3}),this.beatTime&&(n=setInterval((function(){t.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:2})}),e)),g((function(){t.eventHandel({eventType:"dom",eventName:"beat",eventSend:"becon"},{beat_type:0}),t.beatTime&&clearInterval(n)}))}catch(e){}},e.prototype.getDefaultConfig=function(){return{is_html:1,url:location.href,referrer:document.referrer,page_key:location.href,refer_page_key:document.referrer,page_title:document.title||location.pathname,page_manual_key:"",refer_page_manual_key:"",refer_page_title:"",page_path:location.pathname,page_host:location.host}},e}(),de={eventConfig:{mode:"proxy-capturing",submit:!1,click:!0,change:!1,pv:!0,beat:!0,hashTag:!1,impr:!1},scoutConfig:{mode:"xpath"}},ge=function(){function e(e,t){this.config=e,this.config.eventConfig=Object.assign(this.config.eventConfig,t)}return e.prototype.getConfig=function(){return this.config},e.prototype.setConfig=function(e){return this.config=e},e}();var ve,me=function(e,t,n,r,o){return i(i({event:e},function(e,t,n,i){var r={},o=function(e){if(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return{left:t.left,top:t.top,element_width:n,element_height:i}}}(t=ue(t,n)),s=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=e.clientX,i=e.clientY,r=t.left,o=t.top,s=n-r>=0?n-r:0,a=i-o>=0?i-o:0;return{touch_x:Math.floor(s),touch_y:Math.floor(a)}}(e,o),a=o.element_width,c=o.element_height,u=s.touch_x,l=s.touch_y,h=function(e){var t=[];if(!e)return{element_path:"",positions:[]};for(;null!==e.parentElement;)t.push(e),e=e.parentElement;var n=[],i=[];return t.forEach((function(e){var t=function(e){if(null===e)return{str:"",index:0};var t=0,n=e.parentElement;if(n)for(var i=n.children,r=0;r<i.length&&i[r]!==e;r++)i[r].nodeName===e.nodeName&&t++;return{str:[e.nodeName.toLowerCase(),ae(e,"list")?"[]":""].join(""),index:t}}(e),r=t.str,o=t.index;n.unshift(r),i.unshift(o)})),{element_path:"/"+n.join("/"),positions:i}}(t),f=h.element_path,p=h.positions,d=function(e,t){var n=ue(e,t),i=[];return function e(t){var n=function(e){var t="";return 3===e.nodeType?t=e.textContent.trim():e.dataset&&e.dataset.hasOwnProperty("teaTitle")||e.hasAttribute("ata-tea-title")?t=e.getAttribute("data-tea-title"):"INPUT"===e.nodeName&&["button","submit"].includes(e.getAttribute("type"))?t=e.getAttribute("value"):"IMG"===e.nodeName&&e.getAttribute("alt")&&(t=e.getAttribute("alt")),t.slice(0,200)}(t);if(n&&-1===i.indexOf(n)&&i.push(n),t.childNodes.length>0)for(var r=t.childNodes,o=0;o<r.length;o++)8!==r[o].nodeType&&e(r[o])}(n),i}(t,n),g=window.performance.timing.navigationStart,v=Date.now()-g,m=p.map((function(e){return""+e})),_=null;if(window.TEAVisualEditor&&window.TEAVisualEditor.getOriginXpath&&(_=window.TEAVisualEditor.getOriginXpath({xpath:f,positions:m})),r.element_path=_&&_.xpath||f,r.positions=_&&_.positions||m,i&&!i.text&&(r.texts=d,r.element_title=t.getAttribute("data-tea-title")||t.getAttribute("title")||function(e){if(!e)return"";var t="";try{e.textContent?t=e.textContent.trim().replace(/\s+/g,","):e.innerText&&(t=e.innerText.trim().replace(/\s+/g,",")),"input"!==e.tagName&&"INPUT"!==e.tagName||(t=e.value||"")}finally{return t}}(t)),r.element_id=t.getAttribute("id")||"",r.element_class_name=t.getAttribute("class")||"",r.element_type=t.nodeType,r.element_width=Math.floor(a),r.element_height=Math.floor(c),r.touch_x=u,r.touch_y=l,r.page_manual_key="",r.elememt_manual_key="",r.since_page_start_ms=v,r.page_start_ms=g,r.page_path=location.pathname,r.page_host=location.host,n.track_attr&&ce(t,n.track_attr)){var y=fe(t,n.track_attr);for(var b in y)r[b]=y[b]}if(n.custom_attr)try{if(ce(t,n.custom_attr)){y=fe(t,n.custom_attr),b=decodeURIComponent(y[n.custom_attr]);var E=JSON.parse(b);if(Object.keys(E))for(var S in E)r[S]=E[S]}}catch(e){console.log("custom attr error")}var z=ue(t,n);return"A"===z.tagName&&(r.href=z.getAttribute("href")),"IMG"===t.tagName&&(r.src=t.getAttribute("src")),r}(t,n,r,o)),{is_html:1,page_key:window.location.href,page_title:document.title})},_e=function(){function e(e,t){this.ignore={text:!1},this.initConfig=e,this.options=t,this.eventName=t&&"tea"===t.custom?{click:"__bav_click",page:"__bav_page",beat:"__bav_beat",static:"__bav_page_statistics",exposure:"__bav_page_exposure"}:{click:"bav2b_click",page:"bav2b_page",beat:"bav2b_beat",static:"bav2b_page_statistics",exposure:"bav2b_exposure"},t&&!1===t.text&&(this.ignore.text=!0),t&&t.exposure&&t.exposure.eventName&&(this.eventName.exposure=t.exposure.eventName)}return e.prototype.handleEvent=function(e,t){try{if(function(e){for(var t=e;t&&t.parentNode;){if(t.hasAttribute("data-tea-ignore"))return!0;if("HTML"===t.nodeName||"body"===t.nodeName)return!1;t=t.parentNode}return!1}(e.target))return null;var n="bav2b_click";switch(t){case"click":return n=e.target.getAttribute("data-applog-click-event")||this.eventName.click||"",me(n,e,e.target,this.options,this.ignore);case"exposure":return n=e.target.getAttribute("data-applog-exposure-event")||this.eventName.exposure||"",me(n,e,e.target||e,this.options,this.ignore);case"change":return i(i({},me(n="bav2b_change",e,e.target,this.options)),function(e,t){try{if("bav2b_change"===e)return t.hasAttribute("data-tea-track")?{value:t.value}:{}}catch(e){return{}}}(n,e.target));case"submit":return me(n="bav2b_submit",e,e.target,this.options)}}catch(e){return console.error(e),null}},e.prototype.handleViewEvent=function(e){e.event=this.eventName.page,e.page_title=document.title,e.page_total_width=window.innerWidth,e.page_total_height=window.innerHeight;try{var t=window.sessionStorage.getItem("_tea_cache_duration");if(t){var n=JSON.parse(t);e.refer_page_duration_ms=n?n.duration:""}e.scroll_width=document.documentElement.scrollLeft?document.documentElement.scrollLeft+window.innerWidth:window.innerWidth,e.scroll_height=document.documentElement.scrollTop?document.documentElement.scrollTop+window.innerHeight:window.innerHeight,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("page event error "+JSON.stringify(e))}return e},e.prototype.handleStatisticsEvent=function(e){var t={};t.event=this.eventName.static,t.is_html=1,t.page_key=location.href,t.refer_page_key=document.referrer||"",t.page_title=document.title,t.page_manual_key=this.initConfig.autotrack.page_manual_key||"",t.refer_page_manual_key="";try{var n=e.lcp,i=window.performance.timing,r=i.loadEventEnd-i.navigationStart;t.page_init_cost_ms=parseInt(n||(r>0?r:0)),t.page_start_ms=i.navigationStart}catch(e){console.log("page_statistics event error "+JSON.stringify(e))}return t},e.prototype.handleBeadtEvent=function(e){e.event=this.eventName.beat,e.page_key=window.location.href,e.is_html=1,e.page_title=document.title,e.page_manual_key=this.initConfig.autotrack.page_manual_key||"";try{e.page_viewport_width=window.innerWidth,e.page_viewport_height=window.innerHeight,e.page_total_width=document.documentElement.scrollWidth,e.page_total_height=document.documentElement.scrollHeight,e.scroll_width=document.documentElement.scrollLeft+window.innerWidth,e.scroll_height=document.documentElement.scrollTop+window.innerHeight,e.since_page_start_ms=Date.now()-window.performance.timing.navigationStart,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("beat event error "+JSON.stringify(e))}return e},e}(),ye=function(){function e(e){this.collect=e,this.eventNameList=["report_click_event","report_change_event","report_submit_event","report_exposure_event","report_page_view_event","report_page_statistics_event","report_beat_event"]}return e.prototype.send=function(e,t){var n=e.eventSend,i=t.event;delete t.event,n&&"becon"===n?this.collect.beconEvent(i,t):this.collect.event(i,t)},e.prototype.get=function(e,t){var n=Object.assign({headers:{"content-type":"application/json"},method:"GET"},t);fetch(e,n)},e.prototype.post=function(e,t){var n=Object.assign({headers:{"content-type":"application/json"},method:"POST"},t);fetch(e,n)},e}(),be=function(){function e(e){this._instance=null,this._intersection=e,this.init()}return e.prototype.init=function(){var e=this;if(window.MutationObserver)try{this._instance=new MutationObserver((function(t){t.forEach((function(t){"attributes"===t.type&&e.attributeChangeObserve(t),"childList"===t.type&&e.modifyNodeObserve(t)}))})),this._instance.observe(document.body,{childList:!0,attributes:!0,subtree:!0,attributeOldValue:!1})}catch(e){console.log("MutationObserver，something error")}else console.log("your browser cannot support MutationObserver，so cannot report exposure event, please update")},e.prototype.attributeChangeObserve=function(e){e.target.hasAttribute("data-exposure")?this.exposureAdd(e,"mutation"):this.exposureRemove(e)},e.prototype.modifyNodeObserve=function(e){var t=this;Array.from(e.addedNodes).forEach((function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureAdd(e,"intersect"),t.mapChild(e,t.exposureAdd.bind(t))})),Array.prototype.forEach.call(e.removedNodes,(function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureRemove(e),t.mapChild(e,t.exposureRemove.bind(t))}))},e.prototype.mapChild=function(e,t){var n=this;1===e.nodeType&&e.children.length&&Array.prototype.forEach.call(e.children,(function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t(e),n.mapChild(e,t)}))},e.prototype.exposureAdd=function(e,t){this._intersection&&this._intersection.exposureAdd(e,t)},e.prototype.exposureRemove=function(e){this._intersection&&this._intersection.exposureRemove(e)},e._exposure_observer=null,e}(),Ee=function(){function e(t,n){this.count=1,this.instance=this.buildObserver(),this.observeMap=e._observer_map,t.autotrack.exposure.ratio?this.Ratio=t.autotrack.exposure.ratio:0===t.autotrack.exposure.ratio?this.Ratio=0:this.Ratio=.5,this.EventHandle=n}return e.prototype.buildObserver=function(){var t=this;if(!e._observer_instance)return IntersectionObserver&&(e._observer_instance=new IntersectionObserver((function(e){e.forEach((function(e){t.observeMap.get(e.target._observeId)&&t.exposureEvent(e)}))}),{threshold:[.01,.25,.5,.75,1]})),e._observer_instance},e.prototype.exposureAdd=function(e,t){var n=e;"mutation"===t&&(n=e.target);var i=n._observeId;if(i||this.observeMap.has(i)){if(!1===n.visible){var r=n.getBoundingClientRect(),o=r.top,s=r.left,a=r.right,c=r.bottom;o>=0&&c<=window.innerHeight&&s>=0&&a<=window.innerWidth&&(n.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},e))}}else n._observeId=this.count,n.visible=!1,this.observeMap.set(this.count,n),this.observe(n),this.count++},e.prototype.exposureRemove=function(e){this.observeMap.has(e._observeId)&&(this.observeMap.delete(e._observeId),this.unobserve(e))},e.prototype.exposureEvent=function(e){if(e.intersectionRatio>=this.Ratio&&e.isIntersecting){if("0"===e.target.style.opacity||"hidden"===e.target.style.visibility)return;if(!0===e.target.visible)return;e.target.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},e)}else e.target.visible=!1},e.prototype.observe=function(e){this.instance.observe(e)},e.prototype.unobserve=function(e){this.instance.unobserve(e)},e._observer_instance=null,e._observer_map=new Map,e}(),Se=function(){function e(e,t){e.autotrack&&e.autotrack.exposure&&(this._intersection=new Ee(e,t),this._observer=new be(this._intersection),this.initObserver())}return e.prototype.initObserver=function(){var e=this;Array.prototype.forEach.call(document.querySelectorAll("[data-exposure]"),(function(t){e._intersection.exposureAdd(t,"intersect")}))},e}(),ze={hashTag:!1,impr:!1},we=function(){function e(){}return e.prototype.apply=function(e,t){if(this.autoTrackStart=!1,this.collect=e,this.config=t,t.autotrack){var n=e.Types;t.autotrack&&t.autotrack.collect_url&&!t.autotrack.collect_url()||(this.ready(n.Autotrack),this.collect.emit(n.AutotrackReady))}},e.prototype.ready=function(e){this.collect.set(e);var t=this.config.autotrack;t="object"==typeof t?t:{},t=Object.assign(ze,t),this.destroyed=!1,this.options=t,this.Config=new ge(de,this.options),this.Listener=new pe(t,this.collect,this.Config),this.EventHandle=new _e(this.config,t),this.Request=new ye(this.collect),this.autoTrackStart=!0,this.Exposure=new Se(this.config,this.handle.bind(this)),this.init()},e.prototype.init=function(){this.Listener.init(this.handle.bind(this));try{"base"===this.collect.loadType&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){}},e.prototype.handle=function(e,t){try{if(this.config.autotrack.collect_url&&!this.config.autotrack.collect_url())return}catch(e){}"dom"===e.eventType&&this.handleDom(e,t)},e.prototype.handleDom=function(e,t){try{var n=e.eventName;if("click"===n||"exposure"===n||"change"===n||"submit"===n){var i=this.EventHandle.handleEvent(t,n);null!==i&&this.Request.send({eventType:"custom",eventName:"report_"+n+"_event",extra:{methods:"GET"}},i)}else if("page_view"===n||"page_statistics"===n){var r;r="page_view"===n?this.EventHandle.handleViewEvent(t):this.EventHandle.handleStatisticsEvent(t),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},r)}else if("beat"===n){var o=this.EventHandle.handleBeadtEvent(t),s=e.eventSend;this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"},eventSend:s},o)}}catch(e){console.log("handel dom event error "+JSON.stringify(e))}},e.prototype.destroy=function(){if(!this.autoTrackStart)return console.warn("engine is undefined, make sure you have called autoTrack.start()");this.autoTrackStart=!1,this.Listener.removeListener()},e}();!function(e){e.Net="net",e.FailNet="f_net",e.FailData="f_data"}(ve||(ve={}));var Ae={pv:["predefine_pageview"],sdk:["_be_active","predefine_page_alive","predefine_page_close","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append"],autotrack:["bav2b_click","bav2b_page","bav2b_beat","bav2b_page_statistics","__bav_click","__bav_page","__bav_beat","__bav_page_statistics"]},Te=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(t.app_id&&t.enable_tracer&&!t.disable_track_event){this.limit={pv:1,sdk:3,autotrack:3,log:3},this.errorCode={f_net:0,f_data:0},this.tracerCache=new Map,this.collect=e,this.appid=t.app_id,this.reportUrl=e.configManager.getUrl("event");var i=this.collect.Types;this.collect.on(i.Event,(function(){n.addCount("log")})),this.collect.on(i.SubmitError,(function(e){var t=e.type,i=e.eventDate,r=e.errorCode,o=e.response;n.addErrorCount(i,t,r,o)})),this.listener(),this.collect.emit(i.TracerReady)}},e.prototype.addCount=function(e,t,n){void 0===t&&(t="net"),void 0===n&&(n=1);try{this.tracerCache||(this.tracerCache=new Map);var i=void 0;if(this.tracerCache.has(e))(r=this.tracerCache.get(e)).has(t)?(i=r.get(t).params.count,i++,r.set(t,this.processTracer(i,e,t))):(i=n,r.set(t,this.processTracer(n,e,t)));else{var r=new Map;i=n,r.set(t,this.processTracer(n,e,t)),this.tracerCache.set(e,r)}"net"===t&&i>=this.limit[e]&&this.report(!1)}catch(e){console.log(e)}},e.prototype.addErrorCount=function(e,t,n,i){var r=this;try{if(e&&e.length){var o=e[0].events;o&&o.length&&("f_data"===t?(i&&i.hasOwnProperty("sc")?this.addCount("log",t,o.length-i.sc):this.addCount("log",t,o.length),this.errorCode[t]=n):o.forEach((function(e){var i="log";for(var o in Ae)if(-1!==Ae[o].indexOf(e.event)){i=o;break}r.addCount(i,t,1),r.errorCode[t]=n})))}}catch(e){}},e.prototype.report=function(e){if(this.tracerCache){var t=[];this.tracerCache.forEach((function(e){console.log(e),e.forEach((function(e){t.push(e)}))})),t&&t.length&&this.sendTracer(t,e)}},e.prototype.sendTracer=function(e,t){try{var n=this.collect.eventManager.merge(e);this.collect.requestManager.useRequest({url:this.reportUrl,data:n,useBeacon:t}),this.tracerCache=null}catch(e){}},e.prototype.processTracer=function(e,t,n){var i={count:e,state:n,key:t,params_for_special:"applog_trace",aid:this.appid,platform:"web",_staging_flag:1,sdk_version:L};"f_net"!==n&&"f_data"!==n||(i.errorCode=this.errorCode[n]);var r=this.collect.processEvent("applog_trace",i);if(r&&r.event)return delete r.is_bav,r},e.prototype.listener=function(){var e=this;document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e.leavePage()})),g((function(){e.leavePage()}))},e.prototype.leavePage=function(){this.report(!0)},e}(),Oe=function(){function e(){this.retryWaitTime=3e3,this.retryStatus=!1,this.retryCacheStatus=!1}return e.prototype.apply=function(e,t){var n=this;if(t.enable_storage&&!t.disable_storage&&(this.collect=e,this.config=t,!this.collect.destroy)){var i=e.Types,r=e.adapters.storage;this.storage=new r(!1),this.eventUrl=this.collect.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+t.app_id,this.storageNum=t.storage_num||50,this.retryNum=t.retry_num||3,this.retryInterval=1e3,e.on(i.SubmitError,(function(e){"f_data"!==e.type&&n.storeData(e)})),e.on(i.Ready,(function(){n.checkStorage()}))}},e.prototype.retryRightNow=function(e){var t=this;if(this.retryStatus)this.errorCache.push(e);else{var n=0;this.retryStatus=!0;var i=setInterval((function(){if(3===n)return t.storeData(t.errorCache),t.retryStatus=!1,void clearInterval(i);var r=e.eventData;t.fetchData(r,(function(){t.retryStatus=!1,clearInterval(i),t.retryCacheStatus&&t.errorCache.splice(0,1),t.errorCache.length&&(t.retryCacheStatus=!0,t.retryRightNow(t.errorCache[0]))}),(function(){n++}))}),this.retryInterval)}},e.prototype.storeData=function(e){var t=this.storage.getItem(this.eventKey),n=e.eventData;Object.keys(t).length!==this.storageNum&&(t[Date.now()]=n,this.storage.setItem(this.eventKey,t))},e.prototype.checkStorage=function(){var e=this;try{if(!window.navigator.onLine)return;var t=this.storage.getItem(this.eventKey);if(!t||!Object.keys(t).length)return;var n={events:[{event:"ontest",params:{app_id:this.config.app_id},local_time_ms:Date.now()}],user:{user_unique_id:this.collect.configManager.get("web_id")},header:{}};this.fetchData([n],(function(){var n=JSON.parse(JSON.stringify(t)),i=function(i){e.fetchData(t[i],(function(){delete n[i],e.storage.setItem(e.eventKey,n)}),(function(){}),!1)};for(var r in t)i(r)}),(function(){console.log("network error，compensate report fail")}),!0)}catch(e){console.warn("error check storage")}},e.prototype.fetchData=function(e,t,n,i){this.collect.requestManager.useRequest({url:this.eventUrl,data:e,timeout:3e4,success:t,fail:n,app_key:i?"566f58151b0ed37e":""})},e}(),ke="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,Re=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach((function(t,n){if("sdk"===t)if(X.hasOwnProperty(n)){var i=X[n].object,r=X[n].src[e.channel]+"?query="+Date.now();e.exist(n,i,r)}else console.warn("your "+n+" is not exist，please check plugin name");else"object"==typeof t&&(t.src?e.exist(n,t.call,t.src):e.process(n,t.instance,"INSTANCE"))}))}catch(e){this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,n){var i=this;ke[t]?(this.process(e,ke[t]),console.log("已有"+e+"插件，避免重复加载~")):this.loadPlugin(e,n,(function(){i.process(e,ke[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","–","load plugin:"+e+" success","-")}),(function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","–","load plugin:"+e+" error","-")}))},e.prototype.process=function(e,t,n){try{if(n){var i=new t;i.apply&&i.apply(this.collect,this.config),console.log("excude "+e+" success")}else t&&t(this.collect,this.config)}catch(t){this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,n,i){var r=this;try{var o=document.createElement("script");o.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),o.onerror=function(){i(t)},o.onload=function(){r._plugin[e].forEach((function(e){e()}))},document.getElementsByTagName("head")[0].appendChild(o)}catch(e){this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:e.message})}},e}(),Le=function(){function e(){this.autotrack=!1,this.spa=!1,this.cache={},this.allowHash=!1}return e.prototype.apply=function(e,t){if(t.spa||t.autotrack){var n=e.Types;this.collect=e,this.config=t,this.appid=t.app_id,this.allowHash=t.allow_hash,this.fncArray=new Map,this.setKey(),this.setLocation(),this.hack(),this.init(),this.listener(),e.emit(n.RouteReady)}},e.prototype.setKey=function(){var e=this.collect.adapters.storage;this.storage=new e(!1),this.cache_key="__tea_cache_refer_"+this.appid,this.cache={refer_key:"",refer_title:document.title||location.pathname,refer_manual_key:"",routeChange:!1},this.config.autotrack&&"object"==typeof this.config.autotrack&&this.config.autotrack.page_manual_key&&(this.cache.refer_manual_key=this.config.autotrack.page_manual_key),this.storage.setItem(this.cache_key,this.cache)},e.prototype.hack=function(){var e=this,t=window.history.pushState;history.pushState=function(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];"function"==typeof history.onpushstate&&history.onpushstate({state:n});var s=t.call.apply(t,o([history,n],i));if(e.collect.sdkStop||e.collect.destroy)return s;if(!(e.lastLocation===location.href||e.config.disable_spa_query&&e.pathEquel())){var a=e.getPopStateChangeEventData();return e.setReferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(a,"pushState"),s}};var n=history.replaceState;history.replaceState=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];"function"==typeof history.onreplacestate&&history.onreplacestate({state:t});var s=n.call.apply(n,o([history,t],i));if(e.collect.sdkStop||e.collect.destroy)return s;if(!(e.lastLocation===location.href||e.config.disable_spa_query&&e.pathEquel())){var a=e.getPopStateChangeEventData();return e.setReferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(a),s}}},e.prototype.setLocation=function(){"undefined"!=typeof window&&(this.lastLocation=window.location.href)},e.prototype.getLocation=function(){return this.lastLocation},e.prototype.pathEquel=function(){try{return new URL(this.lastLocation).origin+new URL(this.lastLocation).pathname===new URL(location.href).origin+new URL(location.href).pathname}catch(e){return!1}},e.prototype.init=function(){var e=this.getPopStateChangeEventData();this.collect.emit("route-change",{config:e,init:!0})},e.prototype.listener=function(){var e=this;window.addEventListener("hashchange",(function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&e.lastLocation!==window.location.href&&(!e.config.disable_spa_query||!e.pathEquel())&&e.allowHash){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var n=e.getPopStateChangeEventData();e.sendPv(n)}})),window.addEventListener("popstate",(function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&!(e.lastLocation===window.location.href||e.config.disable_spa_query&&e.pathEquel())){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var n=e.getPopStateChangeEventData();e.sendPv(n)}}))},e.prototype.getPopStateChangeEventData=function(){var e=this.pageConfig();return e.is_back=0,e},e.prototype.pageConfig=function(){try{var e,t=this.storage.getItem(this.cache_key)||{},n=this.storage.getItem("__tea_cache_first_"+this.appid);return e=!n||1!=n,{is_html:1,url:location.href,referrer:this.handleRefer(),page_key:location.href,refer_page_key:this.handleRefer(),page_title:document.title||location.pathname,page_manual_key:this.config.autotrack&&this.config.autotrack.page_manual_key||"",refer_page_manual_key:t&&t.refer_manual_key||"",refer_page_title:t&&t.refer_title||"",page_path:location.pathname,page_host:location.host,is_first_time:""+e}}catch(t){return this.collect.emit(u.DEBUGGER_MESSAGE,{type:u.DEBUGGER_MESSAGE_SDK,info:"发生了异常",level:"error",time:Date.now(),data:t.message}),{}}},e.prototype.sendPv=function(e,t){this.collect.emit("route-change",{config:e,init:!1})},e.prototype.handleRefer=function(){var e="";try{var t=this.storage.getItem()||{};e=t.routeChange?t.refer_key:this.collect.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.setReferCache=function(e){var t=this.storage.getItem(this.cache_key)||{};t.refer_key=e,t.routeChange=!0,this.storage.setItem(this.cache_key,t)},e}();Y.usePlugin(Re,"extend"),Y.usePlugin(Q,"ab"),Y.usePlugin(ie,"stay"),Y.usePlugin(we,"autotrack"),Y.usePlugin(ee,"et"),Y.usePlugin(re,"profile"),Y.usePlugin(Oe,"retry"),Y.usePlugin(oe,"heartbeat"),Y.usePlugin(se,"monitor"),Y.usePlugin(Le,"route"),Y.usePlugin(Te,"tracer");var Ce=new Y("default"),De=Y;const xe=Ce},249:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(11),t)},11:(e,t)=>{function n(e){for(;e.length;){const t=e.pop();t?.dispose()}}Object.defineProperty(t,"__esModule",{value:!0}),t.toDisposable=t.Disposable=t.disposeAll=void 0,t.disposeAll=n;class i{_isDisposed=!1;_disposables=[];dispose(){this._isDisposed||(this._isDisposed=!0,n(this._disposables))}_register(e){return this._isDisposed?e.dispose():this._disposables.push(e),e}get isDisposed(){return this._isDisposed}}t.Disposable=i,t.toDisposable=function(e){return new class extends i{dispose(){super.dispose(),e()}}}},448:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDocsDomain=t.getRegion=void 0;const i=n(860);t.getRegion=function(e){const{CLOUDIDE_PROVIDER_REGION:t="",IDE_REGION:n=""}=e;switch(t){case"sg":return i.Region.SG;case"us":return i.Region.US;case"cn":return i.Region.CN}switch(n){case"sg":return i.Region.SG;case"us":return i.Region.US;default:return i.Region.CN}},t.getDocsDomain=e=>{const{CLOUDIDE_CONTROL_PLANE:t="",CLOUDIDE_PROVIDER_REGION:n=""}=e;switch(t){case"i18n":case"boei18n":return"docs.marscode.com";case"sg":default:return["docs","marscode","com"].join(".");case"cn":case"boe":return["docs","marscode","cn"].join(".")}}},400:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getTenant=void 0;const i=n(860);t.getTenant=function(e={}){const{CLOUDIDE_TENANT_NAME:t}=e;switch(t){case"bytedance":return i.Tenant.BYTEDANCE;case"public":return i.Tenant.PUBLIC;default:return i.Tenant.UNKNOWN}}},483:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getTeaConfig=t.getSlardarBid=t.getDefaultRegion=t.getEnviromentVariables=void 0;const i=n(448),r=n(400),o=n(860),s=n(908);function a(){return"undefined"!=typeof process?process.env||{}:"undefined"!=typeof window&&window.env||{}}function c(){const e=a();return(0,i.getRegion)(e)}t.getEnviromentVariables=a,t.getDefaultRegion=c,t.getSlardarBid=function(e={}){const t=a(),n=e.region||c(),i=(e.tenant||(0,r.getTenant)(t))===o.Tenant.BYTEDANCE;return s.DEFAULT_SLARDAR_BID_MAP[n][i?"inner":"outer"]},t.getTeaConfig=function(e={}){const t=a(),n=e?.region||c(),i=(e?.tenant||(0,r.getTenant)(t))===o.Tenant.BYTEDANCE?"inner":"outer";return{appId:s.TEA_APP_ID_MAP[n][i],channel:s.TEA_CHANNEL_MAP[n][i],channelDomain:s.TEA_AB_CHANNEL_DOMAIN_MAP[n][i],serviceOrigin:s.TEA_AB_SERVICE_ORIGIN_MAP[n][i]}}},908:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AUTH_BASE_URL_MAP=t.DEFAULT_ELECTRON_OVERSEA_SLARDAR_BID=t.DEFAULT_ELECTRON_SLARDAR_BID=t.DEFAULT_SLARDAR_BID_MAP=t.TEA_AB_CHANNEL_DOMAIN_MAP=t.TEA_AB_SERVICE_ORIGIN_MAP=t.TEA_CHANNEL_MAP=t.TEA_OVERSEA_ELECTRON_APP_ID=t.TEA_ELECTRON_APP_ID=t.TEA_APP_ID_MAP=t.DEFAULT_REGION=t.DEFAULT_STARLING_FALLBACK_LANG=t.DEFAULT_STARLING_LANG=t.DEFAULT_STARLING_NAMESPACE=t.DEFAULT_STARLING_APP_KEY=void 0;const i=n(860);t.DEFAULT_STARLING_APP_KEY="4b68ec50ae9d11ee9b92612267a029f0",t.DEFAULT_STARLING_NAMESPACE="devtools",t.DEFAULT_STARLING_LANG="en",t.DEFAULT_STARLING_FALLBACK_LANG=["en","zh"],t.DEFAULT_REGION=i.Region.CN,t.TEA_APP_ID_MAP={[i.Region.CN]:{inner:379586,outer:576092},[i.Region.BOE]:{inner:379586,outer:576092},[i.Region.US]:{inner:379586,outer:573425},[i.Region.SG]:{inner:379586,outer:573425},[i.Region.BOEI18N]:{inner:379586,outer:573425}},t.TEA_ELECTRON_APP_ID=647416,t.TEA_OVERSEA_ELECTRON_APP_ID=677332,t.TEA_CHANNEL_MAP={[i.Region.CN]:{inner:"cn",outer:"cn"},[i.Region.BOE]:{inner:"cn",outer:"cn"},[i.Region.US]:{inner:"cn",outer:"va"},[i.Region.SG]:{inner:"cn",outer:"sg"},[i.Region.BOEI18N]:{inner:"cn",outer:"sg"}},t.TEA_AB_SERVICE_ORIGIN_MAP={[i.Region.CN]:{inner:"https://abtestvm.bytedance.com",outer:"https://abtestvm.bytedance.com"},[i.Region.BOE]:{inner:"https://abtestvm.bytedance.com",outer:"https://abtestvm.bytedance.com"},[i.Region.US]:{inner:"https://abtestvm.bytedance.com",outer:"https://libraweb-va.tiktok.com"},[i.Region.SG]:{inner:"https://abtestvm.bytedance.com",outer:"https://libraweb-sg.tiktok.com"},[i.Region.BOEI18N]:{inner:"https://abtestvm.bytedance.com",outer:"https://libraweb-sg.tiktok.com"}},t.TEA_AB_CHANNEL_DOMAIN_MAP={[i.Region.CN]:{inner:"https://abtestvm.bytedance.com",outer:"https://abtestvm.bytedance.com"},[i.Region.BOE]:{inner:"https://abtestvm.bytedance.com",outer:"https://abtestvm.bytedance.com"},[i.Region.US]:{inner:"https://abtestvm.bytedance.com",outer:"https://libraweb-va.tiktok.com"},[i.Region.SG]:{inner:"https://abtestvm.bytedance.com",outer:"https://libraweb-sg.tiktok.com"},[i.Region.BOEI18N]:{inner:"https://abtestvm.bytedance.com",outer:"https://libraweb-sg.tiktok.com"}},t.DEFAULT_SLARDAR_BID_MAP={[i.Region.CN]:{inner:"icube_web",outer:"stable_ide_cn"},[i.Region.BOE]:{inner:"icube_web",outer:"stable_ide_cn"},[i.Region.US]:{inner:"cloud_ide_us",outer:"stable_ide_us"},[i.Region.SG]:{inner:"cloud_ide_us",outer:"stable_ide_us"},[i.Region.BOEI18N]:{inner:"cloud_ide_us",outer:"stable_ide_us"}},t.DEFAULT_ELECTRON_SLARDAR_BID="marscode_native_ide_cn",t.DEFAULT_ELECTRON_OVERSEA_SLARDAR_BID="marscode_native_ide_us",t.AUTH_BASE_URL_MAP={[i.Region.CN]:"",[i.Region.BOE]:"",[i.Region.US]:"",[i.Region.SG]:"",[i.Region.BOEI18N]:""}},201:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageStorage=t.fetchLocaleDatas=void 0;const o=n(908),s=n(364);r(n(364),t),t.fetchLocaleDatas=async function(e){const{lang:t,i18n:n,namespace:i=o.DEFAULT_STARLING_NAMESPACE,starlingZoneHost:r}=e;n.setLang(t);const c=new s.StarlingClient({api_key:o.DEFAULT_STARLING_APP_KEY,namespace:i,locale:t,zoneHost:r||STARLING_ZONE_HOST,store:new a}),u=await c.load();return n.addResourceBundle(t,"translation",u,!0,!0),n};class a{get(e,t){if(!window.localStorage||!window.localStorage.getItem)return;const n=window.localStorage.getItem(e);return n&&function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}}(n)||t}set(e,t){var n;if(window.localStorage&&window.localStorage.setItem)return window.localStorage.setItem(e,(n=t,JSON.stringify(n)))}}t.LocalStorageStorage=a},364:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createI18nTranslator=t.request=t.Storage=t.StarlingClient=void 0;const r=n(365),o=i(n(276)),s=n(699),a=n(869),c=n(908);class u extends o.default{constructor(e){e.store||(e.store=new l),e.request||(e.request=h),super(e)}}t.StarlingClient=u;class l{_cahce=new a.LRUCache({max:500});get(e,t){return this._cahce.get(e)||t}set(e,t){return this._cahce.set(e,t)}}async function h(e,t){const n=(0,s.createRequestInstance)();return await n.request({url:e,method:"get",...t})}t.Storage=l,t.request=h,t.createI18nTranslator=function(e){const t=new r.I18nConstructor;return t.init({fallbackLng:c.DEFAULT_STARLING_FALLBACK_LANG,lng:c.DEFAULT_STARLING_LANG,...e}),t}},404:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.initBaseClient=void 0;const o=n(249),s=n(201),a=n(405),c=n(724),u=n(444),l=n(28),h=n(465),f=n(553),p=n(354),d=n(37),g=n(448);r(n(938),t),r(n(405),t),r(n(724),t),r(n(444),t),r(n(553),t),r(n(201),t),r(n(860),t),r(n(448),t),r(n(465),t),t.initBaseClient=function(e){const{name:t,pageId:n,slardarBid:i,i18nOptions:r,globalTags:v={},isDesktop:m,getContext:_}=e,y=(0,g.getRegion)(window.env||{}),b={pid:n};i&&(b.bid=i);const E=(0,u.createDefaultSlardarClient)({...b,plugins:{pageview:!1}},{...v,session_id:window.env?.SESSION_ID||"",runtime:"web"},y,m),S=(0,a.createLogger)({name:t,slardar:E,context:{sessionId:window.env?.SESSION_ID||"",runtime:"web"}}),z=(0,f.createDefaultTeaClient)({region:y,isDesktop:m}),w=(0,l.createDefaultRequestInstance)({}),A=(0,u.getDefaultContext)();window.navigator.userAgent.includes("Electron")||z.config({custom:{...A,...v}}),(0,p.initGlobalContext)({tea:z,slardar:E,getContext:_});const T=(0,d.getIsDev)(window.env||{}),O=new h.Reporter(E,T,n),k=(0,s.createI18nTranslator)(r||{});window.addEventListener("error",(e=>{const{error:t,filename:n,lineno:i,colno:r,message:o}=e;t instanceof Error?O.captureException(t):O.captureException(new Error(`uncaughtException: ${JSON.stringify({error:t,filename:n,lineno:i,colno:r,message:o})}`))})),window.addEventListener("unhandledrejection",(e=>{e?.reason instanceof Error&&O.captureException(e?.reason)})),E.on("beforeSend",(function(e){return"performance"===e.ev_type&&S.getLogger(c.LoggerType.Slardar).info("[perfermance]",e.payload.name,": ",e.payload.value,"ms"),e})),window.performance&&window.performance.getEntriesByType("resource").forEach((e=>{S.getLogger(c.LoggerType.Slardar).info("[perfermance]","load script",": ",e.duration,"ms")})),window.__icube_devtool_logger__=S;const R=(0,o.toDisposable)((()=>{O.dispose()}));return{request:w,reporter:O,logger:S,tea:z,slardar:E,i18n:k,disposable:R}}},354:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.injectNativeEnv=t.initGlobalContext=void 0;const i=n(860);t.initGlobalContext=async function(e){const{getContext:t,tea:n,slardar:i}=e;if(t){const e=await t();for(const[t,r]of Object.entries(e))i.context?.set(t,r),n.config({custom:{[t]:r}})}},t.injectNativeEnv=function(){process.env.VSCODE_RUN_IN_ELECTRON&&(process.env.CLOUDIDE_PROVIDER_REGION=i.RegionMap[process.env.APP_REGION||i.Region.CN],process.env.CLOUDIDE_APISERVER_BASE_URL=i.ApiServerMap[process.env.APP_REGION||i.Region.CN])}},674:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLogger=void 0;const i=n(724);t.BaseLogger=class{_level=i.LogLevel.Info;ctx;constructor(e={}){this.ctx=e}generateMsg(e){let t=e||"";return this.ctx.sessionId&&(t=`[${this.ctx.sessionId}]${t}`),this.ctx.runtime&&(t=`[${this.ctx.runtime}]${t}`),e instanceof Error?(e.message=t,e):t}info(e,...t){this._level<i.LogLevel.Info||this._log(i.LogLevel.Info,this.generateMsg(e),...t)}debug(e,...t){this._level<i.LogLevel.Debug||this._log(i.LogLevel.Debug,this.generateMsg(e),...t)}trace(e,...t){this._level<i.LogLevel.Trace||this._log(i.LogLevel.Trace,this.generateMsg(e),...t)}warn(e,...t){this._level<i.LogLevel.Warn||this._log(i.LogLevel.Warn,this.generateMsg(e),...t)}error(e,...t){this._level<i.LogLevel.Error||this._log(i.LogLevel.Error,this.generateMsg(e),...t)}setLevel(e){this._level=e}getLevel(){return this._level}log(e,t,...n){this._log(e,t,...n)}getLogger(e){return this}}},590:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLogger=void 0;const i=n(674),r=n(724);class o extends i.BaseLogger{type=r.LoggerType.Console;_log(e,t,...n){switch(e){case r.LogLevel.Info:console.info(t,...n);break;case r.LogLevel.Debug:console.debug(t,...n);break;case r.LogLevel.Trace:console.trace(t,...n);break;case r.LogLevel.Warn:console.warn(t,...n);break;case r.LogLevel.Error:console.error(t,...n)}}withContext(e){return new o({...this.ctx,...e})}}t.ConsoleLogger=o},724:(e,t)=>{var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerType=t.LogLevel=void 0,function(e){e[e.Error=0]="Error",e[e.Warn=1]="Warn",e[e.Debug=2]="Debug",e[e.Info=3]="Info",e[e.Trace=4]="Trace"}(n||(t.LogLevel=n={})),function(e){e[e.Console=0]="Console",e[e.Slardar=1]="Slardar",e[e.Output=2]="Output",e[e.Base=3]="Base",e[e.Mutiple=4]="Mutiple"}(i||(t.LoggerType=i={}))},475:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MutipleLogger=void 0;const i=n(674),r=n(724);class o extends i.BaseLogger{_loggers;type=r.LoggerType.Mutiple;constructor(e,t){super(e),this._loggers=t}_log(e,t,...n){this._loggers.forEach((i=>i.log(e,t,...n)))}withContext(e){return new o({...this.ctx,...e},this._loggers.map((t=>t.withContext(e))))}getLogger(e){switch(e){case r.LoggerType.Console:return new o(this.ctx,this._loggers.filter((e=>e.type===r.LoggerType.Console)));case r.LoggerType.Slardar:return new o(this.ctx,this._loggers.filter((e=>e.type===r.LoggerType.Slardar)));case r.LoggerType.Output:return new o(this.ctx,this._loggers.filter((e=>e.type===r.LoggerType.Output)));default:return this}}setSlardarContext(e){this._loggers.filter((e=>e.type===r.LoggerType.Slardar)).forEach((t=>t.setContext(e)))}}t.MutipleLogger=o},324:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SlardarLogger=void 0;const i=n(674),r=n(724),o=n(465);class s extends i.BaseLogger{_name;_slardarClient;_reporter;type=r.LoggerType.Slardar;constructor(e,t,n){super(e),this._name=t,this._slardarClient=n,this._reporter=new o.Reporter(n)}withContext(e){return new s({...this.ctx,...e},this._name,this._slardarClient)}_log(e,t,...n){t instanceof Error&&(this._reporter.captureException(t,{name:this._name,...this.ctx}),t=t.stack||t.message),this._slardarClient.sendLog?.({content:`${t} ${n.join(" ")}`,level:this._getSlardarLevel(e),extra:this.ctx})}_getSlardarLevel(e){switch(e){case r.LogLevel.Error:return"error";case r.LogLevel.Warn:return"warn";case r.LogLevel.Debug:return"debug";case r.LogLevel.Info:return"info";case r.LogLevel.Trace:return"trace"}}setContext(e){this._slardarClient.context?.merge(e)}}t.SlardarLogger=s},405:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogger=void 0;const i=n(444),r=n(590),o=n(475),s=n(324);t.createLogger=function(e){const{name:t,slardar:n=(0,i.createDefaultSlardarClient)(),context:a={}}=e,c=new r.ConsoleLogger(a),u=new s.SlardarLogger(a,t,n);return new o.MutipleLogger(a,[c,u])}},699:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createRequestInstance=t.defaultAxiosConfig=void 0;const r=i(n(527));t.defaultAxiosConfig={proxy:!1},t.createRequestInstance=function(e){const{axiosConfig:n,interceptors:i}=e||{},o=r.default.create({...t.defaultAxiosConfig,...n});return i?.request&&i?.request.length>0&&i.request.forEach((e=>e.onRejected?o.interceptors.request.use(e.onFullfilled,e.onRejected):o.interceptors.request.use(e.onFullfilled))),i?.response&&i?.response.length>0&&i.response.forEach((e=>e.onRejected?o.interceptors.response.use(e.onFullfilled,e.onRejected):o.interceptors.response.use(e.onFullfilled))),o}},938:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultRequestInstance=void 0;const i=n(699),r=n(282);t.createDefaultRequestInstance=function(e){return(0,i.createRequestInstance)({interceptors:{request:[{onFullfilled:r.authInterceptor},...e?.interceptors?.request||[]],response:[...e?.interceptors?.response||[]]},...e})}},28:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultRequestInstance=void 0;const i=n(699),r=n(716);t.createDefaultRequestInstance=function(e){return(0,i.createRequestInstance)({interceptors:{request:[{onFullfilled:r.authInterceptor},...e?.interceptors?.request||[]],response:[...e?.interceptors?.response||[]]},...e})}},282:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.authInterceptor=void 0,t.authInterceptor=async function(e){return e}},716:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.authInterceptor=void 0,t.authInterceptor=async function(e){return e}},37:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getIsA0=t.getIsDev=t.getUserId=t.getVRegion=t.getVRegionByRegion=t.getEnv=t.getDefaultContextFromEnv=t.VRegionMap=t.VRegion=void 0;const i=n(860);var r;!function(e){e.USEast="US-East",e.SG="Singapore-Central",e.BOEI18N="US-BOE",e.BOE="China-BOE",e.CN="China-North"}(r||(t.VRegion=r={})),t.VRegionMap={[i.Region.US]:r.USEast,[i.Region.SG]:r.SG,[i.Region.BOEI18N]:r.BOEI18N,[i.Region.BOE]:r.BOE,[i.Region.CN]:r.CN},t.getDefaultContextFromEnv=function(e){const{CLOUDIDE_WORKSPACE_ID:t="",IDE_ENVIRONMENT_NAME:n="",CLOUDIDE_CONFIG_RUNTIME:i="",IDE_LANG:r="",CLOUDIDE_USERID:o="",IDE_OWNER:s="",CLOUDIDE_RUNTIME_DEBUG_PORT:a="",VSCODE_CWD:c="",CLOUDIDE_PROVIDER_REGION:u="",CLOUDIDE_TENANT_NAME:l="",CLOUDIDE_IDE_SERVER_TYPE:h="",CLOUDIDE_ENABLE_DOUBLE_CONTAINER:f="",CLOUDIDE_CONTROL_PLANE:p="",CLOUDIDE_FEATURE_ENV:d="",CLOUDIDE_CONFIG_LANGUAGE:g="",CLOUDIDE_PROJECT_TEMPLATE_SLUG:v="",CLOUDIDE_PROJECT_REPO_SPECIFIED:m=""}=e;return{workspace_id:t,ide_workspace_id:t,ide_project_template_slug:v,ide_project_repo_specified:`${m}`||"false",ide_environment_name:n,ide_config_runtime:i,ide_lang:r,ide_template_language:g,ide_user_id:o,ide_owner:s,ide_runtime_debug_port:a,ide_icube_version:c.split("@")[1]||"",ide_provider_region:u,ide_tenant_name:l,ide_server_type:h,ide_enable_double_container:f,ide_control_plane:p,x_env:d||"prod",ide_env:d}},t.getEnv=function(e){const{CLOUDIDE_FEATURE_ENV:t}=e;return t||"prod"},t.getVRegionByRegion=function(e){return t.VRegionMap[e]},t.getVRegion=function(e){const{CLOUDIDE_CONTROL_PLANE:t="",CLOUDIDE_PROVIDER_REGION:n="",IDE_REGION:i="",CLOUDIDE_APISERVER_BASE_URL:o=""}=e;switch(t){case"i18n":return"us"===n?r.USEast:r.SG;case"boei18n":return r.BOEI18N;case"boe":return r.BOE;case"cn":return r.CN;case"sg":return r.SG}switch(i){case"sg":return r.SG;case"us":return r.USEast;default:return o?.includes("boe")?r.BOE:r.CN}},t.getUserId=function(e){const{CLOUDIDE_USERID:t=""}=e;return t||"unknown"},t.getIsDev=function(e){const{NODE_ENV:t=""}=e;return"development"===t},t.getIsA0=function(e){const{CLOUDIDE_IDE_SERVER_TYPE:t=""}=e;return`${"icube_a0"===t}`}},262:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SessionEvent=t.HeatmapEvent=t.BlankEvent=t.SriEvent=t.ResourceEvent=t.ResourceErrorEvent=t.PerformanceTimingEvent=t.PerformanceLongTaskEvent=t.PerformanceEvent=t.ActionEvent=t.PageviewEvent=t.PageviewEventSource=t.JSErrorEvent=t.HttpEvent=t.CustomEvent=t.BaseEvent=void 0;class n{extra;overrides;constructor(e){this.extra=e?.extra,this.overrides=e?.overrides}}var i;t.BaseEvent=n,t.CustomEvent=class extends n{ev_type="custom";payload;constructor(e,t){super(t),this.payload=e}},t.HttpEvent=class extends n{ev_type="http";payload;constructor(e,t){super(t),this.payload=e}},t.JSErrorEvent=class extends n{ev_type="js_error";payload;constructor(e,t){super(t),this.payload=e}},function(e){e.Init="init",e.PathChange="path-change",e.HashChange="hash-change",e.HistoryStateChange="history-state-change",e.UserSet="user-set"}(i||(t.PageviewEventSource=i={})),t.PageviewEvent=class extends n{ev_type="pageview";payload;constructor(e,t){super(t),this.payload=e}},t.ActionEvent=class extends n{ev_type="action";payload;constructor(e,t){super(t),this.payload=e}},t.PerformanceEvent=class extends n{ev_type="performance";payload;constructor(e,t){super(t),this.payload=e}},t.PerformanceLongTaskEvent=class extends n{ev_type="performance_longtask";payload;constructor(e,t){super(t),this.payload=e}},t.PerformanceTimingEvent=class extends n{ev_type="performance_timing";payload;constructor(e,t){super(t),this.payload=e}},t.ResourceErrorEvent=class extends n{ev_type="resource_error";payload;constructor(e,t){super(t),this.payload=e}},t.ResourceEvent=class extends n{ev_type="resource";payload;constructor(e,t){super(t),this.payload=e}},t.SriEvent=class extends n{ev_type="sri";payload;constructor(e,t){super(t),this.payload=e}},t.BlankEvent=class extends n{ev_type="blank_screen";payload;constructor(e,t){super(t),this.payload=e}},t.HeatmapEvent=class extends n{ev_type="heatmap";payload;constructor(e,t){super(t),this.payload=e}},t.SessionEvent=class extends n{ev_type="session";payload;constructor(e,t){super(t),this.payload=e}}},444:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultContext=t.createDefaultSlardarClient=t.createSlardarClient=void 0;const s=o(n(525)),a=n(908),c=n(860),u=n(37),l=n(483);function h(e,t,n=(0,l.getDefaultRegion)(),i){const r=s.default.create?.()||(0,s.createBrowserClient)();if(t)for(const[e,n]of Object.entries(t))r.context?.set(e,n);const o=(0,l.getSlardarBid)({region:n});return r.init({bid:i?n===c.Region.CN?a.DEFAULT_ELECTRON_SLARDAR_BID:a.DEFAULT_ELECTRON_OVERSEA_SLARDAR_BID:o,...e}),r.start(),r}function f(){const e=(0,l.getEnviromentVariables)();return{...(0,u.getDefaultContextFromEnv)(e),ide_environment_type:"webview",region:(0,u.getVRegion)(e),isA0:(0,u.getIsA0)(e)}}t.createSlardarClient=h,t.createDefaultSlardarClient=function(e,t,n,i=window.navigator.userAgent.includes("Electron")){const{extension_version:r}=t||{},o=(0,l.getEnviromentVariables)();return h({release:r,env:(0,u.getEnv)(o),userId:(0,u.getUserId)(o),plugins:{},...e},{...f(),...t},n,i)},t.getDefaultContext=f},465:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Reporter=void 0;const i=n(262),r=n(249);class o extends r.Disposable{_client;_isDev;_pageId;constructor(e,t=!1,n){super(),this._client=e,this._pageId=n,this._isDev=t}report(e){this._client.report(e)}sendEvent(e){this._client.sendEvent?.(e)}captureException(e,t){this._isDev?console.log(`ignore error in dev mode: ${e.stack}`):(this._pageId&&this.sendPageview(this._pageId,i.PageviewEventSource.PathChange),this._client.report(new i.JSErrorEvent({error:{message:e.message,stack:e.stack,name:e.name},extra:t,breadcrumbs:[]})))}sendPageview(e,t){this._client.report(new i.PageviewEvent({pid:e,source:t??i.PageviewEventSource.UserSet}))}emitStore(e,t,n={}){this._client.sendEvent?.({name:e,metrics:{value:t},categories:n})}emitTimer(e,t,n={}){this._client.sendEvent?.({name:e,metrics:{value:t},categories:n})}emitCounter(e,t={}){this._client.sendEvent?.({name:e,metrics:{value:1},categories:t})}flush(){this._client.getSender()?.flush()}dispose(){this.flush(),super.dispose()}}t.Reporter=o},553:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TeaClient=t.createDefaultTeaClient=t.createTeaClient=void 0;const i=n(999),r=n(908),o=n(860),s=n(37),a=n(483);function c(e){const t=new i.Collector(e.collectorId||String(e.app_id));return t.init(e),e.defer||t.start(),new u(t)}t.createTeaClient=c,t.createDefaultTeaClient=function(e){const{region:t=(0,a.getDefaultRegion)(),tenant:n,isDesktop:i=window.navigator.userAgent.includes("Electron")}=e||{};if(i)return c({app_id:t===o.Region.CN?r.TEA_ELECTRON_APP_ID:r.TEA_OVERSEA_ELECTRON_APP_ID,channel:"cn",log:!0,disable_auto_pv:!0,enable_ttwebid:!0,enable_cookie:!0,...e});{const{appId:i,channel:r,channelDomain:o,serviceOrigin:u}=(0,a.getTeaConfig)({region:t,tenant:n}),l=c({app_id:i,channel:r,log:!0,abServiceOrigin:u,enable_ab_test:!0,ab_channel_domain:o,disable_auto_pv:!0,enable_ttwebid:!0,enable_cookie:!0,cross_subdomain:!0,...e});return window.env?l.config({user:{user_unique_id:(0,s.getUserId)(window.env||{}),user_is_login:!0},header:{app_id:i,region:(0,s.getVRegion)(window.env||{})},custom:{env:(0,s.getEnv)(window.env||{}),user_id:(0,s.getUserId)(window.env||{}),isA0:(0,s.getIsA0)(window.env||{})}}):l.config({header:{app_id:i,region:(0,s.getVRegionByRegion)(t)}}),l}};class u{_tea;constructor(e){this._tea=e}config(e){this._tea.config({...e.user||{},...e.header||{},...e.custom||{},web_id:e.user?.web_id?String(e.user.web_id):void 0})}collect(e,t){Array.isArray(e)&&e.forEach((({name:e,params:t})=>this._tea.event(e,t))),"string"==typeof e&&this._tea.event(e,t)}predefinePageView(e){this._tea.predefinePageView(e)}getVar(e,t){return new Promise((n=>{this._tea.getVar(String(e),t?.defaultValue,(e=>{n(e)}))}))}getAllVars(e){return new Promise((e=>{this._tea.getAllVars((t=>{e(t)}))}))}getSDK(){return this._tea}}t.TeaClient=u},860:(e,t)=>{var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.Tenant=t.ApiServerMap=t.RegionMap=t.Region=void 0,function(e){e.CN="CN",e.BOE="BOE",e.SG="SG",e.US="US",e.BOEI18N="BOEI18N"}(n||(t.Region=n={})),t.RegionMap={[n.CN]:"cn",[n.BOE]:"cn",[n.SG]:"sg",[n.US]:"us",[n.BOEI18N]:"sg"},t.ApiServerMap={[n.CN]:"https://api.marscode.cn",[n.BOE]:"https://bytesec.bytedance.com",[n.SG]:"https://api-sg-central.marscode.com",[n.US]:"https://api-sg-central.marscode.com",[n.BOEI18N]:"https://bytesec.byteintlapi.com"},function(e){e.BYTEDANCE="bytedance",e.PUBLIC="public",e.UNKNOWN="unknown"}(i||(t.Tenant=i={}))},527:(e,t,n)=>{function i(e,t){return function(){return e.apply(t,arguments)}}const{toString:r}=Object.prototype,{getPrototypeOf:o}=Object,s=(a=Object.create(null),e=>{const t=r.call(e);return a[t]||(a[t]=t.slice(8,-1).toLowerCase())});var a;const c=e=>(e=e.toLowerCase(),t=>s(t)===e),u=e=>t=>typeof t===e,{isArray:l}=Array,h=u("undefined"),f=c("ArrayBuffer"),p=u("string"),d=u("function"),g=u("number"),v=e=>null!==e&&"object"==typeof e,m=e=>{if("object"!==s(e))return!1;const t=o(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},_=c("Date"),y=c("File"),b=c("Blob"),E=c("FileList"),S=c("URLSearchParams");function z(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let i,r;if("object"!=typeof e&&(e=[e]),l(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(i=0;i<o;i++)s=r[i],t.call(null,e[s],s,e)}}function w(e,t){t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,T=e=>!h(e)&&e!==A,O=(k="undefined"!=typeof Uint8Array&&o(Uint8Array),e=>k&&e instanceof k);var k;const R=c("HTMLFormElement"),L=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),C=c("RegExp"),D=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};z(n,((n,r)=>{let o;!1!==(o=t(n,r,e))&&(i[r]=o||n)})),Object.defineProperties(e,i)},x="abcdefghijklmnopqrstuvwxyz",I="0123456789",N={DIGIT:I,ALPHA:x,ALPHA_DIGIT:x+x.toUpperCase()+I},P=c("AsyncFunction");var M={isArray:l,isArrayBuffer:f,isBuffer:function(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&d(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||d(e.append)&&("formdata"===(t=s(e))||"object"===t&&d(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer),t},isString:p,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject:v,isPlainObject:m,isUndefined:h,isDate:_,isFile:y,isBlob:b,isRegExp:C,isFunction:d,isStream:e=>v(e)&&d(e.pipe),isURLSearchParams:S,isTypedArray:O,isFileList:E,forEach:z,merge:function e(){const{caseless:t}=T(this)&&this||{},n={},i=(i,r)=>{const o=t&&w(n,r)||r;m(n[o])&&m(i)?n[o]=e(n[o],i):m(i)?n[o]=e({},i):l(i)?n[o]=i.slice():n[o]=i};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&z(arguments[e],i);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(z(t,((t,r)=>{n&&d(t)?e[r]=i(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,s,a;const c={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)a=r[s],i&&!i(a,e,t)||c[a]||(t[a]=e[a],c[a]=!0);e=!1!==n&&o(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:c,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(l(e))return e;let t=e.length;if(!g(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:R,hasOwnProperty:L,hasOwnProp:L,reduceDescriptors:D,freezeMethods:e=>{D(e,((t,n)=>{if(d(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];d(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach((e=>{n[e]=!0}))};return l(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:w,global:A,isContextDefined:T,ALPHABET:N,generateString:(e=16,t=N.ALPHA_DIGIT)=>{let n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&d(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(v(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const r=l(e)?[]:{};return z(e,((e,t)=>{const o=n(e,i+1);!h(o)&&(r[t]=o)})),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:P,isThenable:e=>e&&(v(e)||d(e))&&d(e.then)&&d(e.catch)};function j(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}M.inherits(j,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const U=j.prototype,G={};function B(e){return M.isPlainObject(e)||M.isArray(e)}function F(e){return M.endsWith(e,"[]")?e.slice(0,-2):e}function V(e,t,n){return e?e.concat(t).map((function(e,t){return e=F(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{G[e]={value:e}})),Object.defineProperties(j,G),Object.defineProperty(U,"isAxiosError",{value:!0}),j.from=(e,t,n,i,r,o)=>{const s=Object.create(U);return M.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),j.call(s,e.message,t,n,i,r),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const q=M.toFlatObject(M,{},null,(function(e){return/^is[A-Z]/.test(e)}));function K(e,t,n){if(!M.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!M.isUndefined(t[e])}))).metaTokens,r=n.visitor||u,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&M.isSpecCompliantForm(t);if(!M.isFunction(r))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(M.isDate(e))return e.toISOString();if(!a&&M.isBlob(e))throw new j("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(e)||M.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,r){let a=e;if(e&&!r&&"object"==typeof e)if(M.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(M.isArray(e)&&function(e){return M.isArray(e)&&!e.some(B)}(e)||(M.isFileList(e)||M.endsWith(n,"[]"))&&(a=M.toArray(e)))return n=F(n),a.forEach((function(e,i){!M.isUndefined(e)&&null!==e&&t.append(!0===s?V([n],i,o):null===s?n:n+"[]",c(e))})),!1;return!!B(e)||(t.append(V(r,n,o),c(e)),!1)}const l=[],h=Object.assign(q,{defaultVisitor:u,convertValue:c,isVisitable:B});if(!M.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!M.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+i.join("."));l.push(n),M.forEach(n,(function(n,o){!0===(!(M.isUndefined(n)||null===n)&&r.call(t,n,M.isString(o)?o.trim():o,i,h))&&e(n,i?i.concat(o):[o])})),l.pop()}}(e),t}function H(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function W(e,t){this._pairs=[],e&&K(e,this,t)}const J=W.prototype;function X(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $(e,t,n){if(!t)return e;const i=n&&n.encode||X,r=n&&n.serialize;let o;if(o=r?r(t,n):M.isURLSearchParams(t)?t.toString():new W(t,n).toString(i),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}J.append=function(e,t){this._pairs.push([e,t])},J.toString=function(e){const t=e?function(t){return e.call(this,t,H)}:H;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Y=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Z={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Q={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:W,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const ee="undefined"!=typeof window&&"undefined"!=typeof document,te=(ne="undefined"!=typeof navigator&&navigator.product,ee&&["ReactNative","NativeScript","NS"].indexOf(ne)<0);var ne;const ie="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var re={...Object.freeze({__proto__:null,hasBrowserEnv:ee,hasStandardBrowserWebWorkerEnv:ie,hasStandardBrowserEnv:te}),...Q};function oe(e){function t(e,n,i,r){let o=e[r++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=r>=e.length;return o=!o&&M.isArray(i)?i.length:o,a?(M.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):(i[o]&&M.isObject(i[o])||(i[o]=[]),t(e,n,i[o],r)&&M.isArray(i[o])&&(i[o]=function(e){const t={},n=Object.keys(e);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],t[o]=e[o];return t}(i[o])),!s)}if(M.isFormData(e)&&M.isFunction(e.entries)){const n={};return M.forEachEntry(e,((e,i)=>{t(function(e){return M.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,n,0)})),n}return null}const se={transitional:Z,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=M.isObject(e);if(r&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i?JSON.stringify(oe(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return K(e,new re.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return re.isNode&&M.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=M.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return K(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e){if(M.isString(e))try{return(0,JSON.parse)(e),M.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||se.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(e&&M.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw j.from(e,j.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:re.classes.FormData,Blob:re.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],(e=>{se.headers[e]={}}));var ae=se;const ce=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ue=Symbol("internals");function le(e){return e&&String(e).trim().toLowerCase()}function he(e){return!1===e||null==e?e:M.isArray(e)?e.map(he):String(e)}function fe(e,t,n,i,r){return M.isFunction(i)?i.call(this,t,n):(r&&(t=n),M.isString(t)?M.isString(i)?-1!==t.indexOf(i):M.isRegExp(i)?i.test(t):void 0:void 0)}class pe{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(e,t,n){const r=le(t);if(!r)throw new Error("header name must be a non-empty string");const o=M.findKey(i,r);(!o||void 0===i[o]||!0===n||void 0===n&&!1!==i[o])&&(i[o||t]=he(e))}const o=(e,t)=>M.forEach(e,((e,n)=>r(e,n,t)));return M.isPlainObject(e)||e instanceof this.constructor?o(e,t):M.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&ce[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t})(e),t):null!=e&&r(t,e,n),this}get(e,t){if(e=le(e)){const n=M.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(M.isFunction(t))return t.call(this,e,n);if(M.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=le(e)){const n=M.findKey(this,e);return!(!n||void 0===this[n]||t&&!fe(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=le(e)){const r=M.findKey(n,e);!r||t&&!fe(0,n[r],r,t)||(delete n[r],i=!0)}}return M.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];e&&!fe(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return M.forEach(this,((i,r)=>{const o=M.findKey(n,r);if(o)return t[o]=he(i),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();s!==r&&delete t[r],t[s]=he(i),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return M.forEach(this,((n,i)=>{null!=n&&!1!==n&&(t[i]=e&&M.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[ue]=this[ue]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=le(e);t[i]||(function(e,t){const n=M.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[i]=!0)}return M.isArray(e)?e.forEach(i):i(e),this}}pe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),M.reduceDescriptors(pe.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),M.freezeMethods(pe);var de=pe;function ge(e,t){const n=this||ae,i=t||n,r=de.from(i.headers);let o=i.data;return M.forEach(e,(function(e){o=e.call(n,o,r.normalize(),t?t.status:void 0)})),r.normalize(),o}function ve(e){return!(!e||!e.__CANCEL__)}function me(e,t,n){j.call(this,null==e?"canceled":e,j.ERR_CANCELED,t,n),this.name="CanceledError"}M.inherits(me,j,{__CANCEL__:!0});var _e=re.hasStandardBrowserEnv?{write(e,t,n,i,r,o){const s=[e+"="+encodeURIComponent(t)];M.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),M.isString(i)&&s.push("path="+i),M.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ye(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var be=re.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function i(n){let i=n;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=i(window.location.href),function(e){const t=M.isString(e)?i(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function Ee(e,t){let n=0;const i=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),u=i[s];r||(r=c),n[o]=a,i[o]=c;let l=s,h=0;for(;l!==o;)h+=n[l++],l%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),c-r<t)return;const f=u&&c-u;return f?Math.round(1e3*h/f):void 0}}(50,250);return r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,c=i(a);n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:r};u[t?"download":"upload"]=!0,e(u)}}const Se={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let i=e.data;const r=de.from(e.headers).normalize();let o,s,{responseType:a,withXSRFToken:c}=e;function u(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(M.isFormData(i))if(re.hasStandardBrowserEnv||re.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if(!1!==(s=r.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];r.setContentType([e||"multipart/form-data",...t].join("; "))}let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(t+":"+n))}const h=ye(e.baseURL,e.url);function f(){if(!l)return;const i=de.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new j("Request failed with status code "+n.status,[j.ERR_BAD_REQUEST,j.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:a&&"text"!==a&&"json"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:i,config:e,request:l}),l=null}if(l.open(e.method.toUpperCase(),$(h,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(f)},l.onabort=function(){l&&(n(new j("Request aborted",j.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new j("Network Error",j.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const i=e.transitional||Z;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new j(t,i.clarifyTimeoutError?j.ETIMEDOUT:j.ECONNABORTED,e,l)),l=null},re.hasStandardBrowserEnv&&(c&&M.isFunction(c)&&(c=c(e)),c||!1!==c&&be(h))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&_e.read(e.xsrfCookieName);t&&r.set(e.xsrfHeaderName,t)}void 0===i&&r.setContentType(null),"setRequestHeader"in l&&M.forEach(r.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),M.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",Ee(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Ee(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{l&&(n(!t||t.type?new me(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const p=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);p&&-1===re.protocols.indexOf(p)?n(new j("Unsupported protocol "+p+":",j.ERR_BAD_REQUEST,e)):l.send(i||null)}))}};M.forEach(Se,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const ze=e=>`- ${e}`,we=e=>M.isFunction(e)||null===e||!1===e;var Ae=e=>{e=M.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let o=0;o<t;o++){let t;if(n=e[o],i=n,!we(n)&&(i=Se[(t=String(n)).toLowerCase()],void 0===i))throw new j(`Unknown adapter '${t}'`);if(i)break;r[t||"#"+o]=i}if(!i){const e=Object.entries(r).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new j("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(ze).join("\n"):" "+ze(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i};function Te(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new me(null,e)}function Oe(e){return Te(e),e.headers=de.from(e.headers),e.data=ge.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ae(e.adapter||ae.adapter)(e).then((function(t){return Te(e),t.data=ge.call(e,e.transformResponse,t),t.headers=de.from(t.headers),t}),(function(t){return ve(t)||(Te(e),t&&t.response&&(t.response.data=ge.call(e,e.transformResponse,t.response),t.response.headers=de.from(t.response.headers))),Promise.reject(t)}))}const ke=e=>e instanceof de?{...e}:e;function Re(e,t){t=t||{};const n={};function i(e,t,n){return M.isPlainObject(e)&&M.isPlainObject(t)?M.merge.call({caseless:n},e,t):M.isPlainObject(t)?M.merge({},t):M.isArray(t)?t.slice():t}function r(e,t,n){return M.isUndefined(t)?M.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}function o(e,t){if(!M.isUndefined(t))return i(void 0,t)}function s(e,t){return M.isUndefined(t)?M.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function a(n,r,o){return o in t?i(n,r):o in e?i(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>r(ke(e),ke(t),!0)};return M.forEach(Object.keys(Object.assign({},e,t)),(function(i){const o=c[i]||r,s=o(e[i],t[i],i);M.isUndefined(s)&&o!==a||(n[i]=s)})),n}const Le={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Le[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Ce={};Le.transitional=function(e,t,n){function i(e,t){return"[Axios v1.6.8] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,o)=>{if(!1===e)throw new j(i(r," has been removed"+(t?" in "+t:"")),j.ERR_DEPRECATED);return t&&!Ce[r]&&(Ce[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}};var De={assertOptions:function(e,t,n){if("object"!=typeof e)throw new j("options must be an object",j.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const o=i[r],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new j("option "+o+" must be "+n,j.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new j("Unknown option "+o,j.ERR_BAD_OPTION)}},validators:Le};const xe=De.validators;class Ie{constructor(e){this.defaults=e,this.interceptors={request:new Y,response:new Y}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Re(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&De.assertOptions(n,{silentJSONParsing:xe.transitional(xe.boolean),forcedJSONParsing:xe.transitional(xe.boolean),clarifyTimeoutError:xe.transitional(xe.boolean)},!1),null!=i&&(M.isFunction(i)?t.paramsSerializer={serialize:i}:De.assertOptions(i,{encode:xe.function,serialize:xe.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&M.merge(r.common,r[t.method]);r&&M.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=de.concat(o,r);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,h=0;if(!a){const e=[Oe.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,c),l=e.length,u=Promise.resolve(t);h<l;)u=u.then(e[h++],e[h++]);return u}l=s.length;let f=t;for(h=0;h<l;){const e=s[h++],t=s[h++];try{f=e(f)}catch(e){t.call(this,e);break}}try{u=Oe.call(this,f)}catch(e){return Promise.reject(e)}for(h=0,l=c.length;h<l;)u=u.then(c[h++],c[h++]);return u}getUri(e){return $(ye((e=Re(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}M.forEach(["delete","get","head","options"],(function(e){Ie.prototype[e]=function(t,n){return this.request(Re(n||{},{method:e,url:t,data:(n||{}).data}))}})),M.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(Re(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Ie.prototype[e]=t(),Ie.prototype[e+"Form"]=t(!0)}));var Ne=Ie;class Pe{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e,i,r){n.reason||(n.reason=new me(e,i,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Pe((function(t){e=t})),cancel:e}}}var Me=Pe;const je={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(je).forEach((([e,t])=>{je[t]=e}));var Ue=je;const Ge=function e(t){const n=new Ne(t),r=i(Ne.prototype.request,n);return M.extend(r,Ne.prototype,n,{allOwnKeys:!0}),M.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Re(t,n))},r}(ae);Ge.Axios=Ne,Ge.CanceledError=me,Ge.CancelToken=Me,Ge.isCancel=ve,Ge.VERSION="1.6.8",Ge.toFormData=K,Ge.AxiosError=j,Ge.Cancel=Ge.CanceledError,Ge.all=function(e){return Promise.all(e)},Ge.spread=function(e){return function(t){return e.apply(null,t)}},Ge.isAxiosError=function(e){return M.isObject(e)&&!0===e.isAxiosError},Ge.mergeConfig=Re,Ge.AxiosHeaders=de,Ge.formToJSON=e=>oe(M.isHTMLForm(e)?new FormData(e):e),Ge.getAdapter=Ae,Ge.HttpStatusCode=Ue,Ge.default=Ge,e.exports=Ge},869:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;const n="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,i=new Set,r="object"==typeof process&&process?process:{},o=(e,t,n,i)=>{"function"==typeof r.emitWarning?r.emitWarning(e,t,n,i):console.error(`[${n}] ${t}: ${e}`)};let s=globalThis.AbortController,a=globalThis.AbortSignal;if(void 0===s){a=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},s=class{constructor(){t()}signal=new a;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==r.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,o("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const c=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),u=e=>c(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?l:null:null;class l extends Array{constructor(e){super(e),this.fill(0)}}class h{heap;length;static#e=!1;static create(e){const t=u(e);if(!t)return[];h.#e=!0;const n=new h(e,t);return h.#e=!1,n}constructor(e,t){if(!h.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class f{#t;#n;#i;#r;#o;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#a;#c;#u;#l;#h;#f;#p;#d;#g;#v;#m;#_;#y;#b;#E;#S;static unsafeExposeInternals(e){return{starts:e.#_,ttls:e.#y,sizes:e.#m,keyMap:e.#c,keyList:e.#u,valList:e.#l,next:e.#h,prev:e.#f,get head(){return e.#p},get tail(){return e.#d},free:e.#g,isBackgroundFetch:t=>e.#z(t),backgroundFetch:(t,n,i,r)=>e.#w(t,n,i,r),moveToTail:t=>e.#A(t),indexes:t=>e.#T(t),rindexes:t=>e.#O(t),isStale:t=>e.#k(t)}}get max(){return this.#t}get maxSize(){return this.#n}get calculatedSize(){return this.#a}get size(){return this.#s}get fetchMethod(){return this.#o}get dispose(){return this.#i}get disposeAfter(){return this.#r}constructor(e){const{max:t=0,ttl:n,ttlResolution:r=1,ttlAutopurge:s,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:p,dispose:d,disposeAfter:g,noDisposeOnSet:v,noUpdateTTL:m,maxSize:_=0,maxEntrySize:y=0,sizeCalculation:b,fetchMethod:E,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:z,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:A,ignoreFetchAbort:T}=e;if(0!==t&&!c(t))throw new TypeError("max option must be a nonnegative integer");const O=t?u(t):Array;if(!O)throw new Error("invalid max value: "+t);if(this.#t=t,this.#n=_,this.maxEntrySize=y||this.#n,this.sizeCalculation=b,this.sizeCalculation){if(!this.#n&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==E&&"function"!=typeof E)throw new TypeError("fetchMethod must be a function if specified");if(this.#o=E,this.#E=!!E,this.#c=new Map,this.#u=new Array(t).fill(void 0),this.#l=new Array(t).fill(void 0),this.#h=new O(t),this.#f=new O(t),this.#p=0,this.#d=0,this.#g=h.create(t),this.#s=0,this.#a=0,"function"==typeof d&&(this.#i=d),"function"==typeof g?(this.#r=g,this.#v=[]):(this.#r=void 0,this.#v=void 0),this.#b=!!this.#i,this.#S=!!this.#r,this.noDisposeOnSet=!!v,this.noUpdateTTL=!!m,this.noDeleteOnFetchRejection=!!S,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!A,this.ignoreFetchAbort=!!T,0!==this.maxEntrySize){if(0!==this.#n&&!c(this.#n))throw new TypeError("maxSize must be a positive integer if specified");if(!c(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#R()}if(this.allowStale=!!p,this.noDeleteOnStaleGet=!!z,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=c(r)||0===r?r:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!c(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#L()}if(0===this.#t&&0===this.ttl&&0===this.#n)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#n){const e="LRU_CACHE_UNBOUNDED";(e=>!i.has(e))(e)&&(i.add(e),o("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,f))}}getRemainingTTL(e){return this.#c.has(e)?1/0:0}#L(){const e=new l(this.#t),t=new l(this.#t);this.#y=e,this.#_=t,this.#C=(i,r,o=n.now())=>{if(t[i]=0!==r?o:0,e[i]=r,0!==r&&this.ttlAutopurge){const e=setTimeout((()=>{this.#k(i)&&this.delete(this.#u[i])}),r+1);e.unref&&e.unref()}},this.#D=i=>{t[i]=0!==e[i]?n.now():0},this.#x=(n,o)=>{if(e[o]){const s=e[o],a=t[o];if(!s||!a)return;n.ttl=s,n.start=a,n.now=i||r();const c=n.now-a;n.remainingTTL=s-c}};let i=0;const r=()=>{const e=n.now();if(this.ttlResolution>0){i=e;const t=setTimeout((()=>i=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=n=>{const o=this.#c.get(n);if(void 0===o)return 0;const s=e[o],a=t[o];return s&&a?s-((i||r())-a):1/0},this.#k=n=>{const o=t[n],s=e[n];return!!s&&!!o&&(i||r())-o>s}}#D=()=>{};#x=()=>{};#C=()=>{};#k=()=>!1;#R(){const e=new l(this.#t);this.#a=0,this.#m=e,this.#I=t=>{this.#a-=e[t],e[t]=0},this.#N=(e,t,n,i)=>{if(this.#z(t))return 0;if(!c(n)){if(!i)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof i)throw new TypeError("sizeCalculation must be a function");if(n=i(t,e),!c(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return n},this.#P=(t,n,i)=>{if(e[t]=n,this.#n){const n=this.#n-e[t];for(;this.#a>n;)this.#M(!0)}this.#a+=e[t],i&&(i.entrySize=n,i.totalCalculatedSize=this.#a)}}#I=e=>{};#P=(e,t,n)=>{};#N=(e,t,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#T({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#d;this.#j(t)&&(!e&&this.#k(t)||(yield t),t!==this.#p);)t=this.#f[t]}*#O({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#p;this.#j(t)&&(!e&&this.#k(t)||(yield t),t!==this.#d);)t=this.#h[t]}#j(e){return void 0!==e&&this.#c.get(this.#u[e])===e}*entries(){for(const e of this.#T())void 0===this.#l[e]||void 0===this.#u[e]||this.#z(this.#l[e])||(yield[this.#u[e],this.#l[e]])}*rentries(){for(const e of this.#O())void 0===this.#l[e]||void 0===this.#u[e]||this.#z(this.#l[e])||(yield[this.#u[e],this.#l[e]])}*keys(){for(const e of this.#T()){const t=this.#u[e];void 0===t||this.#z(this.#l[e])||(yield t)}}*rkeys(){for(const e of this.#O()){const t=this.#u[e];void 0===t||this.#z(this.#l[e])||(yield t)}}*values(){for(const e of this.#T())void 0===this.#l[e]||this.#z(this.#l[e])||(yield this.#l[e])}*rvalues(){for(const e of this.#O())void 0===this.#l[e]||this.#z(this.#l[e])||(yield this.#l[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(const n of this.#T()){const i=this.#l[n],r=this.#z(i)?i.__staleWhileFetching:i;if(void 0!==r&&e(r,this.#u[n],this))return this.get(this.#u[n],t)}}forEach(e,t=this){for(const n of this.#T()){const i=this.#l[n],r=this.#z(i)?i.__staleWhileFetching:i;void 0!==r&&e.call(t,r,this.#u[n],this)}}rforEach(e,t=this){for(const n of this.#O()){const i=this.#l[n],r=this.#z(i)?i.__staleWhileFetching:i;void 0!==r&&e.call(t,r,this.#u[n],this)}}purgeStale(){let e=!1;for(const t of this.#O({allowStale:!0}))this.#k(t)&&(this.delete(this.#u[t]),e=!0);return e}info(e){const t=this.#c.get(e);if(void 0===t)return;const i=this.#l[t],r=this.#z(i)?i.__staleWhileFetching:i;if(void 0===r)return;const o={value:r};if(this.#y&&this.#_){const e=this.#y[t],i=this.#_[t];if(e&&i){const t=e-(n.now()-i);o.ttl=t,o.start=Date.now()}}return this.#m&&(o.size=this.#m[t]),o}dump(){const e=[];for(const t of this.#T({allowStale:!0})){const i=this.#u[t],r=this.#l[t],o=this.#z(r)?r.__staleWhileFetching:r;if(void 0===o||void 0===i)continue;const s={value:o};if(this.#y&&this.#_){s.ttl=this.#y[t];const e=n.now()-this.#_[t];s.start=Math.floor(Date.now()-e)}this.#m&&(s.size=this.#m[t]),e.unshift([i,s])}return e}load(e){this.clear();for(const[t,i]of e){if(i.start){const e=Date.now()-i.start;i.start=n.now()-e}this.set(t,i.value,i)}}set(e,t,n={}){if(void 0===t)return this.delete(e),this;const{ttl:i=this.ttl,start:r,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:a}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const u=this.#N(e,t,n.size||0,s);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(e),this;let l=0===this.#s?void 0:this.#c.get(e);if(void 0===l)l=0===this.#s?this.#d:0!==this.#g.length?this.#g.pop():this.#s===this.#t?this.#M(!1):this.#s,this.#u[l]=e,this.#l[l]=t,this.#c.set(e,l),this.#h[this.#d]=l,this.#f[l]=this.#d,this.#d=l,this.#s++,this.#P(l,u,a),a&&(a.set="add"),c=!1;else{this.#A(l);const n=this.#l[l];if(t!==n){if(this.#E&&this.#z(n)){n.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=n;void 0===t||o||(this.#b&&this.#i?.(t,e,"set"),this.#S&&this.#v?.push([t,e,"set"]))}else o||(this.#b&&this.#i?.(n,e,"set"),this.#S&&this.#v?.push([n,e,"set"]));if(this.#I(l),this.#P(l,u,a),this.#l[l]=t,a){a.set="replace";const e=n&&this.#z(n)?n.__staleWhileFetching:n;void 0!==e&&(a.oldValue=e)}}else a&&(a.set="update")}if(0===i||this.#y||this.#L(),this.#y&&(c||this.#C(l,i,r),a&&this.#x(a,l)),!o&&this.#S&&this.#v){const e=this.#v;let t;for(;t=e?.shift();)this.#r?.(...t)}return this}pop(){try{for(;this.#s;){const e=this.#l[this.#p];if(this.#M(!0),this.#z(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#S&&this.#v){const e=this.#v;let t;for(;t=e?.shift();)this.#r?.(...t)}}}#M(e){const t=this.#p,n=this.#u[t],i=this.#l[t];return this.#E&&this.#z(i)?i.__abortController.abort(new Error("evicted")):(this.#b||this.#S)&&(this.#b&&this.#i?.(i,n,"evict"),this.#S&&this.#v?.push([i,n,"evict"])),this.#I(t),e&&(this.#u[t]=void 0,this.#l[t]=void 0,this.#g.push(t)),1===this.#s?(this.#p=this.#d=0,this.#g.length=0):this.#p=this.#h[t],this.#c.delete(n),this.#s--,t}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=t,r=this.#c.get(e);if(void 0!==r){const e=this.#l[r];if(this.#z(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#k(r))return n&&this.#D(r),i&&(i.has="hit",this.#x(i,r)),!0;i&&(i.has="stale",this.#x(i,r))}else i&&(i.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,i=this.#c.get(e);if(void 0===i||!n&&this.#k(i))return;const r=this.#l[i];return this.#z(r)?r.__staleWhileFetching:r}#w(e,t,n,i){const r=void 0===t?void 0:this.#l[t];if(this.#z(r))return r;const o=new s,{signal:a}=n;a?.addEventListener("abort",(()=>o.abort(a.reason)),{signal:o.signal});const c={signal:o.signal,options:n,context:i},u=(i,r=!1)=>{const{aborted:s}=o.signal,a=n.ignoreFetchAbort&&void 0!==i;if(n.status&&(s&&!r?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,a&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),s&&!a&&!r)return l(o.signal.reason);const u=h;return this.#l[t]===h&&(void 0===i?u.__staleWhileFetching?this.#l[t]=u.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,i,c.options))),i},l=i=>{const{aborted:r}=o.signal,s=r&&n.allowStaleOnFetchAbort,a=s||n.allowStaleOnFetchRejection,c=a||n.noDeleteOnFetchRejection,u=h;if(this.#l[t]===h&&(c&&void 0!==u.__staleWhileFetching?s||(this.#l[t]=u.__staleWhileFetching):this.delete(e)),a)return n.status&&void 0!==u.__staleWhileFetching&&(n.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw i};n.status&&(n.status.fetchDispatched=!0);const h=new Promise(((t,i)=>{const s=this.#o?.(e,r,c);s&&s instanceof Promise&&s.then((e=>t(void 0===e?void 0:e)),i),o.signal.addEventListener("abort",(()=>{n.ignoreFetchAbort&&!n.allowStaleOnFetchAbort||(t(void 0),n.allowStaleOnFetchAbort&&(t=e=>u(e,!0)))}))})).then(u,(e=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=e),l(e)))),f=Object.assign(h,{__abortController:o,__staleWhileFetching:r,__returned:void 0});return void 0===t?(this.set(e,f,{...c.options,status:void 0}),t=this.#c.get(e)):this.#l[t]=f,f}#z(e){if(!this.#E)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof s}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:p=this.allowStaleOnFetchAbort,context:d,forceRefresh:g=!1,status:v,signal:m}=t;if(!this.#E)return v&&(v.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:r,status:v});const _={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:r,ttl:o,noDisposeOnSet:s,size:a,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:l,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:p,ignoreFetchAbort:f,status:v,signal:m};let y=this.#c.get(e);if(void 0===y){v&&(v.fetch="miss");const t=this.#w(e,y,_,d);return t.__returned=t}{const t=this.#l[y];if(this.#z(t)){const e=n&&void 0!==t.__staleWhileFetching;return v&&(v.fetch="inflight",e&&(v.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const r=this.#k(y);if(!g&&!r)return v&&(v.fetch="hit"),this.#A(y),i&&this.#D(y),v&&this.#x(v,y),t;const o=this.#w(e,y,_,d),s=void 0!==o.__staleWhileFetching&&n;return v&&(v.fetch=r?"stale":"refresh",s&&r&&(v.returnedStale=!0)),s?o.__staleWhileFetching:o.__returned=o}}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:o}=t,s=this.#c.get(e);if(void 0!==s){const t=this.#l[s],a=this.#z(t);return o&&this.#x(o,s),this.#k(s)?(o&&(o.get="stale"),a?(o&&n&&void 0!==t.__staleWhileFetching&&(o.returnedStale=!0),n?t.__staleWhileFetching:void 0):(r||this.delete(e),o&&n&&(o.returnedStale=!0),n?t:void 0)):(o&&(o.get="hit"),a?t.__staleWhileFetching:(this.#A(s),i&&this.#D(s),t))}o&&(o.get="miss")}#U(e,t){this.#f[t]=e,this.#h[e]=t}#A(e){e!==this.#d&&(e===this.#p?this.#p=this.#h[e]:this.#U(this.#f[e],this.#h[e]),this.#U(this.#d,e),this.#d=e)}delete(e){let t=!1;if(0!==this.#s){const n=this.#c.get(e);if(void 0!==n)if(t=!0,1===this.#s)this.clear();else{this.#I(n);const t=this.#l[n];if(this.#z(t)?t.__abortController.abort(new Error("deleted")):(this.#b||this.#S)&&(this.#b&&this.#i?.(t,e,"delete"),this.#S&&this.#v?.push([t,e,"delete"])),this.#c.delete(e),this.#u[n]=void 0,this.#l[n]=void 0,n===this.#d)this.#d=this.#f[n];else if(n===this.#p)this.#p=this.#h[n];else{const e=this.#f[n];this.#h[e]=this.#h[n];const t=this.#h[n];this.#f[t]=this.#f[n]}this.#s--,this.#g.push(n)}}if(this.#S&&this.#v?.length){const e=this.#v;let t;for(;t=e?.shift();)this.#r?.(...t)}return t}clear(){for(const e of this.#O({allowStale:!0})){const t=this.#l[e];if(this.#z(t))t.__abortController.abort(new Error("deleted"));else{const n=this.#u[e];this.#b&&this.#i?.(t,n,"delete"),this.#S&&this.#v?.push([t,n,"delete"])}}if(this.#c.clear(),this.#l.fill(void 0),this.#u.fill(void 0),this.#y&&this.#_&&(this.#y.fill(0),this.#_.fill(0)),this.#m&&this.#m.fill(0),this.#p=0,this.#d=0,this.#g.length=0,this.#a=0,this.#s=0,this.#S&&this.#v){const e=this.#v;let t;for(;t=e?.shift();)this.#r?.(...t)}}}t.LRUCache=f}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}return n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(404)})()));