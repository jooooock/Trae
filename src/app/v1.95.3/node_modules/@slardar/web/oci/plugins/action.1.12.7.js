!function(){"use strict";var G=function(){return(G=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function P(t,n){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var e,i,o=r.call(t),u=[];try{for(;(void 0===n||0<n--)&&!(e=o.next()).done;)u.push(e.value)}catch(t){i={error:t}}finally{try{e&&!e.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return u}function U(t,n,r){if(r||2===arguments.length)for(var e,i=0,o=n.length;i<o;i++)!e&&i in n||((e=e||Array.prototype.slice.call(n,0,i))[i]=n[i]);return t.concat(e||Array.prototype.slice.call(n))}var c=function(){return{}};function a(t){return"object"==typeof t&&null!==t}var e=Object.prototype;function f(t){return"function"==typeof t}function Y(t,n){if("[object Array]"===e.toString.call(t)&&0!==t.length)for(var r=0;r<t.length;){if(t[r]===n)return 1;r++}}function s(o,u,a){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!o)return c;var r=o[u],e=a.apply(void 0,U([r],P(t),!1)),i=e;return f(i)&&(i=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(this,t)}),o[u]=i,function(){i===o[u]?o[u]=r:e=r}}}function X(){var t=function(){for(var t=new Array(16),n=0,r=0;r<16;r++)0==(3&r)&&(n=4294967296*Math.random()),t[r]=n>>>((3&r)<<3)&255;return t}();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,function(t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);var e=0,i=n;return[i[t[e++]],i[t[e++]],i[t[e++]],i[t[e++]],"-",i[t[e++]],i[t[e++]],"-",i[t[e++]],i[t[e++]],"-",i[t[e++]],i[t[e++]],"-",i[t[e++]],i[t[e++]],i[t[e++]],i[t[e++]],i[t[+e]],i[t[15]]].join("")}(t)}var l=function(t,n,r,e){return t.destroyAgent.set(n,r,e)};function p(t,n){return t.initSubject(n)}function V(){return Date.now()}function v(){if("object"==typeof window&&a(window))return window}function i(){if(v()&&f(window.PerformanceObserver))return window.PerformanceObserver}function r(){var t=v()&&v()&&window.location;return t?t.href:""}function o(t){var n=t.config();return(n={pid:n.pid,view_id:n.viewId,url:r()}).context=t.context?t.context.toString():{},n}function z(r){var t=r&&r.timing||void 0;return[t,function(){return r&&r.now?r.now():(Date.now?Date.now():+new Date)-(t&&t.navigationStart||0)},function(t){var n=(r||{}).getEntriesByType;return f(n)&&n.call(r,t)||[]},function(){var t=(r||{}).clearResourceTimings;f(t)&&t.call(r)},function(t){var n=(r||{}).getEntriesByName;return f(n)&&n.call(r,t)||[]}]}var d=function(n,t){void 0===t&&(t=!1);var r=o(n);return t&&(r.timestamp=V()),function(t){n.report(G(G({},t),{overrides:r}))}};function F(t){try{for(var n,r=t,e=[],i=0,o=0,u=" > ".length;r&&i++<5&&!("html"===(n=function(t){var n,r,e,i,o,u=t,a=[];if(!u||!u.tagName)return"";if(a.push(u.tagName.toLowerCase()),u.id)return"#"+u.id;t=u.className;if(t&&"string"==typeof t)for(r=t.split(/\s+/),o=0;o<r.length;o++)a.push("."+r[o]);var c=["type","name","title","alt"];for(o=0;o<c.length;o++)e=c[o],(i=u.getAttribute(e))&&a.push("["+e+'="'+i+'"]');var f=u,s=1,l=!0;for(;f=f.previousElementSibling;)(null===(n=f.tagName)||void 0===n?void 0:n.toLowerCase())===(null===(n=u.tagName)||void 0===n?void 0:n.toLowerCase())&&(f.className===u.className&&c.every(function(t){return u.getAttribute(t)===(null==f?void 0:f.getAttribute(t))})&&(l=!1),s++);1<s&&!l&&a.push(":nth-of-type("+s+")");return a.join("")}(r))||1<i&&256<=o+e.length*u+n.length);)e.push(n),o+=n.length,r=r.parentNode;return e.reverse().join(" > ")}catch(t){return"<unknown>"}}function u(e){return function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t=P(n,2),this._method=t[0],this._url=t[1],e.apply(this,n)}}function h(i){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._reqHeaders=this._reqHeaders||{};var r=P(t,2),e=r[0],r=r[1];return this._reqHeaders[e]=r,i&&i.apply(this,t)}}function m(o,u){var n,a=(n=new RegExp("\\/monitor_web\\/collect|\\/monitor_browser\\/collect\\/batch","i"),function(t){return n.test(t)});return function(){for(var t,e,i,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._start=V(),this._data=null==n?void 0:n[0],a(this._url)||(t=u([this._method,this._url,this._start,this]),i=t,s(e=this,"onreadystatechange",function(r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 4===this.readyState&&i(e),r&&r.apply(this,t)}})()),o.apply(this,n)}}function y(e,i){return function(t,n){var r=i([t,n=void 0===n?{}:n]),n=e(t,n);return n.then(function(t){r(t)},function(){r(void 0)}),n}}function g(t,n,r){return t=P(R(t,n),3),n=t[0],t=t[2],n(r),t}var _=function(t,n){return a(t)?G(G({},n),t):!!t&&n},w="xhr_0",b=function(e){return function(t,n){var r;e&&((r=[]).push(s(e,"open",u)()),r.push(s(e,"setRequestHeader",h)()),r.push(s(e,"send",m)(t)),n(function(){r.forEach(function(t){return t()})}))}},T=["fetch_0",function(t,n){var r,e=v();e&&fetch&&((r=[]).push(s(e,"fetch",y)(t)),n(function(){r.forEach(function(t){return t()})}))}],E=["resource"],A=["longtask"],R=function(e,i,o){var u=e&&new e(function(t,e){t.getEntries?t.getEntries().forEach(function(t,n,r){return i(t,n,r,e)}):o&&o()});return[function(t){if(!e||!u)return o&&o();try{u.observe({entryTypes:t})}catch(t){return o&&o()}},function(t,n){if(!e||!u)return o&&o();try{var r={type:t,buffered:!0};void 0!==n&&(r.durationThreshold=n),u.observe(r)}catch(t){return o&&o()}u.observe({type:t,buffered:!1})},function(){return u&&u.disconnect()}]},S=["longtask_0",function(t,n){var r=i();r&&n(g(r,t,A))}],j=["resource_0",function(t,n){var r=i();r&&n(g(r,t,E))}],J="http",K="resource",Q="performance_longtask",W="action";function Z(t,n){if(t=N()?t.closest("["+n+"]"):function(t,n,r){void 0===r&&(r=10);for(var e=t,i=0;i<r&&e;i++){if(~$.indexOf(e.nodeName))return;if(e.hasAttribute(n))return e;e=e.parentElement}}(t,n))return t.getAttribute(n).trim()}var t,$=["BODY","HTML","HEAD"],tt="data-apm-action",N=function(){return void 0===t?t="closest"in HTMLElement.prototype:t},nt=["click"],rt={capture:!0},x=function(i,o,t,n){function e(t){var n;!b||!w&&!Object.keys(b.metrics).length||Object.keys(C).length&&!t||(b.metrics[Q]&&(b.metrics[Q].duration=R),n=0<A.length?Math.max.apply(Math,U([],P(A),!1))-Math.min.apply(Math,U([],P(A),!1)):0,b.metrics[J]&&(b.metrics[J].duration=n),t=S()-b.start_time,E&&E({ev_type:W,payload:G(G({},b),{duration:t,frontend_time:t-n})}),u())}function u(){x(),b&&(T={start_time:b.start_time,id:b.id}),b=null,A=[],R=0}function a(t){b&&(b.metrics[t]={count:(null!==(t=null===(t=b.metrics[t])||void 0===t?void 0:t.count)&&void 0!==t?t:0)+1})}var r,c,f,s,l,p,v,d=P(t,4),h=d[0],m=d[1],y=d[2],g=d[3],_=n.types,w=n.pure,b=null,T=null,E=void 0,A=[],R=0,S=P(z(performance),2)[1],t=P((r=window,c=e,f=u,s=1e4,v=!1,[function(){v=!0,r.clearTimeout(p),p=r.setTimeout(function(){c(!0),f()},s),L()},L,function(){v=!1,r.clearTimeout(l),r.clearTimeout(p)}]),3),j=t[0],N=t[1],x=t[2];function L(){r.clearTimeout(l),v&&(l=r.setTimeout(function(){c()},100))}var O,M,k,H,D,q,C=(d=o,O=N,t=P(n=[h,m],2),h=t[0],m=t[1],n=P([M={},function(t,n){return M[t]=n},function(t){return delete M[t]}],3),t=n[0],k=n[1],H=n[2],D=0,d.push(h[0](function(t){P(t,1)[0];var n=D+=1;return k(n,V()),O(),function(){H(n),O()}})),d.push(m[0](function(){var t=D+=1;return k(t,V()),O(),function(){H(t),O()}})),t),m=P((m=MutationObserver,t=N,q=m&&new m(t),[function(t,n){q&&t&&q.observe(t,n)},function(){return q&&q.disconnect()}]),2),t=m[0],m=m[1];t(),o.push(m),o.push(x),o.push(y[0](function(t){var n=t.startTime,t=t.duration;N(),b&&b.start_time<=n+50&&(R+=t,a(Q))})),o.push(g[0](function(t){var n=t.startTime,r=t.duration,t=t.initiatorType;N(),b&&b.start_time<n&&(["xmlhttprequest","fetch"].includes(t)&&(A.push(n,n+r),a(J)),["xmlhttprequest","fetch","beacon"].includes(t)||a(K))}));function I(t,n){var r=X(),e=P(z(performance),2)[1];b={start_time:e(),id:r,type:n,target:t,metrics:{}},E=i(),j()}function B(t){var n,r;e(!0),u(),t.target instanceof HTMLElement&&(r=t.target,n=r.tagName.toUpperCase(),!(1!==r.nodeType||$.includes(n)||function(t){for(var n=t,r=!1;n;)"SVG"===n.tagName.toUpperCase()?r=!(n=null):n=n.parentElement;return r}(r)||(r.style&&"none"===r.style.display||!["A","BUTTON","INPUT","TEXTAREA"].includes(n)&&!Z(r,tt)&&!function(t){t=t.children;return!t.length||![].slice.call(t).some(function(t){return 0<t.children.length})}(r))))&&(r=t.target,(r=Z(r,tt)||r.innerText)&&I({name:r,path:F(t.target)},t.type))}_&&_.forEach(function(t){var n,r,e,i;Y(nt,t)&&o.push((n=document,r=t,e=B,void 0===(i=rt)&&(i=!1),n.addEventListener(r,e,i),function(){n.removeEventListener(r,e,i)}))});return[function(t){if("pageview"===t.ev_type)return e(!0),void u();if(t.ev_type===J)return(n=t.payload.response.timing&&t.payload.response.timing.startTime)?b&&n>b.start_time?b.id:T&&n>T.start_time?T.id:void 0:void 0;if(t.ev_type!==Q)return b?("js_error"!==t.ev_type&&t.ev_type!==K||a(t.ev_type),b.id):void 0;var n=t.payload.longtasks.length&&t.payload.longtasks[0].startTime+50;return b&&n&&n>b.start_time?b.id:void 0},function(t,n){e(!0),u(),I({name:t},n)}]},L="action",O={types:["click"],pure:!0};function M(t,n){void 0===n&&(n=O);var r,e,i=[],o=function(){if("object"==typeof document&&a(document))return document}(),u=v();o&&u&&(n=P(x(function(){return d(t,!0)},i,[p(t,[w,b(XMLHttpRequest&&XMLHttpRequest.prototype)]),p(t,T),p(t,S),p(t,j)],n),2),r=n[0],n=n[1],t.on("report",e=function(t){var n=r(t);return n&&t.extra&&(t.extra.action_id=n),t}),i.push(function(){t.off("report",e)}),t.provide("startAction",n),l(t,L,W,i))}var n,k,H,D,q="1.12.7";n=L,k=function(e){e.on("init",function(){var t,n,r,r=(n=L,r=O,n=null===(t=(t=e).config())||void 0===t?void 0:t.plugins[n],_(n,r));r&&M(e,r)})},(H=void 0===H?function(t){if(t)return t.__SLARDAR_REGISTRY__||(t.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),t.__SLARDAR_REGISTRY__.Slardar}(v()):H)&&H.plugins&&(D=n,H.plugins.filter(function(t){return t.name===D&&t.version===q})[0]||H.plugins.push({name:n,version:q,apply:k}))}();
