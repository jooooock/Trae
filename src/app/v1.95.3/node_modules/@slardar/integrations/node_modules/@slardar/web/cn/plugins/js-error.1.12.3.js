!function(){"use strict";var u=function(){return(u=Object.assign||function(r){for(var n,t=1,e=arguments.length;t<e;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r}).apply(this,arguments)};function v(r,n){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var e,o,u=t.call(r),c=[];try{for(;(void 0===n||0<n--)&&!(e=u.next()).done;)c.push(e.value)}catch(r){o={error:r}}finally{try{e&&!e.done&&(t=u.return)&&t.call(u)}finally{if(o)throw o.error}}return c}function f(r,n,t){if(t||2===arguments.length)for(var e,o=0,u=n.length;o<u;o++)!e&&o in n||((e=e||Array.prototype.slice.call(n,0,o))[o]=n[o]);return r.concat(e||Array.prototype.slice.call(n))}var l=function(){return{}};function e(r){return"object"==typeof r&&null!==r}var t=Object.prototype;function s(r){return"function"==typeof r}function c(r){return"string"==typeof r}function o(r){return"undefined"!=typeof Event&&function(r,n){try{return r instanceof n}catch(r){return}}(r,Event)}var i=function(t,r){return t&&e(t)?r.reduce(function(r,n){return r[n]=t[n],r},{}):t};function d(r){return"[object Array]"===t.toString.call(r)&&r.length?function(r){for(var n=[],t=r.length,e=0;e<t;e++){var o=r[e];c(o)?n.push(o.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):o&&o.source&&n.push(o.source)}return new RegExp(n.join("|"),"i")}(r):null}function a(u,c,i,a){return void 0===a&&(a=!0),function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(!u)return l;var t=u[c],e=i.apply(void 0,f([t],v(r),!1)),o=e;return s(o)&&a&&(o=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(this,n)}catch(r){return s(t)&&t.apply(this,n)}}),u[c]=o,function(r){r||(o===u[c]?u[c]=t:e=t)}}}function p(r,n){return r.initSubject(n)}function h(){if("object"==typeof window&&e(window))return window}function y(r){if(r)return r.__SLARDAR_REGISTRY__||(r.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),r.__SLARDAR_REGISTRY__.Slardar}var g=function(r,n){return e(r)?u(u({},n),r):!!r&&n},E="js_error";function b(r){var n;return!function(r){switch(Object.prototype.toString.call(r)){case"[object Error]":case"[object Exception]":case"[object DOMError]":case"[object DOMException]":return 1;default:return r instanceof Error}}(r)?(function(r){if(e(r)){if("function"!=typeof Object.getPrototypeOf)return"[object Object]"===t.toString.call(r);r=Object.getPrototypeOf(r);return r===t||null===r}}(r)||o(r)||c(r))&&(n={message:function(r){try{return c(r)?r:JSON.stringify(r)}catch(r){return"[FAILED_TO_STRINGIFY]:"+String(r)}}(r)}):n=i(r,m),n}function _(r,n){return r&&n&&r===n}function j(o,r,n,t){function e(r){var n=r.error,t=r.extra,e=r.react,r=r.source;!(n=l?p(n):n)||!n.message||s&&s.test(n.message)||o({ev_type:E,payload:{error:n,breadcrumbs:[],extra:t,react:e,source:r}})}var u=(f=v(n,3))[0],c=f[1],i=f[2],a=t.ignoreErrors,n=t.onerror,f=t.onunhandledrejection,l=t.dedupe,t=t.captureGlobalAsync,s=d(a),p=M();return n&&r.push(u[0](function(r){return e({error:R(r),source:{type:"onerror"}})})),f&&r.push(c[0](function(r){return e({error:S(r),source:{type:"onunhandledrejection"}})})),t&&r.push(i()[0](function(r){e(r)})),function(r,n,t){return e({error:w(r),extra:n,react:t,source:{type:"manual"}})}}var m=["name","message","stack","filename","lineno","colno"],R=function(r){return b(r.error)},S=function(r){var n;try{var t=void 0;if("reason"in r?t=r.reason:"detail"in r&&"reason"in r.detail&&(t=r.detail.reason),t){var e=b(t);return u(u({},e),{name:null!==(n=e&&e.name)&&void 0!==n?n:"UnhandledRejection"})}}catch(r){}},w=function(r){return"[object ErrorEvent]"===Object.prototype.toString.call(r)?R(r):("[object PromiseRejectionEvent]"===Object.prototype.toString.call(r)?S:b)(r)},L=["EventTarget","Window","Node","ApplicationCache","ChannelMergerNode","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","MessagePort","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],O=["setTimeout","setInterval","requestAnimationFrame","requestIdleCallback"],T=["onload","onerror","onprogress","onreadystatechange"],A="addEventListener",k=["async_error_0",function(o,r){function c(r,t){if(!s(r))return r;var e={type:"capture-global",data:u({},t)},n=r._w_||(r._w_=function(){try{return(r.handleEvent&&s(r.handleEvent)?r.handleEvent:r).apply(this,[].map.call(arguments,function(r){return c(r,t)}))}catch(r){var n=b(r);throw n&&o({source:e,error:n}),r}});return n._hook_=!0,n}var n=h(),t=function(){if("function"==typeof XMLHttpRequest&&s(XMLHttpRequest))return XMLHttpRequest}(),e=[];n&&e.push.apply(e,f([],v(O.filter(function(r){return n[r]}).map(function(o){return a(n,o,function(e){return function(r){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return e&&e.call.apply(e,f([this,c(r,{function:o})],v(n),!1))}},!1)()})),!1)),t&&t.prototype&&e.push(a(t.prototype,"send",function(e){return function(){for(var n=this,r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return T.filter(function(r){return n[r]&&!n[r]._hook_}).forEach(function(r){n[r]=c(n[r],{function:r})}),e.apply(this,r)}},!1)()),L.forEach(function(u){var r=n&&n[u]&&n[u].prototype;r&&r[A]&&(e.push(a(r,A,function(o){return function(r,n,t){try{var e=n.handleEvent;s(e)&&(n.handleEvent=c(e,{function:"handleEvent",target:u}))}catch(r){}return o&&o.call(this,r,c(n,{function:A,target:u}),t)}},!1)()),e.push(a(r,"removeEventListener",function(e){return function(r,n,t){return null!=n&&n._w_&&e.call(this,r,n._w_,t),e.call(this,r,n,t)}},!1)()))}),r(function(){return e.forEach(function(r){return r()})})}],I=["err_0",function(r,n){var t=h();t&&(t.addEventListener("error",r,!0),n(function(){t.removeEventListener("error",r,!0)}))}],x=["perr_0",function(r,n){var t=h();t&&(t.addEventListener("unhandledrejection",r,!0),n(function(){t.removeEventListener("unhandledrejection",r,!0)}))}],M=function(){var e;return function(r){try{if(t=e,!(!(n=r)||!t)&&!(!_(n.message,t.message)||!_(n.stack,t.stack)))return void(e=r)}catch(r){!function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var t=y(h());t&&(t.errors||(t.errors=[]),t.errors.push(r))}(r)}var n,t;return e=r}},D="jsError",q={ignoreErrors:[],onerror:!0,onunhandledrejection:!0,captureGlobalAsync:!1,dedupe:!0};var r,n,G,H,X="1.12.3";r=D,n=function(e){e.on("init",function(){window.removeEventListener("error",e.pcErr,!0),window.removeEventListener("unhandledrejection",e.pcRej,!0);var r,n,t,t=(t=D,n=q,t=null===(r=(r=e).config())||void 0===r?void 0:r.plugins[t],g(t,n));t&&(t=j(function(r){e.getBreadcrumbs&&(r.payload.breadcrumbs=e.getBreadcrumbs()),e.report(r)},n=[],[p(e,I),p(e,x),function(){return p(e,k)}],t),e.destroyAgent.set(D,E,n),e.provide("captureException",t))})},(G=void 0===G?y(h()):G)&&G.plugins&&(H=r,G.plugins.filter(function(r){return r.name===H&&r.version===X})[0]||G.plugins.push({name:r,version:X,apply:n}))}();
