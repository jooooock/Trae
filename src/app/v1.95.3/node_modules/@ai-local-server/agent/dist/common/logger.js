"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Logger = void 0;
const tslib_1 = require("tslib");
const object_factory_1 = require("../impl-registry/object-factory");
const util_1 = tslib_1.__importDefault(require("util"));
let Logger = class Logger {
    constructor() {
        this._writer = (message) => {
            const formattedMessage = `${new Date().toISOString()}<icube_agent> ${message}\n`;
            process.stdout.write(formattedMessage);
        };
    }
    setWriter(writer) {
        this._writer = writer;
    }
    info(...args) {
        this.log(...args);
    }
    error(...args) {
        this.log(...args);
    }
    log(...args) {
        this._writer(`<agent> ${util_1.default.format(...args).trim()}`);
    }
};
exports.Logger = Logger;
exports.Logger = Logger = tslib_1.__decorate([
    object_factory_1.SingletonInjectable
], Logger);
