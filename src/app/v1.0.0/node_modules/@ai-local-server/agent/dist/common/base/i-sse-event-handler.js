"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AutoDebugSSEEventHandler = exports.ISSEEventHandler = void 0;
const tslib_1 = require("tslib");
const i_life_cycle_1 = require("../../common/base/i-life-cycle");
class ISSEEventHandler extends i_life_cycle_1.ILifeCycle {
    constructor() {
        super(...arguments);
        this._events = [];
    }
    async onSSEEvent(event) {
        this._events.push(event);
        try {
            const method = this.methodImplRegistry.get(event.name);
            await method.call(this, event);
        }
        catch (err) {
            this._logger.error("on sse event error", err);
        }
    }
}
exports.ISSEEventHandler = ISSEEventHandler;
tslib_1.__decorate([
    i_life_cycle_1.Alive,
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ISSEEventHandler.prototype, "onSSEEvent", null);
class AutoDebugSSEEventHandler extends ISSEEventHandler {
}
exports.AutoDebugSSEEventHandler = AutoDebugSSEEventHandler;
