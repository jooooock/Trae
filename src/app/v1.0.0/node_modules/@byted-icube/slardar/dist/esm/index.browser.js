import{g as n,d as e,a as t,b as r}from"./constant-DevyfzSa.js";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var o=function(){return o=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},o.apply(this,arguments)};function i(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,o,i=t.call(n),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u}function u(n,e,t){if(2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))}var a=function(n){return JSON.stringify({ev_type:"batch",list:n})};var c=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],f=function(){return{}};function s(n){return n}function l(n){return"object"==typeof n&&null!==n}var d=Object.prototype;function v(n){if(l(n)){if("function"==typeof Object.getPrototypeOf){var e=Object.getPrototypeOf(n);return e===d||null===e}return"[object Object]"===d.toString.call(n)}return!1}function p(n){return"[object Array]"===d.toString.call(n)}function h(n){return"function"==typeof n}function g(n){return"number"==typeof n}function m(n){return"string"==typeof n}function y(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function b(n,e){var t=o({},n);for(var r in e)y(e,r)&&void 0!==e[r]&&(l(e[r])&&v(e[r])?t[r]=b(l(n[r])?n[r]:{},e[r]):p(e[r])&&p(n[r])?t[r]=_(n[r],e[r]):t[r]=e[r]);return t}function _(n,e){var t=p(n)?n:[],r=p(e)?e:[];return Array.prototype.concat.call(t,r).map((function(n){return n instanceof RegExp?n:l(n)&&v(n)?b({},n):p(n)?_([],n):n}))}function E(n,e){if(!p(n))return!1;if(0===n.length)return!1;for(var t=0;t<n.length;){if(n[t]===e)return!0;t++}return!1}var x=function(n,e){if(!p(n))return n;var t=n.indexOf(e);if(t>=0){var r=n.slice();return r.splice(t,1),r}return n},w=function(n,e,t){for(var r,o=i(e.split(".")),u=o[0],a=o.slice(1);n&&a.length>0;)n=n[u],u=(r=i(a))[0],a=r.slice(1);if(n)return t(n,u)};function S(n){return p(n)&&n.length?function(n){for(var e=[],t=n.length,r=0;r<t;r++){var o=n[r];m(o)?e.push(o.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):o&&o.source&&e.push(o.source)}return new RegExp(e.join("|"),"i")}(n):null}var R=function(n,e){var t=S(n||[]);return!!t&&t.test(e)};function O(n){try{return m(n)?n:JSON.stringify(n)}catch(n){return"[FAILED_TO_STRINGIFY]:"+String(n)}}var I=function(n,e,t,r){return void 0===r&&(r=!0),function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(!n)return f;var c=n[e],s=t.apply(void 0,u([c],i(o),!1)),l=s;return h(l)&&r&&(l=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{return s.apply(this,n)}catch(e){return h(c)&&c.apply(this,n)}}),n[e]=l,function(t){t||(l===n[e]?n[e]=c:s=c)}}},j=function(n,e,t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(!n)return f;var a=n[e],c=t.apply(void 0,u([a],i(r),!1)),s=c;return h(s)&&(s=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return c.apply(this,n)}),n[e]=s,function(){s===n[e]?n[e]=a:c=a}}},C="".padStart?function(n,e){return void 0===e&&(e=8),n.padStart(e," ")}:function(n){return n},T=0,A=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];console.error.apply(console,u(["[SDK]",Date.now(),C(""+T++)],i(n),!1))},D=0,P=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];console.warn.apply(console,u(["[SDK]",Date.now(),C(""+D++)],i(n),!1))},N=function(n){return Math.random()<Number(n)},k=function(n,e){return n<Number(e)},L=function(n){return function(e){for(var t=e,r=0;r<n.length&&t;r++)try{t=n[r](t)}catch(n){A(n)}return t}};function q(){var n=function(){for(var n=new Array(16),e=0,t=0;t<16;t++)3&t||(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(n){for(var e=[],t=0;t<256;++t)e[t]=(t+256).toString(16).substr(1);var r=0,o=e;return[o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]]].join("")}(n)}var M=function(n,e){var t=[];try{t=e.reduce((function(e,t){try{var r=t(n);"function"==typeof r&&e.push(r)}catch(n){}return e}),[])}catch(n){}return function(n){return M(n,t)}},B=function(n){void 0===n&&(n=3e5);var e,t=[],r=[],o=!1,i=function(n,e,t){var r=0;return-1===t?f:function(){if(n())return r&&clearTimeout(r),void(r=0);0===r&&(r=setTimeout(e,t))}}((function(){return!!t.length}),(function(){o=!0,e&&e[0](),r.forEach((function(n){return n()})),r.length=0,e=void 0}),n),u=function(n){t=x(t,n),!o&&i()};return{next:function(n){return M(n,t)},complete:function(n){r.push(n)},attach:function(n,t){e=[n,t]},subscribe:function(n){if(o)throw new Error("Observer is closed");return t.push(n),e&&e[1]&&e[1](n),i(),function(){return u(n)}},unsubscribe:u}},H=function(n,e,t){var r=B(t);try{n(r.next,r.attach),e&&r.complete(e)}catch(n){}return[r.subscribe,r.unsubscribe]},U=function(n,e){var t=i(n,1)[0];return function(n,r){var o=t((function(t){var r;return(r=e,function(n){for(var e=!0,t=0;t<r.length&&e;t++)try{e=r[t](n)}catch(n){A(n)}return e})(t)?n(t):f}));r((function(){o()}))}};var z=function(n,e,t,r){return n.destroyAgent.set(e,t,r)};function G(n){var e,t,r=n.builder,o=n.createSender,a=n.createDefaultConfig,f=n.createConfigManager,s=n.userConfigNormalizer,d=n.initConfigNormalizer,v=n.validateInitConfig,p={};c.forEach((function(n){return p[n]=[]}));var h=!1,g=!1,m=!1,y=[],b=[],_=function(){var n=!1,e={},t=function(n){n.length&&n.forEach((function(n){try{n()}catch(n){}})),n.length=0},r=function(n){e[n]&&e[n].forEach((function(n){t(n[1])})),e[n]=void 0};return{set:function(r,o,i){e[r]?e[r].push([o,i]):e[r]=[[o,i]],n&&t(i)},has:function(n){return!!e[n]},remove:r,removeByEvType:function(n){Object.keys(e).forEach((function(r){e[r]&&e[r].forEach((function(e){e[0]===n&&t(e[1])}))}))},clear:function(){n=!0,Object.keys(e).forEach((function(n){r(n)}))}}}(),w={getBuilder:function(){return r},getSender:function(){return e},getPreStartQueue:function(){return y},init:function(n){if(h)P("already inited");else{if(!(n&&l(n)&&v(n)))throw new Error("invalid InitConfig, init failed");var r=a(n);if(!r)throw new Error("defaultConfig missing");var i=d(n);if((t=f(r)).setConfig(i),t.onChange((function(){S("config")})),!(e=o(t.getConfig())))throw new Error("sender missing");h=!0,S("init",!0)}},set:function(n){h&&n&&l(n)&&(S("beforeConfig",!1,n),null==t||t.setConfig(n))},config:function(n){if(h)return n&&l(n)&&(S("beforeConfig",!1,n),null==t||t.setConfig(s(n))),null==t?void 0:t.getConfig()},provide:function(n,e){E(b,n)?P("cannot provide "+n+", reserved"):(w[n]=e,S("provide",!1,n))},start:function(){var n=this;h&&(g||null==t||t.onReady((function(){g=!0,S("start",!0),y.forEach((function(e){return n.build(e)})),y.length=0})))},report:function(n){if(n){var e=L(p.beforeReport)(n);if(e){var t=L(p.report)(e);t&&(g?this.build(t):y.push(t))}}},build:function(n){if(g){var e=L(p.beforeBuild)(n);if(e){var t=r.build(e);if(t){var o=L(p.build)(t);o&&this.send(o)}}}},send:function(n){if(g){var t=L(p.beforeSend)(n);t&&(e.send(t),S("send",!1,t))}},destroy:function(){_.clear(),m=!0,y.length=0,S("beforeDestroy",!0)},on:function(n,e){if("init"===n&&h||"start"===n&&g||"beforeDestroy"===n&&m)try{e()}catch(n){}else p[n]&&p[n].push(e)},off:function(n,e){p[n]&&(p[n]=x(p[n],e))},destroyAgent:_};return b=Object.keys(w),w;function S(n,e){void 0===e&&(e=!1);for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];p[n].forEach((function(n){try{n.apply(void 0,u([],i(t),!1))}catch(n){}})),e&&(p[n].length=0)}}var F=function(n){var e=function(){var n={},e={},t={set:function(r,o){return n[r]=o,e[r]=O(o),t},merge:function(r){return n=o(o({},n),r),Object.keys(r).forEach((function(n){e[n]=O(r[n])})),t},delete:function(r){return delete n[r],delete e[r],t},clear:function(){return n={},e={},t},get:function(n){return e[n]},toString:function(){return o({},e)}};return t}();n.provide("context",e),n.on("report",(function(n){return n.extra||(n.extra={}),n.extra.context=e.toString(),n}))},X=function(n,e,t){var r={},o=function(){for(var t,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var f=a[0];if(f){var s=f.split(".")[0];if(!(s in o)){var l=r[s]||[],d=null!==(t=null==e?void 0:e(n))&&void 0!==t?t:{};return l.push(u([d],i(a),!1)),void(r[s]=l)}return function(n,e,t){return w(n,e,(function(n,e){if(n&&e in n&&h(n[e]))try{return n[e].apply(n,t)}catch(n){return}}))}(o,f,[].slice.call(a,1))}};for(var a in I(n,"provide",(function(e){return function(t,r){o[t]=r,e.call(n,t,r)}}))(),n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a]);return n.on("provide",(function(e){r[e]&&(r[e].forEach((function(e){var r=i(e),o=r[0],u=r.slice(1);null==t||t(n,o,u)})),r[e]=null)})),o};function W(n,e){return n.initSubject(e)}function K(n,e,t){var r=i(e,2),o=r[0],u=r[1],a=n.privateSubject||{};return a[o]||(a[o]=H(u,(function(){a[o]=void 0}),t)),a[o]}var J=function(){return Date.now()};function V(){if("object"==typeof window&&l(window))return window}function Y(){if("object"==typeof document&&l(document))return document}function $(){return V()&&window.location}function Q(){return V()&&window.history}function Z(){if("function"==typeof XMLHttpRequest&&h(XMLHttpRequest))return XMLHttpRequest}function nn(){var n=function(){if(V()&&"navigator"in window)return window.navigator}();if(n)return n.connection||n.mozConnection||n.webkitConnection}function en(n){var e=Y();if(!e||!n)return"";var t=e.createElement("a");return t.href=n,t.href}function tn(n){var e=Y();if(!e||!n)return{url:n,protocol:"",domain:"",query:"",path:"",hash:""};var t=e.createElement("a");t.href=n;var r=t.pathname||"/";return"/"!==r[0]&&(r="/"+r),{url:t.href,protocol:t.protocol.slice(0,-1),domain:t.hostname,query:t.search.substring(1),path:r,hash:t.hash}}function rn(){var n=V()&&$();return n?n.href:""}var on=function(n){var e,t=n.config(),r={pid:(e=t).pid,view_id:e.viewId,url:rn()};return r.context=n.context?n.context.toString():{},r},un=function(n,e){var t=on(n);return t.timestamp=J(),function(e){n.report(o(o({},e),{overrides:t}))}},an=function(n){return function(e,t){var r=on(n);t(f,(function(n){r&&n(r)}))}},cn=function(n){if(n)return n.__SLARDAR_REGISTRY__||(n.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),n.__SLARDAR_REGISTRY__.Slardar},fn=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=cn(V());t&&(t.errors||(t.errors=[]),t.errors.push(n))},sn=function(n){var e={url:rn(),timestamp:J()},t=n.config();return(null==t?void 0:t.pid)&&(e.pid=t.pid),(null==n?void 0:n.context)&&(e.context=n.context.toString()),e},ln=function(n,e){return function(t){var r=function(n){return n.overrides=e,n};n.on("report",r),t(),n.off("report",r)}},dn=function(n,e,t,r){return void 0===r&&(r=!1),n.addEventListener(e,t,r),function(){n.removeEventListener(e,t,r)}},vn=function(n,e,t,r){return n.addEventListener(e,t,r),function(){n.removeEventListener(e,t,r)}};var pn=function(n){var e=!1;return[function(t){e||(e=!0,n&&n(t))}]},hn=function(n,e){var t,r=Y();if(r){var o=r.createElement("script");o.src=n,o.crossOrigin="anonymous",o.onload=e,null===(t=r.head)||void 0===t||t.appendChild(o)}},gn=function(n,e){return l(n)?o(o({},e),n):!!n&&e},mn=function(){return!!btoa&&!!atob};var yn=function(n){try{var e=localStorage.getItem(n),t=e;e&&"string"==typeof e&&(t=JSON.parse((u=e,mn()?decodeURI(atob(u)):u)));var r=t,o=r.expires,i=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t}(r,["expires"]);return o>=J()?i:void 0}catch(n){return}var u},bn=function(n,e,t){var r;if(!(t<=0))try{localStorage.setItem(n,(r=JSON.stringify(o(o({},e),{expires:J()+t})),mn()?btoa(encodeURI(r)):r))}catch(n){}},_n=function(n){return!1===n?0:!0!==n&&void 0!==n&&g(n)?n:7776e6},En=function(){var n=new RegExp("\\/monitor_web\\/collect|\\/monitor_browser\\/collect\\/batch","i");return function(e){return n.test(e)}},xn=function(n){return function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e=i(t,2),this._method=e[0],this._url=e[1],n.apply(this,t)}},wn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._reqHeaders=this._reqHeaders||{};var r=i(e,2),o=r[0],u=r[1];return this._reqHeaders[o]=u,n&&n.apply(this,e)}},Sn=function(n,e){var t=En();return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];(this._start=J(),this._data=null==r?void 0:r[0],t(this._url))||function(n,e){return j(n,"onreadystatechange",(function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return 4===this.readyState&&e(n),t&&t.apply(this,r)}}))}(this,e([this._method,this._url,this._start,this]))();return n.apply(this,r)}},Rn=function(n){return function(e,t){if(n){var r=[];r.push(j(n,"open",xn)()),r.push(j(n,"setRequestHeader",wn)()),r.push(j(n,"send",Sn)(e)),t((function(){r.forEach((function(n){return n()}))}))}}},On=function(n,e){return function(t,r){void 0===r&&(r={});var o=e([t,r]),i=n(t,r);return i.then((function(n){o(n)}),(function(){o(void 0)})),i}},In=["fetch_0",function(n,e){var t=V();if(t&&fetch){var r=[];r.push(j(t,"fetch",On)(n)),e((function(){r.forEach((function(n){return n()}))}))}}],jn=["resource"],Cn=["resource_0",function(n,e){var t=function(){if(V()&&h(window.PerformanceObserver))return window.PerformanceObserver}();if(t){var r=En();e(function(n,e,t){var r=i(function(n,e,t){var r=n&&new n((function(n,r){n.getEntries?n.getEntries().forEach((function(n,t,o){return e(n,t,o,r)})):t&&t()}));return[function(e){if(!n||!r)return t&&t();try{r.observe({entryTypes:e})}catch(n){return t&&t()}},function(e,o){if(!n||!r)return t&&t();try{var i={type:e,buffered:!0};void 0!==o&&(i.durationThreshold=o),r.observe(i)}catch(n){return t&&t()}r.observe({type:e,buffered:!1})},function(){return r&&r.disconnect()}]}(n,e),3),o=r[0],u=r[2];return o(t),u}(t,(function(e){!r(e.name)&&n(e)}),jn))}}],Tn="pageview",An="session",Dn="js_error",Pn="http",Nn="custom",kn="action",Ln={sampleRate:1,origins:[]},qn=function(){var n=window&&(window.crypto||window.msCrypto);if(void 0!==n&&n.getRandomValues){var e=new Uint16Array(8);n.getRandomValues(e);var t=function(n){for(var e=n.toString(16);e.length<4;)e="0"+e;return e};return t(e[0])+t(e[1])+t(e[2])+t(e[3])+t(e[4])+t(e[5])+t(e[6])+t(e[7])}return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,(function(){return(16*Math.random()|0).toString(16)}))},Mn=function(n){var e=gn(n,Ln);if(e&&N(e.sampleRate))return function(n,t){var r=e.origins;r.length&&R(r,n)&&t("traceparent","03-"+qn()+"-"+qn().substring(16)+"-01")}},Bn=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|password)","i"),Hn=new RegExp("(bearer|session)","i"),Un=function(n,e){return!n||!e||(Bn.test(n)||Hn.test(e))},zn=function(n,e){try{if(e){var t=n.request.url;n.request.url=e(t),n.extra=o(o({},n.extra),{original_url:t})}}catch(n){}},Gn=function(n,e,t){var r=i(e,2),o=r[0],u=r[1],a=t.setTraceHeader,c=t.ignoreUrls,s=t.setContextAtReq,l=t.extractUrl;n.push(o[0]((function(n){var e=i(n,4);e[0];var r=e[1];e[2];var o=e[3];if(!r)return f;var d=en(r);if(R(c,d))return f;a&&a(d,(function(n,e){return o.setRequestHeader(n,e)}));var v=s(),p=void 0,h=u()[0]((function(n){d===n.name&&!p&&(p=n)}));return function(n){var e=Fn(n,t);setTimeout((function(){p&&(e.response.timing=p),zn(e,l),v&&v({ev_type:Pn,payload:e}),h()}),100)}})))};var Fn=function(n,e){var t,r=n._method,o=n._reqHeaders,u=n._url,a=n._start,c=n._data,f={api:"xhr",request:{url:en(u),method:(r||"").toLowerCase(),headers:o&&(t=o,Object.keys(t).reduce((function(n,e){return!Un(e,t[e])&&(n[e.toLowerCase()]=t[e]),n}),{})),timestamp:a},response:{status:n.status||0,is_custom_error:!1,timestamp:J()},duration:J()-a};"function"==typeof n.getAllResponseHeaders&&(f.response.headers=function(n){return m(n)&&n?n.split("\r\n").reduce((function(n,e){if(m(e)){var t=i(e.split(": "),2),r=t[0],o=t[1];!Un(r,o)&&(n[r.toLowerCase()]=o)}return n}),{}):{}}(n.getAllResponseHeaders()));var s=f.response.status,l=e.collectBodyOnError,d=e.extraExtractor;try{var v=null==d?void 0:d(n.response,f,c);v&&(f.extra=v),v&&(f.response.is_custom_error=!0),l&&(v||s>=400)&&(f.request.body=c?""+c:void 0,f.response.body=n.response?""+n.response:void 0)}catch(n){}return f},Xn="ajax",Wn={autoWrap:!0,setContextAtReq:function(){return s},ignoreUrls:[],collectBodyOnError:!1};var Kn=function(n,e,t){var r=i(e,2),o=r[0],u=r[1],a=t.setTraceHeader,c=t.ignoreUrls,s=t.setContextAtReq,l=t.extractUrl,d=window.Headers,v=window.Request;v&&d&&n.push(o[0]((function(n){var e=i(n,2),r=e[0],o=e[1],p=en(r instanceof v?r.url:r);if(!Jn(p)||R(c,p))return f;a&&a(p,(function(n,e){return Yn(n,e,r,o,v,d)}));var h=s(),g=J(),m=void 0,y=u()[0]((function(n){p===n.name&&!m&&(m=n)}));return function(n){var e,i,u=ne(r,o,n,v,d,t,g),a=(e=function(n){m&&(n.response.timing=m),zn(n,l),h&&h({ev_type:Pn,payload:n}),y()},i=!1,function(n){i||(i=!0,e(n))});setTimeout((function(){a(u)}),1e3)}})))},Jn=function(n){if(!m(n))return!1;var e=i(n.split(":"),2),t=e[0];return!e[1]||"http"===t||"https"===t},Vn=function(n,e){return n instanceof e},Yn=function(n,e,t,r,i,u){var a;Vn(t,i)?t.headers.set(n,e):r.headers instanceof u?r.headers.set(n,e):r.headers=o(o({},r.headers),((a={})[n]=e,a))},$n=function(n,e,t){var r=e&&e.method||"get";return Vn(n,t)&&(r=n.method||r),r.toLowerCase()},Qn=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];try{return e.reduce((function(e,t){return new n(t||{}).forEach((function(n,t){return!Un(t,n)&&(e[t]=n)})),e}),{})}catch(n){return{}}},Zn=function(n,e,t){return Vn(n,t)?n.body:null==e?void 0:e.body},ne=function(n,e,t,r,o,i,u){var a={api:"fetch",request:{method:$n(n,e,r),timestamp:u,url:en(n instanceof r?n.url:n),headers:Qn(o,n.headers,e.headers)},response:{status:t&&t.status||0,is_custom_error:!1,timestamp:J()},duration:J()-u},c=i.collectBodyOnError,s=i.extraExtractor,l=function(){var t;c&&(a.request.body=null===(t=Zn(n,e,r))||void 0===t?void 0:t.toString())};if(t)try{var d=Qn(o,t.headers);a.response.headers=d;try{-1!==(d["content-type"]||"").indexOf("application/json")&&s&&t.clone().json().then((function(t){var o,i=s(t,a,null===(o=Zn(n,e,r))||void 0===o?void 0:o.toString());i&&(a.extra=i,a.response.is_custom_error=!0,l())})).catch(f)}catch(n){}t.status>=400&&l()}catch(n){}else l();return a},ee="fetch",te={autoWrap:!0,setContextAtReq:function(){return s},ignoreUrls:[],collectBodyOnError:!1};var re=["name","message","stack","filename","lineno","colno"],oe=function(n){var e,t,r,o;return!function(n){switch(Object.prototype.toString.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMError]":case"[object DOMException]":return!0;default:return n instanceof Error}}(n)?(v(n)||(o=n,"undefined"!=typeof Event&&function(n,e){try{return n instanceof e}catch(n){return!1}}(o,Event))||m(n))&&(e={message:O(n)}):(r=re,e=(t=n)&&l(t)?r.reduce((function(n,e){return n[e]=t[e],n}),{}):t),e},ie=function(n){return e=n,"[object ErrorEvent]"===Object.prototype.toString.call(e)?function(n){var e=oe(n.error);if(!e)return e;var t=n.colno,r=n.lineno,o=n.filename;return t&&!e.colno&&(e.colno=String(t)),r&&!e.lineno&&(e.lineno=String(r)),o&&!e.filename&&(e.filename=o),e}(n):function(n){return"[object PromiseRejectionEvent]"===Object.prototype.toString.call(n)}(n)?function(n){var e;try{var t=void 0;if("reason"in n?t=n.reason:"detail"in n&&"reason"in n.detail&&(t=n.detail.reason),t){var r=oe(t);return o(o({},r),{name:null!==(e=r&&r.name)&&void 0!==e?e:"UnhandledRejection"})}}catch(n){}}(n):oe(n);var e},ue="jsError",ae=function(n){return"hidden"===n.visibilityState},ce=["hidden_3",function(n,e){var t=Y(),r=V();if(t&&r){var o=function(e){n("pagehide"===e.type||ae(t))},i=vn(t,"visibilitychange",o,!0),u=dn(r,"pagehide",o,!0);e((function(){i(),u()}),(function(n){n(ae(t))}))}}],fe=["unload_0",function(n,e){var t=V();if(t){var r=i(pn(n),1)[0],o=function(){r()},u=[];["unload","beforeunload","pagehide"].forEach((function(n){u.push(dn(t,n,o,!1))})),e((function(){u.forEach((function(n){return n()}))}))}}],se=["hash_0",function(n,e){var t=V();if(t){var r=dn(t,"hashchange",(function(){return n(location.href)}),!0);e((function(){r()}))}}],le=["history_0",function(n,e){var t=Q(),r=V();if(t&&r){var o=[],i=function(){return n(location.href)},u=function(n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{n.apply(t,e)}finally{i()}}};o.push(I(t,"pushState",u)(),I(t,"replaceState",u)()),o.push(dn(r,"popstate",i,!0)),e((function(){o.forEach((function(n){return n()}))}))}}],de=function(n){return ve(n,J())},ve=function(n,e){return n+"_"+e},pe=function(n){return function(e,t){n(function(n,e){return{ev_type:Tn,payload:{pid:e,source:n}}}(e,t))}},he=function(n){return"manual"===n},ge="error_weight",me="duration_apdex",ye="perf_apdex",be=function(n,e){var t=n[0]+n[1]+n[2],r=n[0]/t;return n[2]/t>e.frustrating_threshold?2:r>e.satisfying_threshold||0===t?0:1},_e=function(n,e){return function(t,r){var o=t.payload;switch(t.ev_type){case"performance":var i=o.name;o.isSupport&&n(r[ye],i,o.value);break;case kn:n(r[ye],"action",o.duration||0);break;case Dn:e(r[ge],0);break;case Pn:if(o.response.is_custom_error||o.response.status>=400)e(r[ge],1);else{var u=o.response.timing;u&&n(r[me],0,u.duration)}break;case"resource_error":e(r[ge],2);break;case"blank_screen":e(r[ge],3);break;case"resource":n(r[me],1,o.duration);break;case"performance_longtask":o.longtasks.forEach((function(e){n(r[me],2,e.duration)}))}}},Ee=function(){var n,e,t=function(){n=[0,0,0],e=function(){var n;return(n={error_count:[0,0,0,0],duration_count:[0,0,0]})[ye]={},n}()};t();return[function(t,r,o){var i=t&&t[r];if(i&&!(o<=0)){var u=o<(i[0].threshold||0)?0:o>(i[1].threshold||0)?2:1;if(n[u]+=i[u].weight,"string"==typeof r){var a=ve(r,u),c=e[ye][a];e[ye][a]=(c||0)+1}else 2===u&&(e.duration_count[r]+=1)}},function(t,r){t&&(n[2]+=t[r],e.error_count[r]+=1)},function(){return[n,e]},t]},xe=function(n,e,t,r){var o,u,a=r.sendInit,c=r.initPid,f=r.routeMode,s=r.extractPid,l=r.onPidUpdate,d=he(f)?function(){return""}:function(n){return function(e){var t;return"hash"===n?(null===(t=tn(e).hash)||void 0===t?void 0:t.replace(/^#/,""))||"/":tn(e).path}}(f),v=s||function(){},p=i(function(n,e,t,r){var o=t,i=e;return r&&r(e),[function(e,t,u){"user_set"!==e&&t!==o?(o=t,i=null!=u?u:o,r&&r(i),n(e,i)):"user_set"===e&&t!==i&&(i=t,r&&r(i),n(e,i))},function(){e&&n("init",e)}]}(pe(n),c||function(n){var e;return null!==(e=v(n))&&void 0!==e?e:d(n)}(location.href),d(location.href),l),2),h=p[0],g=p[1];if(!he(f)){var m=i((o=function(n,e){return h(n,d(e),v(e))},u="",[function(n,e){e!==u&&o(n,u=e)}]),1)[0];t.length&&t.forEach((function(n){return e.push(n[0]((function(n){return m(f,n)})))}))}return a&&g(),[h.bind(null,"user_set")]},we=function(n,e,t,r){var o,u,a,c=i(t,2),f=c[0],s=c[1],l=2===r.apdex,d=void 0,v=void 0,p=void 0,h=!1,g=i(Ee(),4),m=g[0],y=g[1],b=g[2],_=g[3],E=i(Ee(),4),x=E[0],w=E[1],S=E[2],R=E[3],O=i((o={start:J(),end:0,time_spent:0,is_bounced:!1,entry:"",exit:"",p_count:0,a_count:0},[function(n,e){var t=i(n,3),r=t[0],u=t[1],a=t[2];o.end=J(),o.time_spent+=e&&e.time_spent||0,o.last_page=e,o.p_count+=1,o.rank=r,o.apdex=u,o.apdex_detail=a;var c=Y();c&&(o.is_bounced=!function(n){return"complete"===n.readyState}(c))},function(n,e){o.time_spent+=n.time_spent,o.p_count+=1,o.exit=e},function(){o.a_count+=1},function(n){o.entry=n,o.exit=n},function(){return o}]),5),I=O[0],j=O[1],C=O[2],T=O[3],A=O[4],D=i((u=0,a=void 0,[function(n){if(n){if(!a)return;u+=J()-a,a=void 0}else a=J()},function(){a&&(u+=J()-a);var n=u;return u=0,a=J(),n}]),2),P=D[0],N=D[1];e.push(f[0](P)),!l&&e.push(s[0]((function(){if(h){var e=i(S(),2),t=e[0],r=e[1],o=be(t,p);I([o,t,r],q()),n({ev_type:An,payload:A()}),R()}})));var k=_e(m,y),L=_e(x,w),q=function(){var n=i(b(),2),e=n[0],t=n[1];return{start:d[0],pid:d[1],view_id:d[2],end:J(),time_spent:N(),apdex:e,rank:be(e,p),detail:t}};return e.push((function(){h=!1})),[function(n,e){if(!d)return d=[J(),n,e],T(n),void(h=!(!p||!d));h&&(v=q(),j(v,n)),d=[J(),n,e],_()},function(n){h&&(l||(L(n,p),n.ev_type===kn&&C()),n.common.pid===d[1]&&k(n,p))},function(e){h&&(e.payload.last=v),n(e)},function(n){if(!n)return e.forEach((function(n){return n()})),void(e.length=0);h=!(!(p=n)||!d)}]},Se="pageview",Re={sendInit:!0,routeMode:"history",apdex:2};var Oe=function(n){n.provide("sendEvent",(function(e){var t=function(n){if(n&&l(n)&&n.name&&m(n.name)){var e={name:n.name,type:"event"};if("metrics"in n&&l(n.metrics)){var t=n.metrics,r={};for(var o in t)g(t[o])&&(r[o]=t[o]);e.metrics=r}if("categories"in n&&l(n.categories)){var i=n.categories,u={};for(var o in i)u[o]=O(i[o]);e.categories=u}return"attached_log"in n&&m(n.attached_log)&&(e.attached_log=n.attached_log),e}}(e);t&&n.report({ev_type:Nn,payload:t,extra:{timestamp:J()}})})),n.provide("sendLog",(function(e){var t=function(n){if(n&&l(n)&&n.content&&m(n.content)){var e={content:O(n.content),type:"log",level:"info"};if("level"in n&&(e.level=n.level),"extra"in n&&l(n.extra)){var t=n.extra,r={},o={};for(var i in t)g(t[i])?r[i]=t[i]:o[i]=O(t[i]);e.metrics=r,e.categories=o}return"attached_log"in n&&m(n.attached_log)&&(e.attached_log=n.attached_log),e}}(e);t&&n.report({ev_type:Nn,payload:t,extra:{timestamp:J()}})}))};function Ie(n){return(null==n?void 0:n.effectiveType)||(null==n?void 0:n.type)||""}var je=function(n,e){var t=n.common||{};return t.sample_rate=e,n.common=t,n},Ce=function(n,e,t,r,o){return n?(i=o(r,e),function(){return i}):function(){return t(e)};var i},Te=function(n,e,t,r){var o=w(n,e,(function(n,e){return n[e]}));return void 0!==o&&function(n,e,t){switch(t){case"eq":return E(e,n);case"neq":return!E(e,n);case"gt":return n>e[0];case"gte":return n>=e[0];case"lt":return n<e[0];case"lte":return n<=e[0];case"regex":return Boolean(n.match(new RegExp(e.join("|"))));case"not_regex":return!n.match(new RegExp(e.join("|")));default:return!1}}(o,function(n,e){return n.map((function(n){switch(e){case"number":return Number(n);case"boolean":return"1"===n;default:return String(n)}}))}(r,"boolean"==typeof o?"bool":g(o)?"number":"string"),t)},Ae=function(n,e){try{return"rule"===e.type?Te(n,e.field,e.op,e.values):"and"===e.type?e.children.every((function(e){return Ae(n,e)})):e.children.some((function(e){return Ae(n,e)}))}catch(n){return fn(n),!1}},De=function(n,e,t,r,o){if(!e)return s;var i=e.sample_rate,u=e.include_users,a=e.sample_granularity,c=e.rules,f=e.r,l=void 0===f?Math.random():f;if(E(u,n))return function(n){return je(n,1)};var d="session"===a,v=Ce(d,i,t,l,r),p=function(n,e,t,r,o,i){var u={};return Object.keys(n).forEach((function(a){var c=n[a],f=c.enable,s=c.sample_rate,l=c.conditional_sample_rules;f?(u[a]={enable:f,sample_rate:s,effectiveSampleRate:s*t,hit:Ce(e,s,r,o,i)},l&&(u[a].conditional_hit_rules=l.map((function(n){var u=n.sample_rate,a=n.filter;return{sample_rate:u,hit:Ce(e,u,r,o,i),effectiveSampleRate:u*t,filter:a}})))):u[a]={enable:f,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}})),u}(c,d,i,t,l,r);return function(n){var e;if(!v())return d&&o[0](),!1;if(!(n.ev_type in p))return je(n,i);if(!p[n.ev_type].enable)return d&&o[1](n.ev_type),!1;if(null===(e=n.common)||void 0===e?void 0:e.sample_rate)return n;var t=p[n.ev_type],r=t.conditional_hit_rules;if(r)for(var u=0;u<r.length;u++)if(Ae(n,r[u].filter))return!!r[u].hit()&&je(n,r[u].effectiveSampleRate);return t.hit()?je(n,t.effectiveSampleRate):((!r||!r.length)&&d&&o[1](n.ev_type),!1)}},Pe=function(n,e,t){var r=e.url,o=e.data,i=e.success,u=void 0===i?f:i,a=e.fail,c=void 0===a?f:a,s=e.getResponseText,l=void 0===s?f:s,d=e.withCredentials,v=void 0!==d&&d,p=new t;p.withCredentials=v,p.open(n,r,!0),p.setRequestHeader("Content-Type","application/json"),p.onload=function(){null==l||l(this.responseText);try{if(this.status>=400)c(new Error(this.responseText||this.statusText));else if(this.responseText){var n=JSON.parse(this.responseText);u(n)}else u({})}catch(n){c(n)}},p.onerror=function(){c(new Error("Network request failed"))},p.onabort=function(){c(new Error("Network request aborted"))},p.send(o)},Ne=function(){var n=Z();return n?{useBeacon:!0,get:function(e){Pe("GET",e,n)},post:function(e){Pe("POST",e,n)}}:{get:f,post:f}};function ke(n){var e=function(n){var e,t=n.transport,r=n.endpoint,o=n.size,i=void 0===o?10:o,u=n.wait,c=void 0===u?1e3:u,f=[],s=0;function l(){if(f.length){var n=this.getBatchData();t.post({url:r,data:n,fail:function(t){e&&e(t,n)}}),f=[]}}return{getSize:function(){return i},getWait:function(){return c},setSize:function(n){i=n},setWait:function(n){c=n},getEndpoint:function(){return r},setEndpoint:function(n){r=n},send:function(n){f.push(n),f.length>=i&&l.call(this),clearTimeout(s),s=setTimeout(l.bind(this),c)},flush:function(){clearTimeout(s),l.call(this)},getBatchData:function(){return f.length?a(f):""},clear:function(){clearTimeout(s),f=[]},fail:function(n){e=n}}}(n),t=e.send;return function(n){var e=V();if(e){var t=i(pn(n),1)[0];["unload","beforeunload","pagehide"].forEach((function(n){dn(e,n,t,!1)}))}}((function(){if(n.transport.useBeacon){var r=function(){var n=V();return n&&n.navigator.sendBeacon?{get:function(){},post:function(e,t){n.navigator.sendBeacon(e,t)}}:{get:f,post:f}}(),o=e.getBatchData();o&&(r.post(e.getEndpoint(),o),e.clear()),e.send=function(n){r.post(e.getEndpoint(),a([n]))},function(n){var e=Y(),t=V();if(e&&t){var r=f;r=vn(e,"visibilitychange",(function(){"visible"===e.visibilityState&&(n(),r())}),!0)}}((function(){e.send=t}))}else e.flush()})),e}var Le="1.14.1",qe="/monitor_web/settings/browser-settings",Me="/monitor_browser/collect/batch/",Be=["/log/sentry/",Me,qe],He="session",Ue=["blankScreen","action"],ze={sample_rate:1,include_users:[],sample_granularity:He,rules:{}};function Ge(n,e,t){void 0===t&&(t=Ke),function(n){var e=V(),t=Y();e&&t&&("complete"!==t.readyState?dn(e,"load",(function(){setTimeout((function(){n()}),0)}),!1):n())}((function(){n.on("init",(function(){t(n,e)}))}))}var Fe=function(n,e,t,r){void 0===r&&(r=Je);var o=e.config(),i=o.plugins,u=o.pluginBundle,a=n.filter((function(n){return i[n]&&!e.destroyAgent.has(n)})),c=function(){return a.forEach((function(n){return Ve(e,n,t)}))};a.every((function(n){return $e(n,t)}))?c():r(e,{name:u.name},c)},Xe=function(n,e,t,r){void 0===r&&(r=Je);var o=e.config().plugins;n.filter((function(n){return o[n]&&!e.destroyAgent.has(n)})).forEach((function(n){$e(n,t)?Ve(e,n,t):r(e,{name:n,config:o[n]},(function(){return Ve(e,n,t)}))}))},We=function(n){return function(e,t){var r,i=n.config().pluginBundle;n.destroyAgent.has(e)&&n.destroyAgent.remove(e),void 0!==t&&n.set({plugins:o(o({},n.config().plugins),(r={},r[e]=t,r))}),i&&~i.plugins.indexOf(e)?Fe([e],n):Xe([e],n)}};function Ke(n,e,t){void 0===t&&(t=Je);var r=n.config().pluginBundle,o=r?r.plugins:[];Fe(o,n,e,t),Xe(Ue,n,e,t),n.provide("reloadPlugin",We(n))}function Je(n,e,t,r){var o=e.name,i=e.config;void 0===r&&(r=hn);var u=function(n,e,t){var r;return null!==(r=null==t?void 0:t.path)&&void 0!==r?r:n.config().pluginPathPrefix+"/"+(o=e,o.replace(/([a-z])([A-Z])/g,(function(n,e,t){return e+"-"+t.toLowerCase()}))+".")+Le+".js";var o}(n,o,i);r(u,(function(){t()}))}function Ve(n,e,t){if(void 0===t&&(t=cn(V())),t){var r=Ye(t,e);if(r)try{if(n.destroyAgent.has(e))return;r.apply(n)}catch(n){fn(n),P("[loader].applyPlugin failed",e,n)}else P("[loader].applyPlugin not found",e)}}function Ye(n,e){return n.plugins.filter((function(n){return n.name===e&&n.version===Le}))[0]}function $e(n,e){return void 0===e&&(e=cn(V())),!(!e||!e.plugins)&&!!Ye(e,n)}function Qe(n,e,t){void 0===t&&(t=cn(V())),t&&t.plugins&&(Ye(t,n)||t.plugins.push({name:n,version:Le,apply:e}))}function Ze(n){var e,t;try{for(var r=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(["userId","deviceId","sessionId","env"]),o=r.next();!o.done;o=r.next()){var i=o.value;n[i]||delete n[i]}}catch(n){e={error:n}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n}function nt(n){var e=n.plugins||{};for(var t in e)e[t]&&!l(e[t])&&(e[t]={});return Ze(o(o({},n),{plugins:e}))}function et(n){return l(n)&&"bid"in n}function tt(n){return Ze(o({},n))}var rt=function(n,e){return void 0===e&&(e=qe),(n&&n.indexOf("//")>=0?"":"https://")+n+e},ot=function(n){return"SLARDAR"+n},it=function(n,e){void 0===n&&(n="");var t={userId:q(),deviceId:q()};if(e<=0)return t;var r=ot(n);!function(n,e){try{var t=localStorage.getItem(n);if(!t||!mn()||"{"!==t[0])return;bn(n,JSON.parse(t),e)}catch(n){}}(r,e);var o=yn(r);return{userId:(null==o?void 0:o.userId)||t.userId,deviceId:(null==o?void 0:o.deviceId)||t.deviceId}},ut={get:function(){return this.__SLARDAR__REPALCE__HOLDER__}},at=function(n){var e,t,r=n,i={},u=ut.get(),a=f,c=f;return{getConfig:function(){return r},setConfig:function(n){var c,f,d,v;return i=o(o({},i),n||{}),s(),e||(e=n,r.useLocalConfig||!r.bid?(t={},a()):u?l():(c=r.transport,f=r.domain,d=r.bid,v=function(n){u=n,l()},c.get({withCredentials:!0,url:rt(f)+"?bid="+d+"&store=1",success:function(n){v(n.data||{})},fail:function(){v({sample:{sample_rate:.001}})}}))),r},onChange:function(n){c=n},onReady:function(n){a=function(){!function(n){var e=n.bid,t=n.userId,r=n.deviceId,o=n.storageExpires,i=ot(e);bn(i,{userId:t,deviceId:r},_n(o))}(r),n()},t&&a()}};function s(){var e=o(o(o({},n),t||{}),i);e.plugins=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t={},r=0;r<n.length;)t=b(t,n[r++]);return t}(n.plugins,(null==t?void 0:t.plugins)||{},i.plugins||{}),e.sample=ct(ct(n.sample,null==t?void 0:t.sample),i.sample),r=e,c()}function l(){t=function(n){var e;if(!n)return{};var t=n.sample,r=n.plugins,o=n.timestamp,i=n.quota_rate,u=void 0===i?1:i,a=n.apdex;if(!t)return{};var c=t.sample_rate,f=t.sample_granularity,s=void 0===f?He:f,l=t.include_users,d=t.rules;return{sample:{include_users:l,sample_rate:c*u,sample_granularity:s,rules:(void 0===d?[]:d).reduce((function(n,e){var t=e.name,r=e.enable,o=e.sample_rate,i=e.conditional_sample_rules;return n[t]={enable:r,sample_rate:o,conditional_sample_rules:i},n}),{})},plugins:{heatmap:null!==(e=null==r?void 0:r.heatmap)&&void 0!==e&&e},apdex:a,serverTimestamp:o}}(u),s(),a()}};function ct(n,e){if(!n||!e)return n||e;var t=o(o({},n),e);return t.include_users=u(u([],i(n.include_users||[]),!1),i(e.include_users||[]),!1),t.rules=u(u([],i(Object.keys(n.rules||{})),!1),i(Object.keys(e.rules||{})),!1).reduce((function(t,r){var a,c;return r in t||(r in(n.rules||{})&&r in(e.rules||{})?(t[r]=o(o({},n.rules[r]),e.rules[r]),t[r].conditional_sample_rules=u(u([],i(n.rules[r].conditional_sample_rules||[]),!1),i(e.rules[r].conditional_sample_rules||[]),!1)):t[r]=(null===(a=n.rules)||void 0===a?void 0:a[r])||(null===(c=e.rules)||void 0===c?void 0:c[r])),t}),{}),t}var ft,st={build:function(n){return{ev_type:n.ev_type,payload:n.payload,common:o(o({},n.extra||{}),n.overrides||{})}}},lt=function(n){n.on("report",(function(e){return function(n,e){var t=e||{},r=t.pid,i=void 0===r?"":r,u=t.viewId,a=void 0===u?"":u,c={url:rn(),timestamp:J(),sdk_version:Le,sdk_name:"SDK_SLARDAR_WEB",pid:i,view_id:a};return o(o({},n),{extra:o(o({},c),n.extra||{})})}(e,n.config())}))},dt={sri:"reportSri",st:"reportResourceError",err:"captureException",reject:"captureException"},vt=function(n,e){return"err"===e?!1!==w(n,"plugins."+ue+".onerror",(function(n,e){return n[e]})):"reject"!==e||!1!==w(n,"plugins."+ue+".onunhandledrejection",(function(n,e){return n[e]}))},pt=function(n,e){var t;void 0===e&&(e=dt);var r,u=function(n){return Object.keys(n).reduce((function(n,e){return n[e]=[],n}),{})}(e),a=(r=e,Object.keys(r).reduce((function(n,e){return n[r[e]]?n[r[e]].push(e):n[r[e]]=[e],n}),{})),c=function(n,e,t){return function(r,i,u,a){var c;void 0===u&&(u=J()),void 0===a&&(a=location.href);var f=o(o({},sn(n)),{url:a,timestamp:u});e[r]&&(n[t[r]]?ln(n,f)((function(){n[t[r]](i)})):null===(c=e[r])||void 0===c||c.push([i,f]))}}(n,u,e);(null===(t=n.p)||void 0===t?void 0:t.a)&&"observe"in n.p.a&&n.p.a.observe((function(e){var t=i(e,5);t[0];var r=t[1],o=t[2],u=t[3],a=t[4],f=n.config();vt(f,r)&&c(r,o,u,a)})),n.on("init",(function(){var e,t=n.config();null===(e=n.p)||void 0===e||e.a.forEach((function(n){var e=i(n,5);e[0];var r=e[1],o=e[2],u=e[3],a=e[4];vt(t,r)&&c(r,o,u,a)})),n.p&&n.p.a&&(n.p.a.length=0),n.provide("precollect",(function(n,e,r,o){void 0===r&&(r=J()),void 0===o&&(o=location.href),vt(t,n)&&c(n,e,r,o)}))})),n.on("provide",function(n,e,t){return function(r){r in t&&t[r].forEach((function(t){var o;null===(o=e[t])||void 0===o||o.forEach((function(e){var t=i(e,2),o=t[0],u=t[1];ln(n,u)((function(){n[r](o)}))})),e[t]=null}))}}(n,u,a))},ht=function(n){var e=i(n,2),t=e[0],r=e[1];return{ev_type:Dn,payload:{error:ie(t),breadcrumbs:[],extra:r||{}},extra:{bid:"slardar_sdk"}}},gt=function(n,e){void 0===e&&(e=.001);var t,r,o=cn(V());o&&(o.errors||(o.errors=[]),"observe"in o.errors||N(e)&&(o.errors=(t=o.errors,r=[],t.observe=function(n){r.push(n)},t.push=function(){for(var n,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return e.forEach((function(n){r.forEach((function(e){return e(n)}))})),(n=[].push).call.apply(n,u([t],i(e),!1))},t),o.errors.forEach((function(e){n.report(ht(e))})),o.errors.observe((function(e){n.report(ht(e))}))))},mt=function(n){n.on("beforeBuild",(function(e){return function(n,e){var t={};return t.bid=e.bid,t.user_id=e.userId,t.device_id=e.deviceId,t.session_id=e.sessionId,t.release=e.release,t.env=e.env,o(o({},n),{extra:o(o({},t),n.extra||{})})}(e,n.config())}))},yt=function(n){var e=_n(n.storageExpires),t=it(n.bid,e);return{bid:"",pid:"",viewId:de("_"),userId:t.userId,deviceId:t.deviceId,storageExpires:e,sessionId:q(),domain:"mon.zijieapi.com",pluginBundle:{name:"commonMonitors",plugins:["breadcrumb","jsError","performance","resourceError","resource"]},pluginPathPrefix:"https://lf3-short.ibytedapm.com/slardar/fe/sdk-web/plugins",plugins:{ajax:{ignoreUrls:Be},fetch:{ignoreUrls:Be},breadcrumb:{},pageview:{},jsError:{},resource:{},resourceError:{},performance:{},tti:{},fmp:{},blankScreen:!1,heatmap:!1},release:"",env:"production",sample:ze,transport:Ne()}},bt=function(n){var e=void 0===n?{}:n,t=e.createSender,r=void 0===t?function(n){return ke({size:20,endpoint:(e=n.domain,void 0===t&&(t=Me),(e&&e.indexOf("//")>=0?"":"https://")+e+t),transport:n.transport});var e,t}:t,a=e.builder,c=void 0===a?st:a,f=e.createDefaultConfig,s=G({validateInitConfig:et,initConfigNormalizer:nt,userConfigNormalizer:tt,createSender:r,builder:c,createDefaultConfig:void 0===f?yt:f,createConfigManager:at});gt(s),F(s);var l=cn(V());!function(n,e){var t=e||{},r={};n.provide("setFilter",(function(n,e){r[n]||(r[n]=[]),r[n].push(e)})),n.provide("initSubject",(function(e){var o=i(e,2),u=o[0],a=o[1],c=function(n){return n.split("_")[0]}(u),f=!!c&&r[c];return t[u]||(t[u]=H(a,(function(){t[u]=void 0}))),f?K(n,[u,U(t[u],f)]):t[u]})),n.provide("getSubject",(function(n){return t[n]})),n.provide("privateSubject",{})}(s,l&&l.subject),function(n){var e,t=!1;n.on("init",(function(){e=(new Date).getTime(),n.on("config",(function(){var r,i=null===(r=n.config())||void 0===r?void 0:r.serverTimestamp;if(!(isNaN(i)||Number(i)<=0||t)){t=!0;var u=(new Date).getTime();if(u-e<700&&i){var a=i-(u+e)/2;!isNaN(a)&&(a>0||a<-6e5)&&n.on("beforeBuild",(function(n){var e;return o(o({},n),{extra:o(o({},null!==(e=n.extra)&&void 0!==e?e:{}),{sdk_offset:null!=a?a:0})})}))}}}))}))}(s),mt(s),lt(s),function(n){var e=nn(),t=Ie(e);e&&(e.onchange=function(){t=Ie(e)}),n.on("report",(function(n){return o(o({},n),{extra:o(o({},n.extra||{}),{network_type:t})})}))}(s),function(n){n.on("start",(function(){var e=n.config().bid,t=n.getSender();t.setEndpoint(t.getEndpoint()+"?biz_id="+e)}))}(s);var d=X(s,sn,(function(n,e,t){return ln(n,e)((function(){var n=i(t),e=n[0],r=n.slice(1);s[e].apply(s,u([],i(r),!1))}))}));return function(n,e){n.on("init",(function(){var t=[],r=function(r){r.forEach((function(r){var o=r.name;E(t,o)||(t.push(o),r.setup(n),e(o,r.setup),n.destroyAgent.set(o,o,[function(){t=x(t,o),r.tearDown&&r.tearDown()}]))}))};n.provide("applyIntegrations",r);var o=n.config();o&&o.integrations&&r(o.integrations)}))}(d,Qe),d},_t=((ft={})[Se]=function(n){n.on("init",(function(){var e,t=null===(e=n.config())||void 0===e?void 0:e.plugins[Se];!function(n,e){var t,r=gn(e,Re);if(r&&$()){var u=r.routeMode,a=r.apdex,c=n.report.bind(n),s=f;if(a){var l=[],d=i(we(n.report.bind(n),l,[W(n,ce),W(n,fe)],r),4),v=d[0],p=d[1],h=d[2],g=d[3];c=h,s=v,n.on("send",p),l.push((function(){return n.off("send",p)})),n.on("start",(function(){g(n.config().apdex)})),z(n,Se,An,l)}var m=[],y=i(xe(c,m,he(u)?[]:[n.initSubject(se),n.initSubject(le)],o(o({},r),{initPid:null===(t=n.config())||void 0===t?void 0:t.pid,onPidUpdate:function(e){var t=de(e);s(e,t),n.set({pid:e,viewId:t,actionId:void 0})}})),1)[0];K(n,["f_view_0",an(n)],-1);var b=function(){y(n.config().pid)};n.on("config",b),m.push((function(){return n.off("config",b)})),z(n,Se,Tn,m),n.provide("sendPageview",y)}}(n,t)}))},ft[Xn]=function(n){n.on("init",(function(){var e,t=null===(e=n.config())||void 0===e?void 0:e.plugins[Xn];!function(n,e){var t=gn(e,Wn);if(t){var r=[],i=o(o({},t),{setContextAtReq:function(){return un(n)},setTraceHeader:Mn(t.trace)}),u=function(){return W(n,Cn)};i.autoWrap&&Gn(r,[W(n,["xhr_0",Rn(XMLHttpRequest&&XMLHttpRequest.prototype)]),u],i),z(n,Xn,Pn,r),n.provide("wrapXhr",(function(n){function e(){var e=new n;return Gn(r,[H(Rn(e)),u],i),e}return e.prototype=new n,["DONE","HEADERS_RECIEVED","LOADING","OPENED","UNSENT"].forEach((function(t){e[t]=n[t]})),e}))}}(n,t)}))},ft[ee]=function(n){n.on("init",(function(){var e,t=null===(e=n.config())||void 0===e?void 0:e.plugins[ee];!function(n,e){var t=gn(e,te);if(t){var r=[],i=o(o({},t),{setContextAtReq:function(){return un(n)},setTraceHeader:Mn(t.trace)}),u=function(){return W(n,Cn)};i.autoWrap&&Kn(r,[W(n,In),u],i),z(n,ee,Pn,r),n.provide("wrapFetch",(function(n){var e=void 0;return Kn(r,[H((function(t){e=On(n,t)})),u],i),e}))}}(n,t)}))},ft),Et=function(n){void 0===n&&(n={});var e=bt(n);return function(n){n.on("start",(function(){var e=n.config(),t=e.userId,r=e.sample,o=De(t,r,N,k,[function(){n.destroy()},function(e){n.destroyAgent.removeByEvType(e)}]);n.on("build",o)}))}(e),pt(e),Oe(e),Object.keys(_t).forEach((function(n){Qe(n,_t[n]),_t[n](e)})),Ge(e),e.provide("create",Et),e},xt="precollect",wt=3e5;var St=Et(),Rt=V();Rt&&function(n,e){if("addEventListener"in n){e.pcErr=function(t){var r=(t=t||n.event).target||t.srcElement||{};r instanceof Element||r instanceof HTMLElement?e(xt,"st",{tagName:r.tagName,url:r.getAttribute("href")||r.getAttribute("src")}):e(xt,"err",t.error)},e.pcRej=function(t){t=t||n.event,e(xt,"reject",t.reason||t.detail&&t.detail.reason)};var t=[];t.push(dn(n,"error",e.pcErr,!0)),t.push(dn(n,"unhandledrejection",e.pcRej,!0)),setTimeout((function(){t.forEach((function(n){return n()}))}),wt)}"PerformanceObserver"in n&&"PerformanceLongTaskTiming"in n&&(e.pp={entries:[]},e.pp.observer=new PerformanceObserver((function(n){e.pp.entries=e.pp.entries.concat(n.getEntries())})),e.pp.observer.observe({entryTypes:["longtask"]}),setTimeout((function(){e.pp.observer.disconnect()}),wt))}(Rt,St);var Ot,It={};var jt,Ct=(Ot||(Ot=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});
/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */
var e=function(){return e=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},e.apply(this,arguments)};function t(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,o,i=t.call(n),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u}function r(n,e,t){if(2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))}var o=function(n){return JSON.stringify({ev_type:"batch",list:n})},i=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],u=function(){return{}};function a(n){return n}function c(n){return"object"==typeof n&&null!==n}var f=Object.prototype;function s(n){if(c(n)){if("function"==typeof Object.getPrototypeOf){var e=Object.getPrototypeOf(n);return e===f||null===e}return"[object Object]"===f.toString.call(n)}return!1}function l(n){return"[object Array]"===f.toString.call(n)}function d(n){return"function"==typeof n}function v(n){return"number"==typeof n}function p(n){return"string"==typeof n}function h(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function g(n,t){var r=e({},n);for(var o in t)h(t,o)&&void 0!==t[o]&&(c(t[o])&&s(t[o])?r[o]=g(c(n[o])?n[o]:{},t[o]):l(t[o])&&l(n[o])?r[o]=m(n[o],t[o]):r[o]=t[o]);return r}function m(n,e){var t=l(n)?n:[],r=l(e)?e:[];return Array.prototype.concat.call(t,r).map((function(n){return n instanceof RegExp?n:c(n)&&s(n)?g({},n):l(n)?m([],n):n}))}function y(n,e){if(!l(n))return!1;if(0===n.length)return!1;for(var t=0;t<n.length;){if(n[t]===e)return!0;t++}return!1}var b=function(n,e){if(!l(n))return n;var t=n.indexOf(e);if(t>=0){var r=n.slice();return r.splice(t,1),r}return n},_=function(n,e,r){for(var o,i=t(e.split(".")),u=i[0],a=i.slice(1);n&&a.length>0;)n=n[u],u=(o=t(a))[0],a=o.slice(1);if(n)return r(n,u)};function E(n){return l(n)&&n.length?function(n){for(var e=[],t=n.length,r=0;r<t;r++){var o=n[r];p(o)?e.push(o.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):o&&o.source&&e.push(o.source)}return new RegExp(e.join("|"),"i")}(n):null}var x=function(n,e){var t=E(n||[]);return!!t&&t.test(e)};function w(n){try{return p(n)?n:JSON.stringify(n)}catch(n){return"[FAILED_TO_STRINGIFY]:"+String(n)}}var S=function(n,e,o,i){return void 0===i&&(i=!0),function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];if(!n)return u;var f=n[e],s=o.apply(void 0,r([f],t(a),!1)),l=s;return d(l)&&i&&(l=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{return s.apply(this,n)}catch(e){return d(f)&&f.apply(this,n)}}),n[e]=l,function(t){t||(l===n[e]?n[e]=f:s=f)}}},R=function(n,e,o){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(!n)return u;var c=n[e],f=o.apply(void 0,r([c],t(i),!1)),s=f;return d(s)&&(s=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return f.apply(this,n)}),n[e]=s,function(){s===n[e]?n[e]=c:f=c}}},O="".padStart?function(n,e){return void 0===e&&(e=8),n.padStart(e," ")}:function(n){return n},I=0,j=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];console.error.apply(console,r(["[SDK]",Date.now(),O(""+I++)],t(n),!1))},C=0,T=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];console.warn.apply(console,r(["[SDK]",Date.now(),O(""+C++)],t(n),!1))},A=function(n){return Math.random()<Number(n)},D=function(n,e){return n<Number(e)},P=function(n){return function(e){for(var t=e,r=0;r<n.length&&t;r++)try{t=n[r](t)}catch(n){j(n)}return t}};function N(){var n=function(){for(var n=new Array(16),e=0,t=0;t<16;t++)3&t||(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(n){for(var e=[],t=0;t<256;++t)e[t]=(t+256).toString(16).substr(1);var r=0,o=e;return[o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]]].join("")}(n)}var k=function(n,e){var t=[];try{t=e.reduce((function(e,t){try{var r=t(n);"function"==typeof r&&e.push(r)}catch(n){}return e}),[])}catch(n){}return function(n){return k(n,t)}},L=function(n){void 0===n&&(n=3e5);var e,t=[],r=[],o=!1,i=function(n,e,t){var r=0;return-1===t?u:function(){if(n())return r&&clearTimeout(r),void(r=0);0===r&&(r=setTimeout(e,t))}}((function(){return!!t.length}),(function(){o=!0,e&&e[0](),r.forEach((function(n){return n()})),r.length=0,e=void 0}),n),a=function(n){t=b(t,n),!o&&i()};return{next:function(n){return k(n,t)},complete:function(n){r.push(n)},attach:function(n,t){e=[n,t]},subscribe:function(n){if(o)throw new Error("Observer is closed");return t.push(n),e&&e[1]&&e[1](n),i(),function(){return a(n)}},unsubscribe:a}},q=function(n,e,t){var r=L(t);try{n(r.next,r.attach),e&&r.complete(e)}catch(n){}return[r.subscribe,r.unsubscribe]},M=function(n,e){var r=t(n,1)[0];return function(n,t){var o=r((function(t){var r;return(r=e,function(n){for(var e=!0,t=0;t<r.length&&e;t++)try{e=r[t](n)}catch(n){j(n)}return e})(t)?n(t):u}));t((function(){o()}))}},B=function(n,e,t,r){return n.destroyAgent.set(e,t,r)};function H(n){var e,o,u=n.builder,a=n.createSender,f=n.createDefaultConfig,s=n.createConfigManager,l=n.userConfigNormalizer,d=n.initConfigNormalizer,v=n.validateInitConfig,p={};i.forEach((function(n){return p[n]=[]}));var h=!1,g=!1,m=!1,_=[],E=[],x=function(){var n=!1,e={},t=function(n){n.length&&n.forEach((function(n){try{n()}catch(n){}})),n.length=0},r=function(n){e[n]&&e[n].forEach((function(n){t(n[1])})),e[n]=void 0};return{set:function(r,o,i){e[r]?e[r].push([o,i]):e[r]=[[o,i]],n&&t(i)},has:function(n){return!!e[n]},remove:r,removeByEvType:function(n){Object.keys(e).forEach((function(r){e[r]&&e[r].forEach((function(e){e[0]===n&&t(e[1])}))}))},clear:function(){n=!0,Object.keys(e).forEach((function(n){r(n)}))}}}(),w={getBuilder:function(){return u},getSender:function(){return e},getPreStartQueue:function(){return _},init:function(n){if(h)T("already inited");else{if(!(n&&c(n)&&v(n)))throw new Error("invalid InitConfig, init failed");var t=f(n);if(!t)throw new Error("defaultConfig missing");var r=d(n);if((o=s(t)).setConfig(r),o.onChange((function(){S("config")})),!(e=a(o.getConfig())))throw new Error("sender missing");h=!0,S("init",!0)}},set:function(n){h&&n&&c(n)&&(S("beforeConfig",!1,n),null==o||o.setConfig(n))},config:function(n){if(h)return n&&c(n)&&(S("beforeConfig",!1,n),null==o||o.setConfig(l(n))),null==o?void 0:o.getConfig()},provide:function(n,e){y(E,n)?T("cannot provide "+n+", reserved"):(w[n]=e,S("provide",!1,n))},start:function(){var n=this;h&&(g||null==o||o.onReady((function(){g=!0,S("start",!0),_.forEach((function(e){return n.build(e)})),_.length=0})))},report:function(n){if(n){var e=P(p.beforeReport)(n);if(e){var t=P(p.report)(e);t&&(g?this.build(t):_.push(t))}}},build:function(n){if(g){var e=P(p.beforeBuild)(n);if(e){var t=u.build(e);if(t){var r=P(p.build)(t);r&&this.send(r)}}}},send:function(n){if(g){var t=P(p.beforeSend)(n);t&&(e.send(t),S("send",!1,t))}},destroy:function(){x.clear(),m=!0,_.length=0,S("beforeDestroy",!0)},on:function(n,e){if("init"===n&&h||"start"===n&&g||"beforeDestroy"===n&&m)try{e()}catch(n){}else p[n]&&p[n].push(e)},off:function(n,e){p[n]&&(p[n]=b(p[n],e))},destroyAgent:x};return E=Object.keys(w),w;function S(n,e){void 0===e&&(e=!1);for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];p[n].forEach((function(n){try{n.apply(void 0,r([],t(o),!1))}catch(n){}})),e&&(p[n].length=0)}}var U=function(n){var t=function(){var n={},t={},r={set:function(e,o){return n[e]=o,t[e]=w(o),r},merge:function(o){return n=e(e({},n),o),Object.keys(o).forEach((function(n){t[n]=w(o[n])})),r},delete:function(e){return delete n[e],delete t[e],r},clear:function(){return n={},t={},r},get:function(n){return t[n]},toString:function(){return e({},t)}};return r}();n.provide("context",t),n.on("report",(function(n){return n.extra||(n.extra={}),n.extra.context=t.toString(),n}))},z=function(n,e,o){var i={},u=function(){for(var o,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var f=a[0];if(f){var s=f.split(".")[0];if(!(s in u)){var l=i[s]||[],v=null!==(o=null==e?void 0:e(n))&&void 0!==o?o:{};return l.push(r([v],t(a),!1)),void(i[s]=l)}return function(n,e,t){return _(n,e,(function(n,e){if(n&&e in n&&d(n[e]))try{return n[e].apply(n,t)}catch(n){return}}))}(u,f,[].slice.call(a,1))}};for(var a in S(n,"provide",(function(e){return function(t,r){u[t]=r,e.call(n,t,r)}}))(),n)Object.prototype.hasOwnProperty.call(n,a)&&(u[a]=n[a]);return n.on("provide",(function(e){i[e]&&(i[e].forEach((function(e){var r=t(e),i=r[0],u=r.slice(1);null==o||o(n,i,u)})),i[e]=null)})),u};function G(n,e){return n.initSubject(e)}function F(n,e,r){var o=t(e,2),i=o[0],u=o[1],a=n.privateSubject||{};return a[i]||(a[i]=q(u,(function(){a[i]=void 0}),r)),a[i]}var X=function(){return Date.now()};function W(){if("object"==typeof window&&c(window))return window}function K(){if("object"==typeof document&&c(document))return document}function J(){return W()&&window.location}function V(){return W()&&window.history}function Y(){if("function"==typeof XMLHttpRequest&&d(XMLHttpRequest))return XMLHttpRequest}function $(){var n=function(){if(W()&&"navigator"in window)return window.navigator}();if(n)return n.connection||n.mozConnection||n.webkitConnection}function Q(){if(!document)return null;if(document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n=0,e=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i.exec(f.stack),t=e&&e[2]||!1,r=e&&e[3]||0,o=document.location.href.replace(document.location.hash,""),i="",u=document.getElementsByTagName("script");if(t===o){var a=document.documentElement.outerHTML,c=new RegExp("(?:[^\\n]+?\\n){0,"+(r-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i");i=a.replace(c,"$1").trim()}for(;n<u.length;n++){if("interactive"===u[n].readyState)return u[n];if(u[n].src===t)return u[n];if(t===o&&u[n].innerHTML&&u[n].innerHTML.trim()===i)return u[n]}return null}}function Z(n){var e=K();if(!e||!n)return"";var t=e.createElement("a");return t.href=n,t.href}function nn(n){var e=K();if(!e||!n)return{url:n,protocol:"",domain:"",query:"",path:"",hash:""};var t=e.createElement("a");t.href=n;var r=t.pathname||"/";return"/"!==r[0]&&(r="/"+r),{url:t.href,protocol:t.protocol.slice(0,-1),domain:t.hostname,query:t.search.substring(1),path:r,hash:t.hash}}function en(){var n=W()&&J();return n?n.href:""}var tn=function(n){var e,t=n.config(),r={pid:(e=t).pid,view_id:e.viewId,url:en()};return r.context=n.context?n.context.toString():{},r},rn=function(n,t){var r=tn(n);return r.timestamp=X(),function(t){n.report(e(e({},t),{overrides:r}))}},on=function(n){return function(e,t){var r=tn(n);t(u,(function(n){r&&n(r)}))}},un=function(n){if(n)return n.__SLARDAR_REGISTRY__||(n.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),n.__SLARDAR_REGISTRY__.Slardar},an=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=un(W());t&&(t.errors||(t.errors=[]),t.errors.push(n))},cn=function(n){var e={url:en(),timestamp:X()},t=n.config();return(null==t?void 0:t.pid)&&(e.pid=t.pid),(null==n?void 0:n.context)&&(e.context=n.context.toString()),e},fn=function(n,e){return function(t){var r=function(n){return n.overrides=e,n};n.on("report",r),t(),n.off("report",r)}},sn=function(n,e,t,r){return void 0===r&&(r=!1),n.addEventListener(e,t,r),function(){n.removeEventListener(e,t,r)}},ln=function(n,e,t,r){return n.addEventListener(e,t,r),function(){n.removeEventListener(e,t,r)}},dn=function(n){var e=!1;return[function(t){e||(e=!0,n&&n(t))}]},vn=function(n,e){var t,r=K();if(r){var o=r.createElement("script");o.src=n,o.crossOrigin="anonymous",o.onload=e,null===(t=r.head)||void 0===t||t.appendChild(o)}},pn=function(n,t){return c(n)?e(e({},t),n):!!n&&t},hn=function(){return!!btoa&&!!atob},gn=function(n){try{var e=localStorage.getItem(n),t=e;e&&"string"==typeof e&&(t=JSON.parse((u=e,hn()?decodeURI(atob(u)):u)));var r=t,o=r.expires,i=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t}(r,["expires"]);return o>=X()?i:void 0}catch(n){return}var u},mn=function(n,t,r){var o;if(!(r<=0))try{localStorage.setItem(n,(o=JSON.stringify(e(e({},t),{expires:X()+r})),hn()?btoa(encodeURI(o)):o))}catch(n){}},yn=function(n){return!1===n?0:!0!==n&&void 0!==n&&v(n)?n:7776e6},bn=function(){var n=new RegExp("\\/monitor_web\\/collect|\\/monitor_browser\\/collect\\/batch","i");return function(e){return n.test(e)}},_n=function(n){return function(){for(var e,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e=t(r,2),this._method=e[0],this._url=e[1],n.apply(this,r)}},En=function(n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._reqHeaders=this._reqHeaders||{};var o=t(e,2),i=o[0],u=o[1];return this._reqHeaders[i]=u,n&&n.apply(this,e)}},xn=function(n,e){var t=bn();return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return this._start=X(),this._data=null==r?void 0:r[0],t(this._url)||function(n,e){return R(n,"onreadystatechange",(function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return 4===this.readyState&&e(n),t&&t.apply(this,r)}}))}(this,e([this._method,this._url,this._start,this]))(),n.apply(this,r)}},wn=function(n){return function(e,t){if(n){var r=[];r.push(R(n,"open",_n)()),r.push(R(n,"setRequestHeader",En)()),r.push(R(n,"send",xn)(e)),t((function(){r.forEach((function(n){return n()}))}))}}},Sn=function(n,e){return function(t,r){void 0===r&&(r={});var o=e([t,r]),i=n(t,r);return i.then((function(n){o(n)}),(function(){o(void 0)})),i}},Rn=["fetch_0",function(n,e){var t=W();if(t&&fetch){var r=[];r.push(R(t,"fetch",Sn)(n)),e((function(){r.forEach((function(n){return n()}))}))}}],On=["resource"],In=["resource_0",function(n,e){var r=function(){if(W()&&d(window.PerformanceObserver))return window.PerformanceObserver}();if(r){var o=bn();e(function(n,e,r){var o=t(function(n,e,t){var r=n&&new n((function(n,r){n.getEntries?n.getEntries().forEach((function(n,t,o){return e(n,t,o,r)})):t&&t()}));return[function(e){if(!n||!r)return t&&t();try{r.observe({entryTypes:e})}catch(n){return t&&t()}},function(e,o){if(!n||!r)return t&&t();try{var i={type:e,buffered:!0};void 0!==o&&(i.durationThreshold=o),r.observe(i)}catch(n){return t&&t()}r.observe({type:e,buffered:!1})},function(){return r&&r.disconnect()}]}(n,e),3),i=o[0],u=o[2];return i(r),u}(r,(function(e){!o(e.name)&&n(e)}),On))}}],jn="pageview",Cn="session",Tn="js_error",An="http",Dn="custom",Pn="action",Nn={sampleRate:1,origins:[]},kn=function(){var n=window&&(window.crypto||window.msCrypto);if(void 0!==n&&n.getRandomValues){var e=new Uint16Array(8);n.getRandomValues(e);var t=function(n){for(var e=n.toString(16);e.length<4;)e="0"+e;return e};return t(e[0])+t(e[1])+t(e[2])+t(e[3])+t(e[4])+t(e[5])+t(e[6])+t(e[7])}return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,(function(){return(16*Math.random()|0).toString(16)}))},Ln=function(n){var e=pn(n,Nn);if(e&&A(e.sampleRate))return function(n,t){var r=e.origins;r.length&&x(r,n)&&t("traceparent","03-"+kn()+"-"+kn().substring(16)+"-01")}},qn=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|password)","i"),Mn=new RegExp("(bearer|session)","i"),Bn=function(n,e){return!n||!e||qn.test(n)||Mn.test(e)},Hn=function(n,t){try{if(t){var r=n.request.url;n.request.url=t(r),n.extra=e(e({},n.extra),{original_url:r})}}catch(n){}},Un=function(n,e,r){var o=t(e,2),i=o[0],a=o[1],c=r.setTraceHeader,f=r.ignoreUrls,s=r.setContextAtReq,l=r.extractUrl;n.push(i[0]((function(n){var e=t(n,4);e[0];var o=e[1];e[2];var i=e[3];if(!o)return u;var d=Z(o);if(x(f,d))return u;c&&c(d,(function(n,e){return i.setRequestHeader(n,e)}));var v=s(),p=void 0,h=a()[0]((function(n){d===n.name&&!p&&(p=n)}));return function(n){var e=zn(n,r);setTimeout((function(){p&&(e.response.timing=p),Hn(e,l),v&&v({ev_type:An,payload:e}),h()}),100)}})))},zn=function(n,e){var r,o=n._method,i=n._reqHeaders,u=n._url,a=n._start,c=n._data,f={api:"xhr",request:{url:Z(u),method:(o||"").toLowerCase(),headers:i&&(r=i,Object.keys(r).reduce((function(n,e){return!Bn(e,r[e])&&(n[e.toLowerCase()]=r[e]),n}),{})),timestamp:a},response:{status:n.status||0,is_custom_error:!1,timestamp:X()},duration:X()-a};"function"==typeof n.getAllResponseHeaders&&(f.response.headers=function(n){return p(n)&&n?n.split("\r\n").reduce((function(n,e){if(p(e)){var r=t(e.split(": "),2),o=r[0],i=r[1];!Bn(o,i)&&(n[o.toLowerCase()]=i)}return n}),{}):{}}(n.getAllResponseHeaders()));var s=f.response.status,l=e.collectBodyOnError,d=e.extraExtractor;try{var v=null==d?void 0:d(n.response,f,c);v&&(f.extra=v),v&&(f.response.is_custom_error=!0),l&&(v||s>=400)&&(f.request.body=c?""+c:void 0,f.response.body=n.response?""+n.response:void 0)}catch(n){}return f},Gn="ajax",Fn={autoWrap:!0,setContextAtReq:function(){return a},ignoreUrls:[],collectBodyOnError:!1},Xn=function(n,e,r){var o=t(e,2),i=o[0],a=o[1],c=r.setTraceHeader,f=r.ignoreUrls,s=r.setContextAtReq,l=r.extractUrl,d=window.Headers,v=window.Request;v&&d&&n.push(i[0]((function(n){var e=t(n,2),o=e[0],i=e[1],p=Z(o instanceof v?o.url:o);if(!Wn(p)||x(f,p))return u;c&&c(p,(function(n,e){return Jn(n,e,o,i,v,d)}));var h=s(),g=X(),m=void 0,y=a()[0]((function(n){p===n.name&&!m&&(m=n)}));return function(n){var e,t,u=Qn(o,i,n,v,d,r,g),a=(e=function(n){m&&(n.response.timing=m),Hn(n,l),h&&h({ev_type:An,payload:n}),y()},t=!1,function(n){t||(t=!0,e(n))});setTimeout((function(){a(u)}),1e3)}})))},Wn=function(n){if(!p(n))return!1;var e=t(n.split(":"),2),r=e[0];return!e[1]||"http"===r||"https"===r},Kn=function(n,e){return n instanceof e},Jn=function(n,t,r,o,i,u){var a;Kn(r,i)?r.headers.set(n,t):o.headers instanceof u?o.headers.set(n,t):o.headers=e(e({},o.headers),((a={})[n]=t,a))},Vn=function(n,e,t){var r=e&&e.method||"get";return Kn(n,t)&&(r=n.method||r),r.toLowerCase()},Yn=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];try{return e.reduce((function(e,t){return new n(t||{}).forEach((function(n,t){return!Bn(t,n)&&(e[t]=n)})),e}),{})}catch(n){return{}}},$n=function(n,e,t){return Kn(n,t)?n.body:null==e?void 0:e.body},Qn=function(n,e,t,r,o,i,a){var c={api:"fetch",request:{method:Vn(n,e,r),timestamp:a,url:Z(n instanceof r?n.url:n),headers:Yn(o,n.headers,e.headers)},response:{status:t&&t.status||0,is_custom_error:!1,timestamp:X()},duration:X()-a},f=i.collectBodyOnError,s=i.extraExtractor,l=function(){var t;f&&(c.request.body=null===(t=$n(n,e,r))||void 0===t?void 0:t.toString())};if(t)try{var d=Yn(o,t.headers);c.response.headers=d;try{-1!==(d["content-type"]||"").indexOf("application/json")&&s&&t.clone().json().then((function(t){var o,i=s(t,c,null===(o=$n(n,e,r))||void 0===o?void 0:o.toString());i&&(c.extra=i,c.response.is_custom_error=!0,l())})).catch(u)}catch(n){}t.status>=400&&l()}catch(n){}else l();return c},Zn="fetch",ne={autoWrap:!0,setContextAtReq:function(){return a},ignoreUrls:[],collectBodyOnError:!1},ee=["name","message","stack","filename","lineno","colno"],te=function(n){var e,t,r,o;return function(n){switch(Object.prototype.toString.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMError]":case"[object DOMException]":return!0;default:return n instanceof Error}}(n)?(r=ee,e=(t=n)&&c(t)?r.reduce((function(n,e){return n[e]=t[e],n}),{}):t):(s(n)||(o=n,"undefined"!=typeof Event&&function(n,e){try{return n instanceof e}catch(n){return!1}}(o,Event))||p(n))&&(e={message:w(n)}),e},re=function(n){return t=n,"[object ErrorEvent]"===Object.prototype.toString.call(t)?function(n){var e=te(n.error);if(!e)return e;var t=n.colno,r=n.lineno,o=n.filename;return t&&!e.colno&&(e.colno=String(t)),r&&!e.lineno&&(e.lineno=String(r)),o&&!e.filename&&(e.filename=o),e}(n):function(n){return"[object PromiseRejectionEvent]"===Object.prototype.toString.call(n)}(n)?function(n){var t;try{var r=void 0;if("reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason),r){var o=te(r);return e(e({},o),{name:null!==(t=o&&o.name)&&void 0!==t?t:"UnhandledRejection"})}}catch(n){}}(n):te(n);var t},oe="jsError",ie=function(n){return"hidden"===n.visibilityState},ue=["hidden_3",function(n,e){var t=K(),r=W();if(t&&r){var o=function(e){n("pagehide"===e.type||ie(t))},i=ln(t,"visibilitychange",o,!0),u=sn(r,"pagehide",o,!0);e((function(){i(),u()}),(function(n){n(ie(t))}))}}],ae=["unload_0",function(n,e){var r=W();if(r){var o=t(dn(n),1)[0],i=function(){o()},u=[];["unload","beforeunload","pagehide"].forEach((function(n){u.push(sn(r,n,i,!1))})),e((function(){u.forEach((function(n){return n()}))}))}}],ce=["hash_0",function(n,e){var t=W();if(t){var r=sn(t,"hashchange",(function(){return n(location.href)}),!0);e((function(){r()}))}}],fe=["history_0",function(n,e){var t=V(),r=W();if(t&&r){var o=[],i=function(){return n(location.href)},u=function(n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{n.apply(t,e)}finally{i()}}};o.push(S(t,"pushState",u)(),S(t,"replaceState",u)()),o.push(sn(r,"popstate",i,!0)),e((function(){o.forEach((function(n){return n()}))}))}}],se=function(n){return le(n,X())},le=function(n,e){return n+"_"+e},de=function(n){return function(e,t){n(function(n,e){return{ev_type:jn,payload:{pid:e,source:n}}}(e,t))}},ve=function(n){return"manual"===n},pe="error_weight",he="duration_apdex",ge="perf_apdex",me=function(n,e){var t=n[0]+n[1]+n[2],r=n[0]/t;return n[2]/t>e.frustrating_threshold?2:r>e.satisfying_threshold||0===t?0:1},ye=function(n,e){return function(t,r){var o=t.payload;switch(t.ev_type){case"performance":var i=o.name;o.isSupport&&n(r[ge],i,o.value);break;case Pn:n(r[ge],"action",o.duration||0);break;case Tn:e(r[pe],0);break;case An:if(o.response.is_custom_error||o.response.status>=400)e(r[pe],1);else{var u=o.response.timing;u&&n(r[he],0,u.duration)}break;case"resource_error":e(r[pe],2);break;case"blank_screen":e(r[pe],3);break;case"resource":n(r[he],1,o.duration);break;case"performance_longtask":o.longtasks.forEach((function(e){n(r[he],2,e.duration)}))}}},be=function(){var n,e,t=function(){n=[0,0,0],e=function(){var n;return(n={error_count:[0,0,0,0],duration_count:[0,0,0]})[ge]={},n}()};return t(),[function(t,r,o){var i=t&&t[r];if(i&&!(o<=0)){var u=o<(i[0].threshold||0)?0:o>(i[1].threshold||0)?2:1;if(n[u]+=i[u].weight,"string"==typeof r){var a=le(r,u),c=e[ge][a];e[ge][a]=(c||0)+1}else 2===u&&(e.duration_count[r]+=1)}},function(t,r){t&&(n[2]+=t[r],e.error_count[r]+=1)},function(){return[n,e]},t]},_e=function(n,e,r,o){var i,u,a=o.sendInit,c=o.initPid,f=o.routeMode,s=o.extractPid,l=o.onPidUpdate,d=ve(f)?function(){return""}:function(n){return function(e){var t;return"hash"===n?(null===(t=nn(e).hash)||void 0===t?void 0:t.replace(/^#/,""))||"/":nn(e).path}}(f),v=s||function(){},p=t(function(n,e,t,r){var o=t,i=e;return r&&r(e),[function(e,t,u){"user_set"!==e&&t!==o?(o=t,i=null!=u?u:o,r&&r(i),n(e,i)):"user_set"===e&&t!==i&&(i=t,r&&r(i),n(e,i))},function(){e&&n("init",e)}]}(de(n),c||function(n){var e;return null!==(e=v(n))&&void 0!==e?e:d(n)}(location.href),d(location.href),l),2),h=p[0],g=p[1];if(!ve(f)){var m=t((i=function(n,e){return h(n,d(e),v(e))},u="",[function(n,e){e!==u&&i(n,u=e)}]),1)[0];r.length&&r.forEach((function(n){return e.push(n[0]((function(n){return m(f,n)})))}))}return a&&g(),[h.bind(null,"user_set")]},Ee=function(n,e,r,o){var i,u,a,c=t(r,2),f=c[0],s=c[1],l=2===o.apdex,d=void 0,v=void 0,p=void 0,h=!1,g=t(be(),4),m=g[0],y=g[1],b=g[2],_=g[3],E=t(be(),4),x=E[0],w=E[1],S=E[2],R=E[3],O=t((i={start:X(),end:0,time_spent:0,is_bounced:!1,entry:"",exit:"",p_count:0,a_count:0},[function(n,e){var r=t(n,3),o=r[0],u=r[1],a=r[2];i.end=X(),i.time_spent+=e&&e.time_spent||0,i.last_page=e,i.p_count+=1,i.rank=o,i.apdex=u,i.apdex_detail=a;var c=K();c&&(i.is_bounced=!function(n){return"complete"===n.readyState}(c))},function(n,e){i.time_spent+=n.time_spent,i.p_count+=1,i.exit=e},function(){i.a_count+=1},function(n){i.entry=n,i.exit=n},function(){return i}]),5),I=O[0],j=O[1],C=O[2],T=O[3],A=O[4],D=t((u=0,a=void 0,[function(n){if(n){if(!a)return;u+=X()-a,a=void 0}else a=X()},function(){a&&(u+=X()-a);var n=u;return u=0,a=X(),n}]),2),P=D[0],N=D[1];e.push(f[0](P)),!l&&e.push(s[0]((function(){if(h){var e=t(S(),2),r=e[0],o=e[1],i=me(r,p);I([i,r,o],q()),n({ev_type:Cn,payload:A()}),R()}})));var k=ye(m,y),L=ye(x,w),q=function(){var n=t(b(),2),e=n[0],r=n[1];return{start:d[0],pid:d[1],view_id:d[2],end:X(),time_spent:N(),apdex:e,rank:me(e,p),detail:r}};return e.push((function(){h=!1})),[function(n,e){if(!d)return d=[X(),n,e],T(n),void(h=!(!p||!d));h&&(v=q(),j(v,n)),d=[X(),n,e],_()},function(n){h&&(l||(L(n,p),n.ev_type===Pn&&C()),n.common.pid===d[1]&&k(n,p))},function(e){h&&(e.payload.last=v),n(e)},function(n){if(!n)return e.forEach((function(n){return n()})),void(e.length=0);h=!(!(p=n)||!d)}]},xe="pageview",we={sendInit:!0,routeMode:"history",apdex:2},Se=function(n){n.provide("sendEvent",(function(e){var t=function(n){if(n&&c(n)&&n.name&&p(n.name)){var e={name:n.name,type:"event"};if("metrics"in n&&c(n.metrics)){var t=n.metrics,r={};for(var o in t)v(t[o])&&(r[o]=t[o]);e.metrics=r}if("categories"in n&&c(n.categories)){var i=n.categories,u={};for(var o in i)u[o]=w(i[o]);e.categories=u}return"attached_log"in n&&p(n.attached_log)&&(e.attached_log=n.attached_log),e}}(e);t&&n.report({ev_type:Dn,payload:t,extra:{timestamp:X()}})})),n.provide("sendLog",(function(e){var t=function(n){if(n&&c(n)&&n.content&&p(n.content)){var e={content:w(n.content),type:"log",level:"info"};if("level"in n&&(e.level=n.level),"extra"in n&&c(n.extra)){var t=n.extra,r={},o={};for(var i in t)v(t[i])?r[i]=t[i]:o[i]=w(t[i]);e.metrics=r,e.categories=o}return"attached_log"in n&&p(n.attached_log)&&(e.attached_log=n.attached_log),e}}(e);t&&n.report({ev_type:Dn,payload:t,extra:{timestamp:X()}})}))};function Re(n){return(null==n?void 0:n.effectiveType)||(null==n?void 0:n.type)||""}var Oe=function(n,e){var t=n.common||{};return t.sample_rate=e,n.common=t,n},Ie=function(n,e,t,r,o){return n?(i=o(r,e),function(){return i}):function(){return t(e)};var i},je=function(n,e,t,r){var o=_(n,e,(function(n,e){return n[e]}));return void 0!==o&&function(n,e,t){switch(t){case"eq":return y(e,n);case"neq":return!y(e,n);case"gt":return n>e[0];case"gte":return n>=e[0];case"lt":return n<e[0];case"lte":return n<=e[0];case"regex":return Boolean(n.match(new RegExp(e.join("|"))));case"not_regex":return!n.match(new RegExp(e.join("|")));default:return!1}}(o,function(n,e){return n.map((function(n){switch(e){case"number":return Number(n);case"boolean":return"1"===n;default:return String(n)}}))}(r,"boolean"==typeof o?"bool":v(o)?"number":"string"),t)},Ce=function(n,e){try{return"rule"===e.type?je(n,e.field,e.op,e.values):"and"===e.type?e.children.every((function(e){return Ce(n,e)})):e.children.some((function(e){return Ce(n,e)}))}catch(n){return an(n),!1}},Te=function(n,e,t,r,o){if(!e)return a;var i=e.sample_rate,u=e.include_users,c=e.sample_granularity,f=e.rules,s=e.r,l=void 0===s?Math.random():s;if(y(u,n))return function(n){return Oe(n,1)};var d="session"===c,v=Ie(d,i,t,l,r),p=function(n,e,t,r,o,i){var u={};return Object.keys(n).forEach((function(a){var c=n[a],f=c.enable,s=c.sample_rate,l=c.conditional_sample_rules;f?(u[a]={enable:f,sample_rate:s,effectiveSampleRate:s*t,hit:Ie(e,s,r,o,i)},l&&(u[a].conditional_hit_rules=l.map((function(n){var u=n.sample_rate,a=n.filter;return{sample_rate:u,hit:Ie(e,u,r,o,i),effectiveSampleRate:u*t,filter:a}})))):u[a]={enable:f,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}})),u}(f,d,i,t,l,r);return function(n){var e;if(!v())return d&&o[0](),!1;if(!(n.ev_type in p))return Oe(n,i);if(!p[n.ev_type].enable)return d&&o[1](n.ev_type),!1;if(null===(e=n.common)||void 0===e?void 0:e.sample_rate)return n;var t=p[n.ev_type],r=t.conditional_hit_rules;if(r)for(var u=0;u<r.length;u++)if(Ce(n,r[u].filter))return!!r[u].hit()&&Oe(n,r[u].effectiveSampleRate);return t.hit()?Oe(n,t.effectiveSampleRate):((!r||!r.length)&&d&&o[1](n.ev_type),!1)}},Ae=function(n,e,t){var r=e.url,o=e.data,i=e.success,a=void 0===i?u:i,c=e.fail,f=void 0===c?u:c,s=e.getResponseText,l=void 0===s?u:s,d=e.withCredentials,v=void 0!==d&&d,p=new t;p.withCredentials=v,p.open(n,r,!0),p.setRequestHeader("Content-Type","application/json"),p.onload=function(){null==l||l(this.responseText);try{if(this.status>=400)f(new Error(this.responseText||this.statusText));else if(this.responseText){var n=JSON.parse(this.responseText);a(n)}else a({})}catch(n){f(n)}},p.onerror=function(){f(new Error("Network request failed"))},p.onabort=function(){f(new Error("Network request aborted"))},p.send(o)},De=function(){var n=Y();return n?{useBeacon:!0,get:function(e){Ae("GET",e,n)},post:function(e){Ae("POST",e,n)}}:{get:u,post:u}};function Pe(n){var e=function(n){var e,t=n.transport,r=n.endpoint,i=n.size,u=void 0===i?10:i,a=n.wait,c=void 0===a?1e3:a,f=[],s=0;function l(){if(f.length){var n=this.getBatchData();t.post({url:r,data:n,fail:function(t){e&&e(t,n)}}),f=[]}}return{getSize:function(){return u},getWait:function(){return c},setSize:function(n){u=n},setWait:function(n){c=n},getEndpoint:function(){return r},setEndpoint:function(n){r=n},send:function(n){f.push(n),f.length>=u&&l.call(this),clearTimeout(s),s=setTimeout(l.bind(this),c)},flush:function(){clearTimeout(s),l.call(this)},getBatchData:function(){return f.length?o(f):""},clear:function(){clearTimeout(s),f=[]},fail:function(n){e=n}}}(n),r=e.send;return function(n){var e=W();if(e){var r=t(dn(n),1)[0];["unload","beforeunload","pagehide"].forEach((function(n){sn(e,n,r,!1)}))}}((function(){if(n.transport.useBeacon){var t=function(){var n=W();return n&&n.navigator.sendBeacon?{get:function(){},post:function(e,t){n.navigator.sendBeacon(e,t)}}:{get:u,post:u}}(),i=e.getBatchData();i&&(t.post(e.getEndpoint(),i),e.clear()),e.send=function(n){t.post(e.getEndpoint(),o([n]))},function(n){var e=K(),t=W();if(e&&t){var r=u;r=ln(e,"visibilitychange",(function(){"visible"===e.visibilityState&&(n(),r())}),!0)}}((function(){e.send=r}))}else e.flush()})),e}var Ne="mon-va.byteoversea.com",ke=Ne,Le="https://sf16-short-va.bytedapm.com/slardar/fe/sdk-web/plugins",qe="1.14.1",Me="SDK_SLARDAR_WEB",Be="/monitor_web/settings/browser-settings",He="/monitor_browser/collect/batch/",Ue="SLARDAR",ze=["/log/sentry/",He,Be],Ge="session",Fe=["blankScreen","action"],Xe={sample_rate:1,include_users:[],sample_granularity:Ge,rules:{}};function We(n,e,t){void 0===t&&(t=Ye),function(n){var e=W(),t=K();e&&t&&("complete"!==t.readyState?sn(e,"load",(function(){setTimeout((function(){n()}),0)}),!1):n())}((function(){n.on("init",(function(){t(n,e)}))}))}var Ke=function(n,e,t,r){void 0===r&&(r=$e);var o=e.config(),i=o.plugins,u=o.pluginBundle,a=n.filter((function(n){return i[n]&&!e.destroyAgent.has(n)})),c=function(){return a.forEach((function(n){return Qe(e,n,t)}))};a.every((function(n){return nt(n,t)}))?c():r(e,{name:u.name},c)},Je=function(n,e,t,r){void 0===r&&(r=$e);var o=e.config().plugins;n.filter((function(n){return o[n]&&!e.destroyAgent.has(n)})).forEach((function(n){nt(n,t)?Qe(e,n,t):r(e,{name:n,config:o[n]},(function(){return Qe(e,n,t)}))}))},Ve=function(n){return function(t,r){var o,i=n.config().pluginBundle;n.destroyAgent.has(t)&&n.destroyAgent.remove(t),void 0!==r&&n.set({plugins:e(e({},n.config().plugins),(o={},o[t]=r,o))}),i&&~i.plugins.indexOf(t)?Ke([t],n):Je([t],n)}};function Ye(n,e,t){void 0===t&&(t=$e);var r=n.config().pluginBundle,o=r?r.plugins:[];Ke(o,n,e,t),Je(Fe,n,e,t),n.provide("reloadPlugin",Ve(n))}function $e(n,e,t,r){var o=e.name,i=e.config;void 0===r&&(r=vn);var u=function(n,e,t){var r;return null!==(r=null==t?void 0:t.path)&&void 0!==r?r:n.config().pluginPathPrefix+"/"+(e.replace(/([a-z])([A-Z])/g,(function(n,e,t){return e+"-"+t.toLowerCase()}))+".")+qe+".js"}(n,o,i);r(u,(function(){t()}))}function Qe(n,e,t){if(void 0===t&&(t=un(W())),t){var r=Ze(t,e);if(r)try{if(n.destroyAgent.has(e))return;r.apply(n)}catch(n){an(n),T("[loader].applyPlugin failed",e,n)}else T("[loader].applyPlugin not found",e)}}function Ze(n,e){return n.plugins.filter((function(n){return n.name===e&&n.version===qe}))[0]}function nt(n,e){return void 0===e&&(e=un(W())),!(!e||!e.plugins||!Ze(e,n))}function et(n,e,t){void 0===t&&(t=un(W())),t&&t.plugins&&(Ze(t,n)||t.plugins.push({name:n,version:qe,apply:e}))}function tt(n){var e,t;try{for(var r=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(["userId","deviceId","sessionId","env"]),o=r.next();!o.done;o=r.next()){var i=o.value;n[i]||delete n[i]}}catch(n){e={error:n}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n}function rt(n){var t=n.plugins||{};for(var r in t)t[r]&&!c(t[r])&&(t[r]={});return tt(e(e({},n),{plugins:t}))}function ot(n){return c(n)&&"bid"in n}function it(n){return tt(e({},n))}function ut(n){var e;if(!n)return{};var t=n.sample,r=n.plugins,o=n.timestamp,i=n.quota_rate,u=void 0===i?1:i,a=n.apdex;if(!t)return{};var c=t.sample_rate,f=t.sample_granularity,s=void 0===f?Ge:f,l=t.include_users,d=t.rules;return{sample:{include_users:l,sample_rate:c*u,sample_granularity:s,rules:(void 0===d?[]:d).reduce((function(n,e){var t=e.name,r=e.enable,o=e.sample_rate,i=e.conditional_sample_rules;return n[t]={enable:r,sample_rate:o,conditional_sample_rules:i},n}),{})},plugins:{heatmap:null!==(e=null==r?void 0:r.heatmap)&&void 0!==e&&e},apdex:a,serverTimestamp:o}}var at=function(n,e){return void 0===e&&(e=He),(n&&n.indexOf("//")>=0?"":"https://")+n+e},ct=function(n,e){return void 0===e&&(e=Be),(n&&n.indexOf("//")>=0?"":"https://")+n+e},ft=function(){return N()},st=function(n){var e=[];return n.observe=function(n){e.push(n)},n.push=function(){for(var o,i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];return i.forEach((function(n){e.forEach((function(e){return e(n)}))})),(o=[].push).call.apply(o,r([n],t(i),!1))},n},lt=function(){var n,e,t,r=W(),o=K();if(r&&o)return(null===(t=null===(e=null===(n=Q())||void 0===n?void 0:n.getAttribute("src"))||void 0===e?void 0:e.match(/globalName=(.+)$/))||void 0===t?void 0:t[1])||"Slardar"},dt=function(n){return Ue+n},vt=function(n,e){try{var t=localStorage.getItem(n);if(!t||!hn()||"{"!==t[0])return;mn(n,JSON.parse(t),e)}catch(n){}},pt=function(n,e){void 0===n&&(n="");var t={userId:N(),deviceId:N()};if(e<=0)return t;var r=dt(n);vt(r,e);var o=gn(r);return{userId:(null==o?void 0:o.userId)||t.userId,deviceId:(null==o?void 0:o.deviceId)||t.deviceId}},ht=function(n){var e=n.bid,t=n.userId,r=n.deviceId,o=n.storageExpires,i=dt(e);mn(i,{userId:t,deviceId:r},yn(o))},gt={get:function(){return this.__SLARDAR__REPALCE__HOLDER__}},mt=function(n){var t,r,o=n,i={},a=gt.get(),c=u,f=u;return{getConfig:function(){return o},setConfig:function(n){return i=e(e({},i),n||{}),s(),t||(t=n,o.useLocalConfig||!o.bid?(r={},c()):a?l():yt(o.transport,o.domain,o.bid,(function(n){a=n,l()}))),o},onChange:function(n){f=n},onReady:function(n){c=function(){ht(o),n()},r&&c()}};function s(){var t=e(e(e({},n),r||{}),i);t.plugins=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t={},r=0;r<n.length;)t=g(t,n[r++]);return t}(n.plugins,(null==r?void 0:r.plugins)||{},i.plugins||{}),t.sample=bt(bt(n.sample,null==r?void 0:r.sample),i.sample),o=t,f()}function l(){r=ut(a),s(),c()}};function yt(n,e,t,r){n.get({withCredentials:!0,url:ct(e)+"?bid="+t+"&store=1",success:function(n){r(n.data||{})},fail:function(){r({sample:{sample_rate:.001}})}})}function bt(n,o){if(!n||!o)return n||o;var i=e(e({},n),o);return i.include_users=r(r([],t(n.include_users||[]),!1),t(o.include_users||[]),!1),i.rules=r(r([],t(Object.keys(n.rules||{})),!1),t(Object.keys(o.rules||{})),!1).reduce((function(i,u){var a,c;return u in i||(u in(n.rules||{})&&u in(o.rules||{})?(i[u]=e(e({},n.rules[u]),o.rules[u]),i[u].conditional_sample_rules=r(r([],t(n.rules[u].conditional_sample_rules||[]),!1),t(o.rules[u].conditional_sample_rules||[]),!1)):i[u]=(null===(a=n.rules)||void 0===a?void 0:a[u])||(null===(c=o.rules)||void 0===c?void 0:c[u])),i}),{}),i}var _t,Et={build:function(n){return{ev_type:n.ev_type,payload:n.payload,common:e(e({},n.extra||{}),n.overrides||{})}}},xt=function(n,t){var r=t||{},o=r.pid,i=void 0===o?"":o,u=r.viewId,a=void 0===u?"":u,c={url:en(),timestamp:X(),sdk_version:qe,sdk_name:Me,pid:i,view_id:a};return e(e({},n),{extra:e(e({},c),n.extra||{})})},wt=function(n){n.on("report",(function(e){return xt(e,n.config())}))},St={sri:"reportSri",st:"reportResourceError",err:"captureException",reject:"captureException"},Rt=function(n){return Object.keys(n).reduce((function(n,e){return n[e]=[],n}),{})},Ot=function(n){return Object.keys(n).reduce((function(e,t){return e[n[t]]?e[n[t]].push(t):e[n[t]]=[t],e}),{})},It=function(n,t,r){return function(o,i,u,a){var c;void 0===u&&(u=X()),void 0===a&&(a=location.href);var f=e(e({},cn(n)),{url:a,timestamp:u});t[o]&&(n[r[o]]?fn(n,f)((function(){n[r[o]](i)})):null===(c=t[o])||void 0===c||c.push([i,f]))}},jt=function(n,e,r){return function(o){o in r&&r[o].forEach((function(r){var i;null===(i=e[r])||void 0===i||i.forEach((function(e){var r=t(e,2),i=r[0],u=r[1];fn(n,u)((function(){n[o](i)}))})),e[r]=null}))}},Ct=function(n,e){return"err"===e?!1!==_(n,"plugins."+oe+".onerror",(function(n,e){return n[e]})):"reject"!==e||!1!==_(n,"plugins."+oe+".onunhandledrejection",(function(n,e){return n[e]}))},Tt=function(n,e){var r;void 0===e&&(e=St);var o=Rt(e),i=Ot(e),u=It(n,o,e);(null===(r=n.p)||void 0===r?void 0:r.a)&&"observe"in n.p.a&&n.p.a.observe((function(e){var r=t(e,5);r[0];var o=r[1],i=r[2],a=r[3],c=r[4],f=n.config();Ct(f,o)&&u(o,i,a,c)})),n.on("init",(function(){var e,r=n.config();null===(e=n.p)||void 0===e||e.a.forEach((function(n){var e=t(n,5);e[0];var o=e[1],i=e[2],a=e[3],c=e[4];Ct(r,o)&&u(o,i,a,c)})),n.p&&n.p.a&&(n.p.a.length=0),n.provide("precollect",(function(n,e,t,o){void 0===t&&(t=X()),void 0===o&&(o=location.href),Ct(r,n)&&u(n,e,t,o)}))})),n.on("provide",jt(n,o,i))},At=function(n){var e=t(n,2),r=e[0],o=e[1];return{ev_type:Tn,payload:{error:re(r),breadcrumbs:[],extra:o||{}},extra:{bid:"slardar_sdk"}}},Dt=function(n,e){void 0===e&&(e=.001);var t=un(W());t&&(t.errors||(t.errors=[]),"observe"in t.errors||A(e)&&(t.errors=st(t.errors),t.errors.forEach((function(e){n.report(At(e))})),t.errors.observe((function(e){n.report(At(e))}))))},Pt=function(n){var t,r=!1;n.on("init",(function(){t=(new Date).getTime(),n.on("config",(function(){var o,i=null===(o=n.config())||void 0===o?void 0:o.serverTimestamp;if(!(isNaN(i)||Number(i)<=0||r)){r=!0;var u=(new Date).getTime();if(u-t<700&&i){var a=i-(u+t)/2;!isNaN(a)&&(a>0||a<-6e5)&&n.on("beforeBuild",(function(n){var t;return e(e({},n),{extra:e(e({},null!==(t=n.extra)&&void 0!==t?t:{}),{sdk_offset:null!=a?a:0})})}))}}}))}))},Nt=function(n,t){var r={};return r.bid=t.bid,r.user_id=t.userId,r.device_id=t.deviceId,r.session_id=t.sessionId,r.release=t.release,r.env=t.env,e(e({},n),{extra:e(e({},r),n.extra||{})})},kt=function(n){n.on("beforeBuild",(function(e){return Nt(e,n.config())}))},Lt=function(n){n.on("start",(function(){var e=n.config().bid,t=n.getSender();t.setEndpoint(t.getEndpoint()+"?biz_id="+e)}))},qt=function(n){var e=yn(n.storageExpires),t=pt(n.bid,e);return{bid:"",pid:"",viewId:se("_"),userId:t.userId,deviceId:t.deviceId,storageExpires:e,sessionId:ft(),domain:Ne,pluginBundle:{name:"commonMonitors",plugins:["breadcrumb","jsError","performance","resourceError","resource"]},pluginPathPrefix:Le,plugins:{ajax:{ignoreUrls:ze},fetch:{ignoreUrls:ze},breadcrumb:{},pageview:{},jsError:{},resource:{},resourceError:{},performance:{},tti:{},fmp:{},blankScreen:!1,heatmap:!1},release:"",env:"production",sample:Xe,transport:De()}},Mt=function(n){var o=void 0===n?{}:n,i=o.createSender,u=void 0===i?function(n){return Pe({size:20,endpoint:at(n.domain),transport:n.transport})}:i,a=o.builder,c=void 0===a?Et:a,f=o.createDefaultConfig,s=H({validateInitConfig:ot,initConfigNormalizer:rt,userConfigNormalizer:it,createSender:u,builder:c,createDefaultConfig:void 0===f?qt:f,createConfigManager:mt});Dt(s),U(s);var l=un(W());!function(n,e){var r=e||{},o={};n.provide("setFilter",(function(n,e){o[n]||(o[n]=[]),o[n].push(e)})),n.provide("initSubject",(function(e){var i=t(e,2),u=i[0],a=i[1],c=function(n){return n.split("_")[0]}(u),f=!!c&&o[c];return r[u]||(r[u]=q(a,(function(){r[u]=void 0}))),f?F(n,[u,M(r[u],f)]):r[u]})),n.provide("getSubject",(function(n){return r[n]})),n.provide("privateSubject",{})}(s,l&&l.subject),Pt(s),kt(s),wt(s),function(n){var t=$(),r=Re(t);t&&(t.onchange=function(){r=Re(t)}),n.on("report",(function(n){return e(e({},n),{extra:e(e({},n.extra||{}),{network_type:r})})}))}(s),Lt(s);var d=z(s,cn,(function(n,e,o){return fn(n,e)((function(){var n=t(o),e=n[0],i=n.slice(1);s[e].apply(s,r([],t(i),!1))}))}));return function(n,e){n.on("init",(function(){var t=[],r=function(r){r.forEach((function(r){var o=r.name;y(t,o)||(t.push(o),r.setup(n),e(o,r.setup),n.destroyAgent.set(o,o,[function(){t=b(t,o),r.tearDown&&r.tearDown()}]))}))};n.provide("applyIntegrations",r);var o=n.config();o&&o.integrations&&r(o.integrations)}))}(d,et),d},Bt=((_t={})[xe]=function(n){n.on("init",(function(){var r,o=null===(r=n.config())||void 0===r?void 0:r.plugins[xe];!function(n,r){var o,i=pn(r,we);if(i&&J()){var a=i.routeMode,c=i.apdex,f=n.report.bind(n),s=u;if(c){var l=[],d=t(Ee(n.report.bind(n),l,[G(n,ue),G(n,ae)],i),4),v=d[0],p=d[1],h=d[2],g=d[3];f=h,s=v,n.on("send",p),l.push((function(){return n.off("send",p)})),n.on("start",(function(){g(n.config().apdex)})),B(n,xe,Cn,l)}var m=[],y=t(_e(f,m,ve(a)?[]:[n.initSubject(ce),n.initSubject(fe)],e(e({},i),{initPid:null===(o=n.config())||void 0===o?void 0:o.pid,onPidUpdate:function(e){var t=se(e);s(e,t),n.set({pid:e,viewId:t,actionId:void 0})}})),1)[0];F(n,["f_view_0",on(n)],-1);var b=function(){y(n.config().pid)};n.on("config",b),m.push((function(){return n.off("config",b)})),B(n,xe,jn,m),n.provide("sendPageview",y)}}(n,o)}))},_t[Gn]=function(n){n.on("init",(function(){var t,r=null===(t=n.config())||void 0===t?void 0:t.plugins[Gn];!function(n,t){var r=pn(t,Fn);if(r){var o=[],i=e(e({},r),{setContextAtReq:function(){return rn(n)},setTraceHeader:Ln(r.trace)}),u=function(){return G(n,In)};i.autoWrap&&Un(o,[G(n,["xhr_0",wn(XMLHttpRequest&&XMLHttpRequest.prototype)]),u],i),B(n,Gn,An,o),n.provide("wrapXhr",(function(n){function e(){var e=new n;return Un(o,[q(wn(e)),u],i),e}return e.prototype=new n,["DONE","HEADERS_RECIEVED","LOADING","OPENED","UNSENT"].forEach((function(t){e[t]=n[t]})),e}))}}(n,r)}))},_t[Zn]=function(n){n.on("init",(function(){var t,r=null===(t=n.config())||void 0===t?void 0:t.plugins[Zn];!function(n,t){var r=pn(t,ne);if(r){var o=[],i=e(e({},r),{setContextAtReq:function(){return rn(n)},setTraceHeader:Ln(r.trace)}),u=function(){return G(n,In)};i.autoWrap&&Xn(o,[G(n,Rn),u],i),B(n,Zn,An,o),n.provide("wrapFetch",(function(n){var e=void 0;return Xn(o,[q((function(t){e=Sn(n,t)})),u],i),e}))}}(n,r)}))},_t),Ht=function(n){void 0===n&&(n={});var e=Mt(n);return function(n){n.on("start",(function(){var e=n.config(),t=e.userId,r=e.sample,o=Te(t,r,A,D,[function(){n.destroy()},function(e){n.destroyAgent.removeByEvType(e)}]);n.on("build",o)}))}(e),Tt(e),Se(e),Object.keys(Bt).forEach((function(n){et(n,Bt[n]),Bt[n](e)})),We(e),e.provide("create",Ht),e},Ut="precollect",zt=3e5,Gt=Ht(),Ft=W();Ft&&function(n,e){if("addEventListener"in n){e.pcErr=function(t){var r=(t=t||n.event).target||t.srcElement||{};r instanceof Element||r instanceof HTMLElement?e(Ut,"st",{tagName:r.tagName,url:r.getAttribute("href")||r.getAttribute("src")}):e(Ut,"err",t.error)},e.pcRej=function(t){t=t||n.event,e(Ut,"reject",t.reason||t.detail&&t.detail.reason)};var t=[];t.push(sn(n,"error",e.pcErr,!0)),t.push(sn(n,"unhandledrejection",e.pcRej,!0)),setTimeout((function(){t.forEach((function(n){return n()}))}),zt)}"PerformanceObserver"in n&&"PerformanceLongTaskTiming"in n&&(e.pp={entries:[]},e.pp.observer=new PerformanceObserver((function(n){e.pp.entries=e.pp.entries.concat(n.getEntries())})),e.pp.observer.observe({entryTypes:["longtask"]}),setTimeout((function(){e.pp.observer.disconnect()}),zt))}(Ft,Gt),n.BATCH_REPORT_PATH=He,n.DEFAULT_IGNORE_PATHS=ze,n.DEFAULT_SAMPLE_CONFIG=Xe,n.DEFAULT_SAMPLE_GRANULARITY=Ge,n.DEFAULT_SENDER_SIZE=20,n.DEVICE_ID_COOKIE_NAME="MONITOR_DEVICE_ID",n.EV_METHOD_MAP=St,n.EXTRA_INDEPENDENT_PLUGINS=Fe,n.InjectConfigPlugin=kt,n.InjectEnvPlugin=wt,n.InjectQueryPlugin=Lt,n.ObserveErrorPlugin=Dt,n.PLUGINS_LOAD_PREFIX=Le,n.PluginMap=Bt,n.PrecollectPlugin=Tt,n.REPORT_DOMAIN=Ne,n.SDK_NAME=Me,n.SDK_VERSION=qe,n.SETTINGS_DOMAIN=ke,n.SETTINGS_PATH=Be,n.STORAGE_PREFIX=Ue,n.TimeCalibrationPlugin=Pt,n.USER_ID_COOKIE_NAME="MONITOR_WEB_ID",n.addConfigToReportEvent=Nt,n.addEnvToSendEvent=xt,n.applyPlugin=Qe,n.browserBuilder=Et,n.buildSelfErrorEvent=At,n.configHolder=gt,n.createBrowserClient=Ht,n.createBrowserConfigManager=mt,n.createMinimalBrowserClient=Mt,n.createStore=Rt,n.default=Gt,n.doesPluginExistInRegistry=nt,n.filterIfPluginDisabled=Ct,n.getConsumeStored=jt,n.getDefaultConfig=qt,n.getDefaultSessionId=ft,n.getDefaultUserIdAndDeviceId=pt,n.getGlobalInstance=function(){var n=W(),e=lt();if(n&&e)return n[e]},n.getGlobalName=lt,n.getPluginFromRegistry=Ze,n.getReportUrl=at,n.getServerConfig=yt,n.getSettingsUrl=ct,n.getStorageKey=dt,n.getStoreOrConsume=It,n.glueCodeForStorageSecurity=vt,n.hasSetStorageItem=function(n){void 0===n&&(n="");var e=dt(n);return!!gn(e)},n.loadCombinedPlugins=Ke,n.loadIndependentPlugins=Je,n.loadNow=$e,n.loadPlugins=Ye,n.loadPluginsOnPageLoad=We,n.mergeSampleConfig=bt,n.normalizeInitConfig=rt,n.normalizeStrictFields=tt,n.normalizeUserConfig=it,n.parseServerConfig=ut,n.register=et,n.reverseMap=Ot,n.setStorageUserIdAndDeviceId=ht,n.toObservableArray=st,n.validateInitConfig=ot}(It)),It),Tt={};var At=(jt||(jt=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});
/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */
var e=function(){return e=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},e.apply(this,arguments)};function t(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,o,i=t.call(n),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u}function r(n,e,t){if(2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))}var o=function(n){return JSON.stringify({ev_type:"batch",list:n})},i=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],u=function(){return{}};function a(n){return n}function c(n){return"object"==typeof n&&null!==n}var f=Object.prototype;function s(n){if(c(n)){if("function"==typeof Object.getPrototypeOf){var e=Object.getPrototypeOf(n);return e===f||null===e}return"[object Object]"===f.toString.call(n)}return!1}function l(n){return"[object Array]"===f.toString.call(n)}function d(n){return"function"==typeof n}function v(n){return"number"==typeof n}function p(n){return"string"==typeof n}function h(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function g(n,t){var r=e({},n);for(var o in t)h(t,o)&&void 0!==t[o]&&(c(t[o])&&s(t[o])?r[o]=g(c(n[o])?n[o]:{},t[o]):l(t[o])&&l(n[o])?r[o]=m(n[o],t[o]):r[o]=t[o]);return r}function m(n,e){var t=l(n)?n:[],r=l(e)?e:[];return Array.prototype.concat.call(t,r).map((function(n){return n instanceof RegExp?n:c(n)&&s(n)?g({},n):l(n)?m([],n):n}))}function y(n,e){if(!l(n))return!1;if(0===n.length)return!1;for(var t=0;t<n.length;){if(n[t]===e)return!0;t++}return!1}var b=function(n,e){if(!l(n))return n;var t=n.indexOf(e);if(t>=0){var r=n.slice();return r.splice(t,1),r}return n},_=function(n,e,r){for(var o,i=t(e.split(".")),u=i[0],a=i.slice(1);n&&a.length>0;)n=n[u],u=(o=t(a))[0],a=o.slice(1);if(n)return r(n,u)};function E(n){return l(n)&&n.length?function(n){for(var e=[],t=n.length,r=0;r<t;r++){var o=n[r];p(o)?e.push(o.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):o&&o.source&&e.push(o.source)}return new RegExp(e.join("|"),"i")}(n):null}var x=function(n,e){var t=E(n||[]);return!!t&&t.test(e)};function w(n){try{return p(n)?n:JSON.stringify(n)}catch(n){return"[FAILED_TO_STRINGIFY]:"+String(n)}}var S=function(n,e,o,i){return void 0===i&&(i=!0),function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];if(!n)return u;var f=n[e],s=o.apply(void 0,r([f],t(a),!1)),l=s;return d(l)&&i&&(l=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{return s.apply(this,n)}catch(e){return d(f)&&f.apply(this,n)}}),n[e]=l,function(t){t||(l===n[e]?n[e]=f:s=f)}}},R=function(n,e,o){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(!n)return u;var c=n[e],f=o.apply(void 0,r([c],t(i),!1)),s=f;return d(s)&&(s=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return f.apply(this,n)}),n[e]=s,function(){s===n[e]?n[e]=c:f=c}}},O="".padStart?function(n,e){return void 0===e&&(e=8),n.padStart(e," ")}:function(n){return n},I=0,j=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];console.error.apply(console,r(["[SDK]",Date.now(),O(""+I++)],t(n),!1))},C=0,T=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];console.warn.apply(console,r(["[SDK]",Date.now(),O(""+C++)],t(n),!1))},A=function(n){return Math.random()<Number(n)},D=function(n,e){return n<Number(e)},P=function(n){return function(e){for(var t=e,r=0;r<n.length&&t;r++)try{t=n[r](t)}catch(n){j(n)}return t}};function N(){var n=function(){for(var n=new Array(16),e=0,t=0;t<16;t++)3&t||(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(n){for(var e=[],t=0;t<256;++t)e[t]=(t+256).toString(16).substr(1);var r=0,o=e;return[o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]]].join("")}(n)}var k=function(n,e){var t=[];try{t=e.reduce((function(e,t){try{var r=t(n);"function"==typeof r&&e.push(r)}catch(n){}return e}),[])}catch(n){}return function(n){return k(n,t)}},L=function(n){void 0===n&&(n=3e5);var e,t=[],r=[],o=!1,i=function(n,e,t){var r=0;return-1===t?u:function(){if(n())return r&&clearTimeout(r),void(r=0);0===r&&(r=setTimeout(e,t))}}((function(){return!!t.length}),(function(){o=!0,e&&e[0](),r.forEach((function(n){return n()})),r.length=0,e=void 0}),n),a=function(n){t=b(t,n),!o&&i()};return{next:function(n){return k(n,t)},complete:function(n){r.push(n)},attach:function(n,t){e=[n,t]},subscribe:function(n){if(o)throw new Error("Observer is closed");return t.push(n),e&&e[1]&&e[1](n),i(),function(){return a(n)}},unsubscribe:a}},q=function(n,e,t){var r=L(t);try{n(r.next,r.attach),e&&r.complete(e)}catch(n){}return[r.subscribe,r.unsubscribe]},M=function(n,e){var r=t(n,1)[0];return function(n,t){var o=r((function(t){var r;return(r=e,function(n){for(var e=!0,t=0;t<r.length&&e;t++)try{e=r[t](n)}catch(n){j(n)}return e})(t)?n(t):u}));t((function(){o()}))}},B=function(n,e,t,r){return n.destroyAgent.set(e,t,r)};function H(n){var e,o,u=n.builder,a=n.createSender,f=n.createDefaultConfig,s=n.createConfigManager,l=n.userConfigNormalizer,d=n.initConfigNormalizer,v=n.validateInitConfig,p={};i.forEach((function(n){return p[n]=[]}));var h=!1,g=!1,m=!1,_=[],E=[],x=function(){var n=!1,e={},t=function(n){n.length&&n.forEach((function(n){try{n()}catch(n){}})),n.length=0},r=function(n){e[n]&&e[n].forEach((function(n){t(n[1])})),e[n]=void 0};return{set:function(r,o,i){e[r]?e[r].push([o,i]):e[r]=[[o,i]],n&&t(i)},has:function(n){return!!e[n]},remove:r,removeByEvType:function(n){Object.keys(e).forEach((function(r){e[r]&&e[r].forEach((function(e){e[0]===n&&t(e[1])}))}))},clear:function(){n=!0,Object.keys(e).forEach((function(n){r(n)}))}}}(),w={getBuilder:function(){return u},getSender:function(){return e},getPreStartQueue:function(){return _},init:function(n){if(h)T("already inited");else{if(!(n&&c(n)&&v(n)))throw new Error("invalid InitConfig, init failed");var t=f(n);if(!t)throw new Error("defaultConfig missing");var r=d(n);if((o=s(t)).setConfig(r),o.onChange((function(){S("config")})),!(e=a(o.getConfig())))throw new Error("sender missing");h=!0,S("init",!0)}},set:function(n){h&&n&&c(n)&&(S("beforeConfig",!1,n),null==o||o.setConfig(n))},config:function(n){if(h)return n&&c(n)&&(S("beforeConfig",!1,n),null==o||o.setConfig(l(n))),null==o?void 0:o.getConfig()},provide:function(n,e){y(E,n)?T("cannot provide "+n+", reserved"):(w[n]=e,S("provide",!1,n))},start:function(){var n=this;h&&(g||null==o||o.onReady((function(){g=!0,S("start",!0),_.forEach((function(e){return n.build(e)})),_.length=0})))},report:function(n){if(n){var e=P(p.beforeReport)(n);if(e){var t=P(p.report)(e);t&&(g?this.build(t):_.push(t))}}},build:function(n){if(g){var e=P(p.beforeBuild)(n);if(e){var t=u.build(e);if(t){var r=P(p.build)(t);r&&this.send(r)}}}},send:function(n){if(g){var t=P(p.beforeSend)(n);t&&(e.send(t),S("send",!1,t))}},destroy:function(){x.clear(),m=!0,_.length=0,S("beforeDestroy",!0)},on:function(n,e){if("init"===n&&h||"start"===n&&g||"beforeDestroy"===n&&m)try{e()}catch(n){}else p[n]&&p[n].push(e)},off:function(n,e){p[n]&&(p[n]=b(p[n],e))},destroyAgent:x};return E=Object.keys(w),w;function S(n,e){void 0===e&&(e=!1);for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];p[n].forEach((function(n){try{n.apply(void 0,r([],t(o),!1))}catch(n){}})),e&&(p[n].length=0)}}var U=function(n){var t=function(){var n={},t={},r={set:function(e,o){return n[e]=o,t[e]=w(o),r},merge:function(o){return n=e(e({},n),o),Object.keys(o).forEach((function(n){t[n]=w(o[n])})),r},delete:function(e){return delete n[e],delete t[e],r},clear:function(){return n={},t={},r},get:function(n){return t[n]},toString:function(){return e({},t)}};return r}();n.provide("context",t),n.on("report",(function(n){return n.extra||(n.extra={}),n.extra.context=t.toString(),n}))},z=function(n,e,o){var i={},u=function(){for(var o,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var f=a[0];if(f){var s=f.split(".")[0];if(!(s in u)){var l=i[s]||[],v=null!==(o=null==e?void 0:e(n))&&void 0!==o?o:{};return l.push(r([v],t(a),!1)),void(i[s]=l)}return function(n,e,t){return _(n,e,(function(n,e){if(n&&e in n&&d(n[e]))try{return n[e].apply(n,t)}catch(n){return}}))}(u,f,[].slice.call(a,1))}};for(var a in S(n,"provide",(function(e){return function(t,r){u[t]=r,e.call(n,t,r)}}))(),n)Object.prototype.hasOwnProperty.call(n,a)&&(u[a]=n[a]);return n.on("provide",(function(e){i[e]&&(i[e].forEach((function(e){var r=t(e),i=r[0],u=r.slice(1);null==o||o(n,i,u)})),i[e]=null)})),u};function G(n,e){return n.initSubject(e)}function F(n,e,r){var o=t(e,2),i=o[0],u=o[1],a=n.privateSubject||{};return a[i]||(a[i]=q(u,(function(){a[i]=void 0}),r)),a[i]}var X=function(){return Date.now()};function W(){if("object"==typeof window&&c(window))return window}function K(){if("object"==typeof document&&c(document))return document}function J(){return W()&&window.location}function V(){return W()&&window.history}function Y(){if("function"==typeof XMLHttpRequest&&d(XMLHttpRequest))return XMLHttpRequest}function $(){var n=function(){if(W()&&"navigator"in window)return window.navigator}();if(n)return n.connection||n.mozConnection||n.webkitConnection}function Q(){if(!document)return null;if(document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n=0,e=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i.exec(f.stack),t=e&&e[2]||!1,r=e&&e[3]||0,o=document.location.href.replace(document.location.hash,""),i="",u=document.getElementsByTagName("script");if(t===o){var a=document.documentElement.outerHTML,c=new RegExp("(?:[^\\n]+?\\n){0,"+(r-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i");i=a.replace(c,"$1").trim()}for(;n<u.length;n++){if("interactive"===u[n].readyState)return u[n];if(u[n].src===t)return u[n];if(t===o&&u[n].innerHTML&&u[n].innerHTML.trim()===i)return u[n]}return null}}function Z(n){var e=K();if(!e||!n)return"";var t=e.createElement("a");return t.href=n,t.href}function nn(n){var e=K();if(!e||!n)return{url:n,protocol:"",domain:"",query:"",path:"",hash:""};var t=e.createElement("a");t.href=n;var r=t.pathname||"/";return"/"!==r[0]&&(r="/"+r),{url:t.href,protocol:t.protocol.slice(0,-1),domain:t.hostname,query:t.search.substring(1),path:r,hash:t.hash}}function en(){var n=W()&&J();return n?n.href:""}var tn=function(n){var e,t=n.config(),r={pid:(e=t).pid,view_id:e.viewId,url:en()};return r.context=n.context?n.context.toString():{},r},rn=function(n,t){var r=tn(n);return r.timestamp=X(),function(t){n.report(e(e({},t),{overrides:r}))}},on=function(n){return function(e,t){var r=tn(n);t(u,(function(n){r&&n(r)}))}},un=function(n){if(n)return n.__SLARDAR_REGISTRY__||(n.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),n.__SLARDAR_REGISTRY__.Slardar},an=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=un(W());t&&(t.errors||(t.errors=[]),t.errors.push(n))},cn=function(n){var e={url:en(),timestamp:X()},t=n.config();return(null==t?void 0:t.pid)&&(e.pid=t.pid),(null==n?void 0:n.context)&&(e.context=n.context.toString()),e},fn=function(n,e){return function(t){var r=function(n){return n.overrides=e,n};n.on("report",r),t(),n.off("report",r)}},sn=function(n,e,t,r){return void 0===r&&(r=!1),n.addEventListener(e,t,r),function(){n.removeEventListener(e,t,r)}},ln=function(n,e,t,r){return n.addEventListener(e,t,r),function(){n.removeEventListener(e,t,r)}},dn=function(n){var e=!1;return[function(t){e||(e=!0,n&&n(t))}]},vn=function(n,e){var t,r=K();if(r){var o=r.createElement("script");o.src=n,o.crossOrigin="anonymous",o.onload=e,null===(t=r.head)||void 0===t||t.appendChild(o)}},pn=function(n,t){return c(n)?e(e({},t),n):!!n&&t},hn=function(){return!!btoa&&!!atob},gn=function(n){try{var e=localStorage.getItem(n),t=e;e&&"string"==typeof e&&(t=JSON.parse((u=e,hn()?decodeURI(atob(u)):u)));var r=t,o=r.expires,i=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t}(r,["expires"]);return o>=X()?i:void 0}catch(n){return}var u},mn=function(n,t,r){var o;if(!(r<=0))try{localStorage.setItem(n,(o=JSON.stringify(e(e({},t),{expires:X()+r})),hn()?btoa(encodeURI(o)):o))}catch(n){}},yn=function(n){return!1===n?0:!0!==n&&void 0!==n&&v(n)?n:7776e6},bn=function(){var n=new RegExp("\\/monitor_web\\/collect|\\/monitor_browser\\/collect\\/batch","i");return function(e){return n.test(e)}},_n=function(n){return function(){for(var e,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e=t(r,2),this._method=e[0],this._url=e[1],n.apply(this,r)}},En=function(n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._reqHeaders=this._reqHeaders||{};var o=t(e,2),i=o[0],u=o[1];return this._reqHeaders[i]=u,n&&n.apply(this,e)}},xn=function(n,e){var t=bn();return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return this._start=X(),this._data=null==r?void 0:r[0],t(this._url)||function(n,e){return R(n,"onreadystatechange",(function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return 4===this.readyState&&e(n),t&&t.apply(this,r)}}))}(this,e([this._method,this._url,this._start,this]))(),n.apply(this,r)}},wn=function(n){return function(e,t){if(n){var r=[];r.push(R(n,"open",_n)()),r.push(R(n,"setRequestHeader",En)()),r.push(R(n,"send",xn)(e)),t((function(){r.forEach((function(n){return n()}))}))}}},Sn=function(n,e){return function(t,r){void 0===r&&(r={});var o=e([t,r]),i=n(t,r);return i.then((function(n){o(n)}),(function(){o(void 0)})),i}},Rn=["fetch_0",function(n,e){var t=W();if(t&&fetch){var r=[];r.push(R(t,"fetch",Sn)(n)),e((function(){r.forEach((function(n){return n()}))}))}}],On=["resource"],In=["resource_0",function(n,e){var r=function(){if(W()&&d(window.PerformanceObserver))return window.PerformanceObserver}();if(r){var o=bn();e(function(n,e,r){var o=t(function(n,e,t){var r=n&&new n((function(n,r){n.getEntries?n.getEntries().forEach((function(n,t,o){return e(n,t,o,r)})):t&&t()}));return[function(e){if(!n||!r)return t&&t();try{r.observe({entryTypes:e})}catch(n){return t&&t()}},function(e,o){if(!n||!r)return t&&t();try{var i={type:e,buffered:!0};void 0!==o&&(i.durationThreshold=o),r.observe(i)}catch(n){return t&&t()}r.observe({type:e,buffered:!1})},function(){return r&&r.disconnect()}]}(n,e),3),i=o[0],u=o[2];return i(r),u}(r,(function(e){!o(e.name)&&n(e)}),On))}}],jn="pageview",Cn="session",Tn="js_error",An="http",Dn="custom",Pn="action",Nn={sampleRate:1,origins:[]},kn=function(){var n=window&&(window.crypto||window.msCrypto);if(void 0!==n&&n.getRandomValues){var e=new Uint16Array(8);n.getRandomValues(e);var t=function(n){for(var e=n.toString(16);e.length<4;)e="0"+e;return e};return t(e[0])+t(e[1])+t(e[2])+t(e[3])+t(e[4])+t(e[5])+t(e[6])+t(e[7])}return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,(function(){return(16*Math.random()|0).toString(16)}))},Ln=function(n){var e=pn(n,Nn);if(e&&A(e.sampleRate))return function(n,t){var r=e.origins;r.length&&x(r,n)&&t("traceparent","03-"+kn()+"-"+kn().substring(16)+"-01")}},qn=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|password)","i"),Mn=new RegExp("(bearer|session)","i"),Bn=function(n,e){return!n||!e||qn.test(n)||Mn.test(e)},Hn=function(n,t){try{if(t){var r=n.request.url;n.request.url=t(r),n.extra=e(e({},n.extra),{original_url:r})}}catch(n){}},Un=function(n,e,r){var o=t(e,2),i=o[0],a=o[1],c=r.setTraceHeader,f=r.ignoreUrls,s=r.setContextAtReq,l=r.extractUrl;n.push(i[0]((function(n){var e=t(n,4);e[0];var o=e[1];e[2];var i=e[3];if(!o)return u;var d=Z(o);if(x(f,d))return u;c&&c(d,(function(n,e){return i.setRequestHeader(n,e)}));var v=s(),p=void 0,h=a()[0]((function(n){d===n.name&&!p&&(p=n)}));return function(n){var e=zn(n,r);setTimeout((function(){p&&(e.response.timing=p),Hn(e,l),v&&v({ev_type:An,payload:e}),h()}),100)}})))},zn=function(n,e){var r,o=n._method,i=n._reqHeaders,u=n._url,a=n._start,c=n._data,f={api:"xhr",request:{url:Z(u),method:(o||"").toLowerCase(),headers:i&&(r=i,Object.keys(r).reduce((function(n,e){return!Bn(e,r[e])&&(n[e.toLowerCase()]=r[e]),n}),{})),timestamp:a},response:{status:n.status||0,is_custom_error:!1,timestamp:X()},duration:X()-a};"function"==typeof n.getAllResponseHeaders&&(f.response.headers=function(n){return p(n)&&n?n.split("\r\n").reduce((function(n,e){if(p(e)){var r=t(e.split(": "),2),o=r[0],i=r[1];!Bn(o,i)&&(n[o.toLowerCase()]=i)}return n}),{}):{}}(n.getAllResponseHeaders()));var s=f.response.status,l=e.collectBodyOnError,d=e.extraExtractor;try{var v=null==d?void 0:d(n.response,f,c);v&&(f.extra=v),v&&(f.response.is_custom_error=!0),l&&(v||s>=400)&&(f.request.body=c?""+c:void 0,f.response.body=n.response?""+n.response:void 0)}catch(n){}return f},Gn="ajax",Fn={autoWrap:!0,setContextAtReq:function(){return a},ignoreUrls:[],collectBodyOnError:!1},Xn=function(n,e,r){var o=t(e,2),i=o[0],a=o[1],c=r.setTraceHeader,f=r.ignoreUrls,s=r.setContextAtReq,l=r.extractUrl,d=window.Headers,v=window.Request;v&&d&&n.push(i[0]((function(n){var e=t(n,2),o=e[0],i=e[1],p=Z(o instanceof v?o.url:o);if(!Wn(p)||x(f,p))return u;c&&c(p,(function(n,e){return Jn(n,e,o,i,v,d)}));var h=s(),g=X(),m=void 0,y=a()[0]((function(n){p===n.name&&!m&&(m=n)}));return function(n){var e,t,u=Qn(o,i,n,v,d,r,g),a=(e=function(n){m&&(n.response.timing=m),Hn(n,l),h&&h({ev_type:An,payload:n}),y()},t=!1,function(n){t||(t=!0,e(n))});setTimeout((function(){a(u)}),1e3)}})))},Wn=function(n){if(!p(n))return!1;var e=t(n.split(":"),2),r=e[0];return!e[1]||"http"===r||"https"===r},Kn=function(n,e){return n instanceof e},Jn=function(n,t,r,o,i,u){var a;Kn(r,i)?r.headers.set(n,t):o.headers instanceof u?o.headers.set(n,t):o.headers=e(e({},o.headers),((a={})[n]=t,a))},Vn=function(n,e,t){var r=e&&e.method||"get";return Kn(n,t)&&(r=n.method||r),r.toLowerCase()},Yn=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];try{return e.reduce((function(e,t){return new n(t||{}).forEach((function(n,t){return!Bn(t,n)&&(e[t]=n)})),e}),{})}catch(n){return{}}},$n=function(n,e,t){return Kn(n,t)?n.body:null==e?void 0:e.body},Qn=function(n,e,t,r,o,i,a){var c={api:"fetch",request:{method:Vn(n,e,r),timestamp:a,url:Z(n instanceof r?n.url:n),headers:Yn(o,n.headers,e.headers)},response:{status:t&&t.status||0,is_custom_error:!1,timestamp:X()},duration:X()-a},f=i.collectBodyOnError,s=i.extraExtractor,l=function(){var t;f&&(c.request.body=null===(t=$n(n,e,r))||void 0===t?void 0:t.toString())};if(t)try{var d=Yn(o,t.headers);c.response.headers=d;try{-1!==(d["content-type"]||"").indexOf("application/json")&&s&&t.clone().json().then((function(t){var o,i=s(t,c,null===(o=$n(n,e,r))||void 0===o?void 0:o.toString());i&&(c.extra=i,c.response.is_custom_error=!0,l())})).catch(u)}catch(n){}t.status>=400&&l()}catch(n){}else l();return c},Zn="fetch",ne={autoWrap:!0,setContextAtReq:function(){return a},ignoreUrls:[],collectBodyOnError:!1},ee=["name","message","stack","filename","lineno","colno"],te=function(n){var e,t,r,o;return function(n){switch(Object.prototype.toString.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMError]":case"[object DOMException]":return!0;default:return n instanceof Error}}(n)?(r=ee,e=(t=n)&&c(t)?r.reduce((function(n,e){return n[e]=t[e],n}),{}):t):(s(n)||(o=n,"undefined"!=typeof Event&&function(n,e){try{return n instanceof e}catch(n){return!1}}(o,Event))||p(n))&&(e={message:w(n)}),e},re=function(n){return t=n,"[object ErrorEvent]"===Object.prototype.toString.call(t)?function(n){var e=te(n.error);if(!e)return e;var t=n.colno,r=n.lineno,o=n.filename;return t&&!e.colno&&(e.colno=String(t)),r&&!e.lineno&&(e.lineno=String(r)),o&&!e.filename&&(e.filename=o),e}(n):function(n){return"[object PromiseRejectionEvent]"===Object.prototype.toString.call(n)}(n)?function(n){var t;try{var r=void 0;if("reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason),r){var o=te(r);return e(e({},o),{name:null!==(t=o&&o.name)&&void 0!==t?t:"UnhandledRejection"})}}catch(n){}}(n):te(n);var t},oe="jsError",ie=function(n){return"hidden"===n.visibilityState},ue=["hidden_3",function(n,e){var t=K(),r=W();if(t&&r){var o=function(e){n("pagehide"===e.type||ie(t))},i=ln(t,"visibilitychange",o,!0),u=sn(r,"pagehide",o,!0);e((function(){i(),u()}),(function(n){n(ie(t))}))}}],ae=["unload_0",function(n,e){var r=W();if(r){var o=t(dn(n),1)[0],i=function(){o()},u=[];["unload","beforeunload","pagehide"].forEach((function(n){u.push(sn(r,n,i,!1))})),e((function(){u.forEach((function(n){return n()}))}))}}],ce=["hash_0",function(n,e){var t=W();if(t){var r=sn(t,"hashchange",(function(){return n(location.href)}),!0);e((function(){r()}))}}],fe=["history_0",function(n,e){var t=V(),r=W();if(t&&r){var o=[],i=function(){return n(location.href)},u=function(n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{n.apply(t,e)}finally{i()}}};o.push(S(t,"pushState",u)(),S(t,"replaceState",u)()),o.push(sn(r,"popstate",i,!0)),e((function(){o.forEach((function(n){return n()}))}))}}],se=function(n){return le(n,X())},le=function(n,e){return n+"_"+e},de=function(n){return function(e,t){n(function(n,e){return{ev_type:jn,payload:{pid:e,source:n}}}(e,t))}},ve=function(n){return"manual"===n},pe="error_weight",he="duration_apdex",ge="perf_apdex",me=function(n,e){var t=n[0]+n[1]+n[2],r=n[0]/t;return n[2]/t>e.frustrating_threshold?2:r>e.satisfying_threshold||0===t?0:1},ye=function(n,e){return function(t,r){var o=t.payload;switch(t.ev_type){case"performance":var i=o.name;o.isSupport&&n(r[ge],i,o.value);break;case Pn:n(r[ge],"action",o.duration||0);break;case Tn:e(r[pe],0);break;case An:if(o.response.is_custom_error||o.response.status>=400)e(r[pe],1);else{var u=o.response.timing;u&&n(r[he],0,u.duration)}break;case"resource_error":e(r[pe],2);break;case"blank_screen":e(r[pe],3);break;case"resource":n(r[he],1,o.duration);break;case"performance_longtask":o.longtasks.forEach((function(e){n(r[he],2,e.duration)}))}}},be=function(){var n,e,t=function(){n=[0,0,0],e=function(){var n;return(n={error_count:[0,0,0,0],duration_count:[0,0,0]})[ge]={},n}()};return t(),[function(t,r,o){var i=t&&t[r];if(i&&!(o<=0)){var u=o<(i[0].threshold||0)?0:o>(i[1].threshold||0)?2:1;if(n[u]+=i[u].weight,"string"==typeof r){var a=le(r,u),c=e[ge][a];e[ge][a]=(c||0)+1}else 2===u&&(e.duration_count[r]+=1)}},function(t,r){t&&(n[2]+=t[r],e.error_count[r]+=1)},function(){return[n,e]},t]},_e=function(n,e,r,o){var i,u,a=o.sendInit,c=o.initPid,f=o.routeMode,s=o.extractPid,l=o.onPidUpdate,d=ve(f)?function(){return""}:function(n){return function(e){var t;return"hash"===n?(null===(t=nn(e).hash)||void 0===t?void 0:t.replace(/^#/,""))||"/":nn(e).path}}(f),v=s||function(){},p=t(function(n,e,t,r){var o=t,i=e;return r&&r(e),[function(e,t,u){"user_set"!==e&&t!==o?(o=t,i=null!=u?u:o,r&&r(i),n(e,i)):"user_set"===e&&t!==i&&(i=t,r&&r(i),n(e,i))},function(){e&&n("init",e)}]}(de(n),c||function(n){var e;return null!==(e=v(n))&&void 0!==e?e:d(n)}(location.href),d(location.href),l),2),h=p[0],g=p[1];if(!ve(f)){var m=t((i=function(n,e){return h(n,d(e),v(e))},u="",[function(n,e){e!==u&&i(n,u=e)}]),1)[0];r.length&&r.forEach((function(n){return e.push(n[0]((function(n){return m(f,n)})))}))}return a&&g(),[h.bind(null,"user_set")]},Ee=function(n,e,r,o){var i,u,a,c=t(r,2),f=c[0],s=c[1],l=2===o.apdex,d=void 0,v=void 0,p=void 0,h=!1,g=t(be(),4),m=g[0],y=g[1],b=g[2],_=g[3],E=t(be(),4),x=E[0],w=E[1],S=E[2],R=E[3],O=t((i={start:X(),end:0,time_spent:0,is_bounced:!1,entry:"",exit:"",p_count:0,a_count:0},[function(n,e){var r=t(n,3),o=r[0],u=r[1],a=r[2];i.end=X(),i.time_spent+=e&&e.time_spent||0,i.last_page=e,i.p_count+=1,i.rank=o,i.apdex=u,i.apdex_detail=a;var c=K();c&&(i.is_bounced=!function(n){return"complete"===n.readyState}(c))},function(n,e){i.time_spent+=n.time_spent,i.p_count+=1,i.exit=e},function(){i.a_count+=1},function(n){i.entry=n,i.exit=n},function(){return i}]),5),I=O[0],j=O[1],C=O[2],T=O[3],A=O[4],D=t((u=0,a=void 0,[function(n){if(n){if(!a)return;u+=X()-a,a=void 0}else a=X()},function(){a&&(u+=X()-a);var n=u;return u=0,a=X(),n}]),2),P=D[0],N=D[1];e.push(f[0](P)),!l&&e.push(s[0]((function(){if(h){var e=t(S(),2),r=e[0],o=e[1],i=me(r,p);I([i,r,o],q()),n({ev_type:Cn,payload:A()}),R()}})));var k=ye(m,y),L=ye(x,w),q=function(){var n=t(b(),2),e=n[0],r=n[1];return{start:d[0],pid:d[1],view_id:d[2],end:X(),time_spent:N(),apdex:e,rank:me(e,p),detail:r}};return e.push((function(){h=!1})),[function(n,e){if(!d)return d=[X(),n,e],T(n),void(h=!(!p||!d));h&&(v=q(),j(v,n)),d=[X(),n,e],_()},function(n){h&&(l||(L(n,p),n.ev_type===Pn&&C()),n.common.pid===d[1]&&k(n,p))},function(e){h&&(e.payload.last=v),n(e)},function(n){if(!n)return e.forEach((function(n){return n()})),void(e.length=0);h=!(!(p=n)||!d)}]},xe="pageview",we={sendInit:!0,routeMode:"history",apdex:2},Se=function(n){n.provide("sendEvent",(function(e){var t=function(n){if(n&&c(n)&&n.name&&p(n.name)){var e={name:n.name,type:"event"};if("metrics"in n&&c(n.metrics)){var t=n.metrics,r={};for(var o in t)v(t[o])&&(r[o]=t[o]);e.metrics=r}if("categories"in n&&c(n.categories)){var i=n.categories,u={};for(var o in i)u[o]=w(i[o]);e.categories=u}return"attached_log"in n&&p(n.attached_log)&&(e.attached_log=n.attached_log),e}}(e);t&&n.report({ev_type:Dn,payload:t,extra:{timestamp:X()}})})),n.provide("sendLog",(function(e){var t=function(n){if(n&&c(n)&&n.content&&p(n.content)){var e={content:w(n.content),type:"log",level:"info"};if("level"in n&&(e.level=n.level),"extra"in n&&c(n.extra)){var t=n.extra,r={},o={};for(var i in t)v(t[i])?r[i]=t[i]:o[i]=w(t[i]);e.metrics=r,e.categories=o}return"attached_log"in n&&p(n.attached_log)&&(e.attached_log=n.attached_log),e}}(e);t&&n.report({ev_type:Dn,payload:t,extra:{timestamp:X()}})}))};function Re(n){return(null==n?void 0:n.effectiveType)||(null==n?void 0:n.type)||""}var Oe=function(n,e){var t=n.common||{};return t.sample_rate=e,n.common=t,n},Ie=function(n,e,t,r,o){return n?(i=o(r,e),function(){return i}):function(){return t(e)};var i},je=function(n,e,t,r){var o=_(n,e,(function(n,e){return n[e]}));return void 0!==o&&function(n,e,t){switch(t){case"eq":return y(e,n);case"neq":return!y(e,n);case"gt":return n>e[0];case"gte":return n>=e[0];case"lt":return n<e[0];case"lte":return n<=e[0];case"regex":return Boolean(n.match(new RegExp(e.join("|"))));case"not_regex":return!n.match(new RegExp(e.join("|")));default:return!1}}(o,function(n,e){return n.map((function(n){switch(e){case"number":return Number(n);case"boolean":return"1"===n;default:return String(n)}}))}(r,"boolean"==typeof o?"bool":v(o)?"number":"string"),t)},Ce=function(n,e){try{return"rule"===e.type?je(n,e.field,e.op,e.values):"and"===e.type?e.children.every((function(e){return Ce(n,e)})):e.children.some((function(e){return Ce(n,e)}))}catch(n){return an(n),!1}},Te=function(n,e,t,r,o){if(!e)return a;var i=e.sample_rate,u=e.include_users,c=e.sample_granularity,f=e.rules,s=e.r,l=void 0===s?Math.random():s;if(y(u,n))return function(n){return Oe(n,1)};var d="session"===c,v=Ie(d,i,t,l,r),p=function(n,e,t,r,o,i){var u={};return Object.keys(n).forEach((function(a){var c=n[a],f=c.enable,s=c.sample_rate,l=c.conditional_sample_rules;f?(u[a]={enable:f,sample_rate:s,effectiveSampleRate:s*t,hit:Ie(e,s,r,o,i)},l&&(u[a].conditional_hit_rules=l.map((function(n){var u=n.sample_rate,a=n.filter;return{sample_rate:u,hit:Ie(e,u,r,o,i),effectiveSampleRate:u*t,filter:a}})))):u[a]={enable:f,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}})),u}(f,d,i,t,l,r);return function(n){var e;if(!v())return d&&o[0](),!1;if(!(n.ev_type in p))return Oe(n,i);if(!p[n.ev_type].enable)return d&&o[1](n.ev_type),!1;if(null===(e=n.common)||void 0===e?void 0:e.sample_rate)return n;var t=p[n.ev_type],r=t.conditional_hit_rules;if(r)for(var u=0;u<r.length;u++)if(Ce(n,r[u].filter))return!!r[u].hit()&&Oe(n,r[u].effectiveSampleRate);return t.hit()?Oe(n,t.effectiveSampleRate):((!r||!r.length)&&d&&o[1](n.ev_type),!1)}},Ae=function(n,e,t){var r=e.url,o=e.data,i=e.success,a=void 0===i?u:i,c=e.fail,f=void 0===c?u:c,s=e.getResponseText,l=void 0===s?u:s,d=e.withCredentials,v=void 0!==d&&d,p=new t;p.withCredentials=v,p.open(n,r,!0),p.setRequestHeader("Content-Type","application/json"),p.onload=function(){null==l||l(this.responseText);try{if(this.status>=400)f(new Error(this.responseText||this.statusText));else if(this.responseText){var n=JSON.parse(this.responseText);a(n)}else a({})}catch(n){f(n)}},p.onerror=function(){f(new Error("Network request failed"))},p.onabort=function(){f(new Error("Network request aborted"))},p.send(o)},De=function(){var n=Y();return n?{useBeacon:!0,get:function(e){Ae("GET",e,n)},post:function(e){Ae("POST",e,n)}}:{get:u,post:u}};function Pe(n){var e=function(n){var e,t=n.transport,r=n.endpoint,i=n.size,u=void 0===i?10:i,a=n.wait,c=void 0===a?1e3:a,f=[],s=0;function l(){if(f.length){var n=this.getBatchData();t.post({url:r,data:n,fail:function(t){e&&e(t,n)}}),f=[]}}return{getSize:function(){return u},getWait:function(){return c},setSize:function(n){u=n},setWait:function(n){c=n},getEndpoint:function(){return r},setEndpoint:function(n){r=n},send:function(n){f.push(n),f.length>=u&&l.call(this),clearTimeout(s),s=setTimeout(l.bind(this),c)},flush:function(){clearTimeout(s),l.call(this)},getBatchData:function(){return f.length?o(f):""},clear:function(){clearTimeout(s),f=[]},fail:function(n){e=n}}}(n),r=e.send;return function(n){var e=W();if(e){var r=t(dn(n),1)[0];["unload","beforeunload","pagehide"].forEach((function(n){sn(e,n,r,!1)}))}}((function(){if(n.transport.useBeacon){var t=function(){var n=W();return n&&n.navigator.sendBeacon?{get:function(){},post:function(e,t){n.navigator.sendBeacon(e,t)}}:{get:u,post:u}}(),i=e.getBatchData();i&&(t.post(e.getEndpoint(),i),e.clear()),e.send=function(n){t.post(e.getEndpoint(),o([n]))},function(n){var e=K(),t=W();if(e&&t){var r=u;r=ln(e,"visibilitychange",(function(){"visible"===e.visibilityState&&(n(),r())}),!0)}}((function(){e.send=r}))}else e.flush()})),e}var Ne="mon-va.byteoversea.com",ke=Ne,Le="https://sf16-short-sg.bytedapm.com/slardar/fe/sdk-web/plugins",qe="1.14.1",Me="SDK_SLARDAR_WEB",Be="/monitor_web/settings/browser-settings",He="/monitor_browser/collect/batch/",Ue="SLARDAR",ze=["/log/sentry/",He,Be],Ge="session",Fe=["blankScreen","action"],Xe={sample_rate:1,include_users:[],sample_granularity:Ge,rules:{}};function We(n,e,t){void 0===t&&(t=Ye),function(n){var e=W(),t=K();e&&t&&("complete"!==t.readyState?sn(e,"load",(function(){setTimeout((function(){n()}),0)}),!1):n())}((function(){n.on("init",(function(){t(n,e)}))}))}var Ke=function(n,e,t,r){void 0===r&&(r=$e);var o=e.config(),i=o.plugins,u=o.pluginBundle,a=n.filter((function(n){return i[n]&&!e.destroyAgent.has(n)})),c=function(){return a.forEach((function(n){return Qe(e,n,t)}))};a.every((function(n){return nt(n,t)}))?c():r(e,{name:u.name},c)},Je=function(n,e,t,r){void 0===r&&(r=$e);var o=e.config().plugins;n.filter((function(n){return o[n]&&!e.destroyAgent.has(n)})).forEach((function(n){nt(n,t)?Qe(e,n,t):r(e,{name:n,config:o[n]},(function(){return Qe(e,n,t)}))}))},Ve=function(n){return function(t,r){var o,i=n.config().pluginBundle;n.destroyAgent.has(t)&&n.destroyAgent.remove(t),void 0!==r&&n.set({plugins:e(e({},n.config().plugins),(o={},o[t]=r,o))}),i&&~i.plugins.indexOf(t)?Ke([t],n):Je([t],n)}};function Ye(n,e,t){void 0===t&&(t=$e);var r=n.config().pluginBundle,o=r?r.plugins:[];Ke(o,n,e,t),Je(Fe,n,e,t),n.provide("reloadPlugin",Ve(n))}function $e(n,e,t,r){var o=e.name,i=e.config;void 0===r&&(r=vn);var u=function(n,e,t){var r;return null!==(r=null==t?void 0:t.path)&&void 0!==r?r:n.config().pluginPathPrefix+"/"+(e.replace(/([a-z])([A-Z])/g,(function(n,e,t){return e+"-"+t.toLowerCase()}))+".")+qe+".js"}(n,o,i);r(u,(function(){t()}))}function Qe(n,e,t){if(void 0===t&&(t=un(W())),t){var r=Ze(t,e);if(r)try{if(n.destroyAgent.has(e))return;r.apply(n)}catch(n){an(n),T("[loader].applyPlugin failed",e,n)}else T("[loader].applyPlugin not found",e)}}function Ze(n,e){return n.plugins.filter((function(n){return n.name===e&&n.version===qe}))[0]}function nt(n,e){return void 0===e&&(e=un(W())),!(!e||!e.plugins||!Ze(e,n))}function et(n,e,t){void 0===t&&(t=un(W())),t&&t.plugins&&(Ze(t,n)||t.plugins.push({name:n,version:qe,apply:e}))}function tt(n){var e,t;try{for(var r=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(["userId","deviceId","sessionId","env"]),o=r.next();!o.done;o=r.next()){var i=o.value;n[i]||delete n[i]}}catch(n){e={error:n}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n}function rt(n){var t=n.plugins||{};for(var r in t)t[r]&&!c(t[r])&&(t[r]={});return tt(e(e({},n),{plugins:t}))}function ot(n){return c(n)&&"bid"in n}function it(n){return tt(e({},n))}function ut(n){var e;if(!n)return{};var t=n.sample,r=n.plugins,o=n.timestamp,i=n.quota_rate,u=void 0===i?1:i,a=n.apdex;if(!t)return{};var c=t.sample_rate,f=t.sample_granularity,s=void 0===f?Ge:f,l=t.include_users,d=t.rules;return{sample:{include_users:l,sample_rate:c*u,sample_granularity:s,rules:(void 0===d?[]:d).reduce((function(n,e){var t=e.name,r=e.enable,o=e.sample_rate,i=e.conditional_sample_rules;return n[t]={enable:r,sample_rate:o,conditional_sample_rules:i},n}),{})},plugins:{heatmap:null!==(e=null==r?void 0:r.heatmap)&&void 0!==e&&e},apdex:a,serverTimestamp:o}}var at=function(n,e){return void 0===e&&(e=He),(n&&n.indexOf("//")>=0?"":"https://")+n+e},ct=function(n,e){return void 0===e&&(e=Be),(n&&n.indexOf("//")>=0?"":"https://")+n+e},ft=function(){return N()},st=function(n){var e=[];return n.observe=function(n){e.push(n)},n.push=function(){for(var o,i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];return i.forEach((function(n){e.forEach((function(e){return e(n)}))})),(o=[].push).call.apply(o,r([n],t(i),!1))},n},lt=function(){var n,e,t,r=W(),o=K();if(r&&o)return(null===(t=null===(e=null===(n=Q())||void 0===n?void 0:n.getAttribute("src"))||void 0===e?void 0:e.match(/globalName=(.+)$/))||void 0===t?void 0:t[1])||"Slardar"},dt=function(n){return Ue+n},vt=function(n,e){try{var t=localStorage.getItem(n);if(!t||!hn()||"{"!==t[0])return;mn(n,JSON.parse(t),e)}catch(n){}},pt=function(n,e){void 0===n&&(n="");var t={userId:N(),deviceId:N()};if(e<=0)return t;var r=dt(n);vt(r,e);var o=gn(r);return{userId:(null==o?void 0:o.userId)||t.userId,deviceId:(null==o?void 0:o.deviceId)||t.deviceId}},ht=function(n){var e=n.bid,t=n.userId,r=n.deviceId,o=n.storageExpires,i=dt(e);mn(i,{userId:t,deviceId:r},yn(o))},gt={get:function(){return this.__SLARDAR__REPALCE__HOLDER__}},mt=function(n){var t,r,o=n,i={},a=gt.get(),c=u,f=u;return{getConfig:function(){return o},setConfig:function(n){return i=e(e({},i),n||{}),s(),t||(t=n,o.useLocalConfig||!o.bid?(r={},c()):a?l():yt(o.transport,o.domain,o.bid,(function(n){a=n,l()}))),o},onChange:function(n){f=n},onReady:function(n){c=function(){ht(o),n()},r&&c()}};function s(){var t=e(e(e({},n),r||{}),i);t.plugins=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t={},r=0;r<n.length;)t=g(t,n[r++]);return t}(n.plugins,(null==r?void 0:r.plugins)||{},i.plugins||{}),t.sample=bt(bt(n.sample,null==r?void 0:r.sample),i.sample),o=t,f()}function l(){r=ut(a),s(),c()}};function yt(n,e,t,r){n.get({withCredentials:!0,url:ct(e)+"?bid="+t+"&store=1",success:function(n){r(n.data||{})},fail:function(){r({sample:{sample_rate:.001}})}})}function bt(n,o){if(!n||!o)return n||o;var i=e(e({},n),o);return i.include_users=r(r([],t(n.include_users||[]),!1),t(o.include_users||[]),!1),i.rules=r(r([],t(Object.keys(n.rules||{})),!1),t(Object.keys(o.rules||{})),!1).reduce((function(i,u){var a,c;return u in i||(u in(n.rules||{})&&u in(o.rules||{})?(i[u]=e(e({},n.rules[u]),o.rules[u]),i[u].conditional_sample_rules=r(r([],t(n.rules[u].conditional_sample_rules||[]),!1),t(o.rules[u].conditional_sample_rules||[]),!1)):i[u]=(null===(a=n.rules)||void 0===a?void 0:a[u])||(null===(c=o.rules)||void 0===c?void 0:c[u])),i}),{}),i}var _t,Et={build:function(n){return{ev_type:n.ev_type,payload:n.payload,common:e(e({},n.extra||{}),n.overrides||{})}}},xt=function(n,t){var r=t||{},o=r.pid,i=void 0===o?"":o,u=r.viewId,a=void 0===u?"":u,c={url:en(),timestamp:X(),sdk_version:qe,sdk_name:Me,pid:i,view_id:a};return e(e({},n),{extra:e(e({},c),n.extra||{})})},wt=function(n){n.on("report",(function(e){return xt(e,n.config())}))},St={sri:"reportSri",st:"reportResourceError",err:"captureException",reject:"captureException"},Rt=function(n){return Object.keys(n).reduce((function(n,e){return n[e]=[],n}),{})},Ot=function(n){return Object.keys(n).reduce((function(e,t){return e[n[t]]?e[n[t]].push(t):e[n[t]]=[t],e}),{})},It=function(n,t,r){return function(o,i,u,a){var c;void 0===u&&(u=X()),void 0===a&&(a=location.href);var f=e(e({},cn(n)),{url:a,timestamp:u});t[o]&&(n[r[o]]?fn(n,f)((function(){n[r[o]](i)})):null===(c=t[o])||void 0===c||c.push([i,f]))}},jt=function(n,e,r){return function(o){o in r&&r[o].forEach((function(r){var i;null===(i=e[r])||void 0===i||i.forEach((function(e){var r=t(e,2),i=r[0],u=r[1];fn(n,u)((function(){n[o](i)}))})),e[r]=null}))}},Ct=function(n,e){return"err"===e?!1!==_(n,"plugins."+oe+".onerror",(function(n,e){return n[e]})):"reject"!==e||!1!==_(n,"plugins."+oe+".onunhandledrejection",(function(n,e){return n[e]}))},Tt=function(n,e){var r;void 0===e&&(e=St);var o=Rt(e),i=Ot(e),u=It(n,o,e);(null===(r=n.p)||void 0===r?void 0:r.a)&&"observe"in n.p.a&&n.p.a.observe((function(e){var r=t(e,5);r[0];var o=r[1],i=r[2],a=r[3],c=r[4],f=n.config();Ct(f,o)&&u(o,i,a,c)})),n.on("init",(function(){var e,r=n.config();null===(e=n.p)||void 0===e||e.a.forEach((function(n){var e=t(n,5);e[0];var o=e[1],i=e[2],a=e[3],c=e[4];Ct(r,o)&&u(o,i,a,c)})),n.p&&n.p.a&&(n.p.a.length=0),n.provide("precollect",(function(n,e,t,o){void 0===t&&(t=X()),void 0===o&&(o=location.href),Ct(r,n)&&u(n,e,t,o)}))})),n.on("provide",jt(n,o,i))},At=function(n){var e=t(n,2),r=e[0],o=e[1];return{ev_type:Tn,payload:{error:re(r),breadcrumbs:[],extra:o||{}},extra:{bid:"slardar_sdk"}}},Dt=function(n,e){void 0===e&&(e=.001);var t=un(W());t&&(t.errors||(t.errors=[]),"observe"in t.errors||A(e)&&(t.errors=st(t.errors),t.errors.forEach((function(e){n.report(At(e))})),t.errors.observe((function(e){n.report(At(e))}))))},Pt=function(n){var t,r=!1;n.on("init",(function(){t=(new Date).getTime(),n.on("config",(function(){var o,i=null===(o=n.config())||void 0===o?void 0:o.serverTimestamp;if(!(isNaN(i)||Number(i)<=0||r)){r=!0;var u=(new Date).getTime();if(u-t<700&&i){var a=i-(u+t)/2;!isNaN(a)&&(a>0||a<-6e5)&&n.on("beforeBuild",(function(n){var t;return e(e({},n),{extra:e(e({},null!==(t=n.extra)&&void 0!==t?t:{}),{sdk_offset:null!=a?a:0})})}))}}}))}))},Nt=function(n,t){var r={};return r.bid=t.bid,r.user_id=t.userId,r.device_id=t.deviceId,r.session_id=t.sessionId,r.release=t.release,r.env=t.env,e(e({},n),{extra:e(e({},r),n.extra||{})})},kt=function(n){n.on("beforeBuild",(function(e){return Nt(e,n.config())}))},Lt=function(n){n.on("start",(function(){var e=n.config().bid,t=n.getSender();t.setEndpoint(t.getEndpoint()+"?biz_id="+e)}))},qt=function(n){var e=yn(n.storageExpires),t=pt(n.bid,e);return{bid:"",pid:"",viewId:se("_"),userId:t.userId,deviceId:t.deviceId,storageExpires:e,sessionId:ft(),domain:Ne,pluginBundle:{name:"commonMonitors",plugins:["breadcrumb","jsError","performance","resourceError","resource"]},pluginPathPrefix:Le,plugins:{ajax:{ignoreUrls:ze},fetch:{ignoreUrls:ze},breadcrumb:{},pageview:{},jsError:{},resource:{},resourceError:{},performance:{},tti:{},fmp:{},blankScreen:!1,heatmap:!1},release:"",env:"production",sample:Xe,transport:De()}},Mt=function(n){var o=void 0===n?{}:n,i=o.createSender,u=void 0===i?function(n){return Pe({size:20,endpoint:at(n.domain),transport:n.transport})}:i,a=o.builder,c=void 0===a?Et:a,f=o.createDefaultConfig,s=H({validateInitConfig:ot,initConfigNormalizer:rt,userConfigNormalizer:it,createSender:u,builder:c,createDefaultConfig:void 0===f?qt:f,createConfigManager:mt});Dt(s),U(s);var l=un(W());!function(n,e){var r=e||{},o={};n.provide("setFilter",(function(n,e){o[n]||(o[n]=[]),o[n].push(e)})),n.provide("initSubject",(function(e){var i=t(e,2),u=i[0],a=i[1],c=function(n){return n.split("_")[0]}(u),f=!!c&&o[c];return r[u]||(r[u]=q(a,(function(){r[u]=void 0}))),f?F(n,[u,M(r[u],f)]):r[u]})),n.provide("getSubject",(function(n){return r[n]})),n.provide("privateSubject",{})}(s,l&&l.subject),Pt(s),kt(s),wt(s),function(n){var t=$(),r=Re(t);t&&(t.onchange=function(){r=Re(t)}),n.on("report",(function(n){return e(e({},n),{extra:e(e({},n.extra||{}),{network_type:r})})}))}(s),Lt(s);var d=z(s,cn,(function(n,e,o){return fn(n,e)((function(){var n=t(o),e=n[0],i=n.slice(1);s[e].apply(s,r([],t(i),!1))}))}));return function(n,e){n.on("init",(function(){var t=[],r=function(r){r.forEach((function(r){var o=r.name;y(t,o)||(t.push(o),r.setup(n),e(o,r.setup),n.destroyAgent.set(o,o,[function(){t=b(t,o),r.tearDown&&r.tearDown()}]))}))};n.provide("applyIntegrations",r);var o=n.config();o&&o.integrations&&r(o.integrations)}))}(d,et),d},Bt=((_t={})[xe]=function(n){n.on("init",(function(){var r,o=null===(r=n.config())||void 0===r?void 0:r.plugins[xe];!function(n,r){var o,i=pn(r,we);if(i&&J()){var a=i.routeMode,c=i.apdex,f=n.report.bind(n),s=u;if(c){var l=[],d=t(Ee(n.report.bind(n),l,[G(n,ue),G(n,ae)],i),4),v=d[0],p=d[1],h=d[2],g=d[3];f=h,s=v,n.on("send",p),l.push((function(){return n.off("send",p)})),n.on("start",(function(){g(n.config().apdex)})),B(n,xe,Cn,l)}var m=[],y=t(_e(f,m,ve(a)?[]:[n.initSubject(ce),n.initSubject(fe)],e(e({},i),{initPid:null===(o=n.config())||void 0===o?void 0:o.pid,onPidUpdate:function(e){var t=se(e);s(e,t),n.set({pid:e,viewId:t,actionId:void 0})}})),1)[0];F(n,["f_view_0",on(n)],-1);var b=function(){y(n.config().pid)};n.on("config",b),m.push((function(){return n.off("config",b)})),B(n,xe,jn,m),n.provide("sendPageview",y)}}(n,o)}))},_t[Gn]=function(n){n.on("init",(function(){var t,r=null===(t=n.config())||void 0===t?void 0:t.plugins[Gn];!function(n,t){var r=pn(t,Fn);if(r){var o=[],i=e(e({},r),{setContextAtReq:function(){return rn(n)},setTraceHeader:Ln(r.trace)}),u=function(){return G(n,In)};i.autoWrap&&Un(o,[G(n,["xhr_0",wn(XMLHttpRequest&&XMLHttpRequest.prototype)]),u],i),B(n,Gn,An,o),n.provide("wrapXhr",(function(n){function e(){var e=new n;return Un(o,[q(wn(e)),u],i),e}return e.prototype=new n,["DONE","HEADERS_RECIEVED","LOADING","OPENED","UNSENT"].forEach((function(t){e[t]=n[t]})),e}))}}(n,r)}))},_t[Zn]=function(n){n.on("init",(function(){var t,r=null===(t=n.config())||void 0===t?void 0:t.plugins[Zn];!function(n,t){var r=pn(t,ne);if(r){var o=[],i=e(e({},r),{setContextAtReq:function(){return rn(n)},setTraceHeader:Ln(r.trace)}),u=function(){return G(n,In)};i.autoWrap&&Xn(o,[G(n,Rn),u],i),B(n,Zn,An,o),n.provide("wrapFetch",(function(n){var e=void 0;return Xn(o,[q((function(t){e=Sn(n,t)})),u],i),e}))}}(n,r)}))},_t),Ht=function(n){void 0===n&&(n={});var e=Mt(n);return function(n){n.on("start",(function(){var e=n.config(),t=e.userId,r=e.sample,o=Te(t,r,A,D,[function(){n.destroy()},function(e){n.destroyAgent.removeByEvType(e)}]);n.on("build",o)}))}(e),Tt(e),Se(e),Object.keys(Bt).forEach((function(n){et(n,Bt[n]),Bt[n](e)})),We(e),e.provide("create",Ht),e},Ut="precollect",zt=3e5,Gt=Ht(),Ft=W();Ft&&function(n,e){if("addEventListener"in n){e.pcErr=function(t){var r=(t=t||n.event).target||t.srcElement||{};r instanceof Element||r instanceof HTMLElement?e(Ut,"st",{tagName:r.tagName,url:r.getAttribute("href")||r.getAttribute("src")}):e(Ut,"err",t.error)},e.pcRej=function(t){t=t||n.event,e(Ut,"reject",t.reason||t.detail&&t.detail.reason)};var t=[];t.push(sn(n,"error",e.pcErr,!0)),t.push(sn(n,"unhandledrejection",e.pcRej,!0)),setTimeout((function(){t.forEach((function(n){return n()}))}),zt)}"PerformanceObserver"in n&&"PerformanceLongTaskTiming"in n&&(e.pp={entries:[]},e.pp.observer=new PerformanceObserver((function(n){e.pp.entries=e.pp.entries.concat(n.getEntries())})),e.pp.observer.observe({entryTypes:["longtask"]}),setTimeout((function(){e.pp.observer.disconnect()}),zt))}(Ft,Gt),n.BATCH_REPORT_PATH=He,n.DEFAULT_IGNORE_PATHS=ze,n.DEFAULT_SAMPLE_CONFIG=Xe,n.DEFAULT_SAMPLE_GRANULARITY=Ge,n.DEFAULT_SENDER_SIZE=20,n.DEVICE_ID_COOKIE_NAME="MONITOR_DEVICE_ID",n.EV_METHOD_MAP=St,n.EXTRA_INDEPENDENT_PLUGINS=Fe,n.InjectConfigPlugin=kt,n.InjectEnvPlugin=wt,n.InjectQueryPlugin=Lt,n.ObserveErrorPlugin=Dt,n.PLUGINS_LOAD_PREFIX=Le,n.PluginMap=Bt,n.PrecollectPlugin=Tt,n.REPORT_DOMAIN=Ne,n.SDK_NAME=Me,n.SDK_VERSION=qe,n.SETTINGS_DOMAIN=ke,n.SETTINGS_PATH=Be,n.STORAGE_PREFIX=Ue,n.TimeCalibrationPlugin=Pt,n.USER_ID_COOKIE_NAME="MONITOR_WEB_ID",n.addConfigToReportEvent=Nt,n.addEnvToSendEvent=xt,n.applyPlugin=Qe,n.browserBuilder=Et,n.buildSelfErrorEvent=At,n.configHolder=gt,n.createBrowserClient=Ht,n.createBrowserConfigManager=mt,n.createMinimalBrowserClient=Mt,n.createStore=Rt,n.default=Gt,n.doesPluginExistInRegistry=nt,n.filterIfPluginDisabled=Ct,n.getConsumeStored=jt,n.getDefaultConfig=qt,n.getDefaultSessionId=ft,n.getDefaultUserIdAndDeviceId=pt,n.getGlobalInstance=function(){var n=W(),e=lt();if(n&&e)return n[e]},n.getGlobalName=lt,n.getPluginFromRegistry=Ze,n.getReportUrl=at,n.getServerConfig=yt,n.getSettingsUrl=ct,n.getStorageKey=dt,n.getStoreOrConsume=It,n.glueCodeForStorageSecurity=vt,n.hasSetStorageItem=function(n){void 0===n&&(n="");var e=dt(n);return!!gn(e)},n.loadCombinedPlugins=Ke,n.loadIndependentPlugins=Je,n.loadNow=$e,n.loadPlugins=Ye,n.loadPluginsOnPageLoad=We,n.mergeSampleConfig=bt,n.normalizeInitConfig=rt,n.normalizeStrictFields=tt,n.normalizeUserConfig=it,n.parseServerConfig=ut,n.register=et,n.reverseMap=Ot,n.setStorageUserIdAndDeviceId=ht,n.toObservableArray=st,n.validateInitConfig=ot}(Tt)),Tt);function Dt(t,r,o=e.getDefaultRegion()){const i=(()=>{switch(o){case e.Region.CN:return Et();case e.Region.US:return Ct.createBrowserClient();case e.Region.SG:return At.createBrowserClient();default:return Et()}})();if(r)for(const[n,e]of Object.entries(r))i.context?.set(n,e);const{bid:u}=n({region:o});return i.init({bid:u,...t}),i.start(),i}function Pt(n,o,i){const{extension_version:u}=o||{},a=e.getEnviromentVariables();return Dt({release:u,env:t(a),userId:r(a),plugins:{},...n},{...e.getDefaultContext(),...o},i)}export{Pt as createDefaultSlardarClient,Dt as createSlardarClient};
