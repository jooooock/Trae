"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.injectNativeEnv = exports.initGlobalContext = void 0;
const types_1 = require("./types");
async function initGlobalContext(options) {
    const { getContext, tea, slardar } = options;
    if (getContext) {
        const context = await getContext();
        for (const [key, value] of Object.entries(context)) {
            slardar.context?.set(key, value);
            tea.config({ custom: { [key]: value } });
        }
    }
}
exports.initGlobalContext = initGlobalContext;
function injectNativeEnv() {
    if (process.env.VSCODE_RUN_IN_ELECTRON) {
        process.env.CLOUDIDE_PROVIDER_REGION = types_1.RegionMap[(process.env.APP_REGION || types_1.Region.CN)];
        process.env.CLOUDIDE_APISERVER_BASE_URL = types_1.ApiServerMap[(process.env.APP_REGION || types_1.Region.CN)];
        // process.env.CLOUDIDE_TENANT_NAME = 'bytedance';
    }
}
exports.injectNativeEnv = injectNativeEnv;
