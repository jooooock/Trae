"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.createRequestInstance = exports.defaultAxiosConfig = void 0;
const axios_1 = __importDefault(require("axios"));
exports.defaultAxiosConfig = {
    proxy: false,
};
function createRequestInstance(config) {
    const { axiosConfig, interceptors } = config || {};
    const instance = axios_1.default.create({ ...exports.defaultAxiosConfig, ...axiosConfig });
    if (interceptors?.request && interceptors?.request.length > 0) {
        interceptors.request.forEach(interceptor => {
            if (interceptor.onRejected) {
                return instance.interceptors.request.use(interceptor.onFullfilled, interceptor.onRejected);
            }
            else {
                return instance.interceptors.request.use(interceptor.onFullfilled);
            }
        });
    }
    if (interceptors?.response && interceptors?.response.length > 0) {
        interceptors.response.forEach(interceptor => {
            if (interceptor.onRejected) {
                return instance.interceptors.response.use(interceptor.onFullfilled, interceptor.onRejected);
            }
            else {
                return instance.interceptors.response.use(interceptor.onFullfilled);
            }
        });
    }
    return instance;
}
exports.createRequestInstance = createRequestInstance;
