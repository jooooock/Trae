'use strict';

var systemInformation = require('systeminformation');
var os = require('os');
var Registry = require('winreg');
var crypto = require('crypto');
var util = require('util');
var child_process = require('child_process');
var fs = require('fs/promises');
var zlib = require('zlib');
var JSONBig = require('json-bigint');
var fetch = require('node-fetch');

function memoize(func) {
    let cache = null;
    return function () {
        if (cache === null) {
            cache = func();
        }
        return cache;
    };
}

async function getDiskSerial() {
    const disks = await systemInformation.diskLayout();
    if (disks.length > 0) {
        return disks[0].serialNum.toUpperCase().replace(/ /g, '_');
    }
    return '';
}
const memoizedGetDiskSerial = memoize(getDiskSerial);

async function getGraphicResolution() {
    const graphics = await systemInformation.graphics();
    if (graphics.displays?.length > 0) {
        // 注意这里与原版 C SDK 行为不一致，C SDK 使用了缩放后的分辨率，我们取实际分辨率
        const x = graphics.displays[0]?.resolutionX || 0;
        const y = graphics.displays[0]?.resolutionY || 0;
        return `${x}x${y}`;
    }
    return '0x0';
}
const memoizedGetGraphicResolution = memoize(getGraphicResolution);

var DrPlatform;
(function (DrPlatform) {
    DrPlatform[DrPlatform["UNKNOWN"] = 0] = "UNKNOWN";
    DrPlatform[DrPlatform["MAC"] = 1] = "MAC";
    DrPlatform[DrPlatform["WIN"] = 2] = "WIN";
    DrPlatform[DrPlatform["LINUX"] = 3] = "LINUX";
})(DrPlatform || (DrPlatform = {}));
const DR_TARGET_PLATFORM = (() => {
    if (typeof process === 'undefined') {
        return DrPlatform.UNKNOWN;
    }
    switch (process.platform) {
        case 'win32':
            return DrPlatform.WIN;
        case 'darwin':
            return DrPlatform.MAC;
        case 'linux':
        case 'freebsd':
        case 'openbsd':
        case 'netbsd':
        case 'freebsd':
        case 'aix':
            return DrPlatform.LINUX;
        default:
            return DrPlatform.UNKNOWN;
    }
})();
const OS_NAME = (() => {
    switch (DR_TARGET_PLATFORM) {
        case DrPlatform.WIN:
            return 'Windows';
        case DrPlatform.MAC:
            return 'MacOS';
        case DrPlatform.LINUX:
            return 'Linux';
        default:
            return '';
    }
})();
const DEVICE_PLATFORM = (() => {
    switch (DR_TARGET_PLATFORM) {
        case DrPlatform.WIN:
            return 'PC';
        case DrPlatform.MAC:
            return 'MacOS';
        case DrPlatform.LINUX:
            return 'PC';
        default:
            return '';
    }
})();

const AES_BLOCK_SIZE = 16;
var KeySize;
(function (KeySize) {
    KeySize[KeySize["AES128"] = 16] = "AES128";
    KeySize[KeySize["AES192"] = 14] = "AES192";
    KeySize[KeySize["AES256"] = 32] = "AES256";
})(KeySize || (KeySize = {}));

const AES_CBC_IV_SIZE = AES_BLOCK_SIZE;

const SHA512_HASH_SIZE = 64;
function sha512Calculate(buffer) {
    const hash = crypto.createHash('sha512');
    hash.update(buffer);
    return Uint8Array.from(hash.digest());
}

const KEY_SEED_SIZE = 32;
const KEY_SALT_SIZE = 64;
const APP_HEAD_SIZE = 6;
const APP_MAGIC_0 = 0x74;
const APP_MAGIC_1 = 0x63;
const APP_HEAD_VERSION_M = 0x5;
const APP_HEAD_3 = 0x10;
const APP_HEAD_VERSION_1 = 0x0;
const APP_HEAD_VERSION_2 = 0x0;
const PP_MAGIC_0 = 0x12;
const PP_MAGIC_1 = 0x39;
const PP_HEAD_VERSION_M = 0x20;
const PP_HEAD_3 = 0x20;
const PP_HEAD_VERSION_1 = 0x02;
const PP_HEAD_VERSION_2 = 0x03;
var EncryptVersion;
(function (EncryptVersion) {
    EncryptVersion[EncryptVersion["AES"] = 1] = "AES";
    EncryptVersion[EncryptVersion["AES_PRIVATE"] = 2] = "AES_PRIVATE";
    EncryptVersion[EncryptVersion["SS_V31"] = 3] = "SS_V31";
    EncryptVersion[EncryptVersion["SS_V32"] = 4] = "SS_V32";
    EncryptVersion[EncryptVersion["SS_V33"] = 5] = "SS_V33";
    EncryptVersion[EncryptVersion["SS_V2"] = 6] = "SS_V2";
    EncryptVersion[EncryptVersion["SS_V1"] = 7] = "SS_V1";
    EncryptVersion[EncryptVersion["UNKNOWN"] = 8] = "UNKNOWN";
})(EncryptVersion || (EncryptVersion = {}));
const p_salt_1 = new Uint8Array([
    0xbf, 0xc0, 0xd8, 0xfa, 0x7a, 0xf6, 0xdc, 0x61, 0x1f, 0xfe, 0x62, 0x1b, 0x08, 0x48, 0x47, 0xb0,
    0x87, 0x63, 0x60, 0x12, 0x7f, 0x65, 0xcb, 0x68, 0xd3, 0x66, 0xbf, 0x7d, 0x25, 0x48, 0x96, 0x9c,
    0x33, 0xe5, 0x79, 0x23, 0x11, 0x99, 0x8d, 0xb1, 0x6e, 0x83, 0x96, 0x80, 0xac, 0xff, 0xfe, 0x06,
    0x12, 0x8c, 0x37, 0x3e, 0xec, 0xf9, 0x87, 0x40, 0x87, 0x0c, 0x75, 0x04, 0x59, 0x95, 0xa8, 0xd1,
]);
const p_salt_2 = new Uint8Array([
    0xf6, 0xcc, 0x1a, 0xe8, 0xe8, 0x46, 0x81, 0x6d, 0xdf, 0x92, 0xa9, 0xf2, 0x17, 0xf1, 0x69, 0x91,
    0x32, 0xc4, 0xa5, 0x2a, 0xfe, 0x78, 0x03, 0x36, 0xf4, 0xcf, 0xd1, 0x55, 0x35, 0x06, 0x8a, 0x6a,
    0xaf, 0x94, 0x1f, 0xcc, 0xba, 0xba, 0xa5, 0xb6, 0x57, 0x8e, 0x31, 0x0a, 0x27, 0x6e, 0x1a, 0x9a,
    0x56, 0x38, 0xad, 0x7d, 0x12, 0x40, 0xc6, 0xe1, 0x63, 0x63, 0x53, 0x52, 0xbf, 0x86, 0x4c, 0xaa,
]);
/// The salt array
/// real salt[i] = salt_1[i] ^ salt_2[i]
const salt_1 = Uint8Array.from([
    0x52, 0x09, 0x6a, 0xd5, 0x30, 0x36, 0xa5, 0x38, 0xbf, 0x40, 0xa3, 0x9e, 0x81, 0xf3, 0xd7, 0xfb,
    0x7c, 0xe3, 0x39, 0x82, 0x9b, 0x2f, 0xff, 0x87, 0x34, 0x8e, 0x43, 0x44, 0xc4, 0xde, 0xe9, 0xcb,
    0x54, 0x7b, 0x94, 0x32, 0xa6, 0xc2, 0x23, 0x3d, 0xee, 0x4c, 0x95, 0x0b, 0x42, 0xfa, 0xc3, 0x4e,
    0x08, 0x2e, 0xa1, 0x66, 0x28, 0xd9, 0x24, 0xb2, 0x76, 0x5b, 0xa2, 0x49, 0x6d, 0x8b, 0xd1, 0x25
]);
const salt_2 = Uint8Array.from([
    0x1f, 0xdd, 0xa8, 0x33, 0x88, 0x07, 0xc7, 0x31, 0xb1, 0x12, 0x10, 0x59, 0x27, 0x80, 0xec, 0x5f,
    0x60, 0x51, 0x7f, 0xa9, 0x19, 0xb5, 0x4a, 0x0d, 0x2d, 0xe5, 0x7a, 0x9f, 0x93, 0xc9, 0x9c, 0xef,
    0xa0, 0xe0, 0x3b, 0x4d, 0xae, 0x2a, 0xf5, 0xb0, 0xc8, 0xeb, 0xbb, 0x3c, 0x83, 0x53, 0x99, 0x61,
    0x17, 0x2b, 0x04, 0x7e, 0xba, 0x77, 0xd6, 0x26, 0xe1, 0x69, 0x14, 0x63, 0x55, 0x21, 0x0c, 0x7d
]);
function applogSalt(saltLength, version = EncryptVersion.AES) {
    const slat = new Uint8Array(saltLength);
    if (version === EncryptVersion.AES_PRIVATE) {
        for (let i = 0; i < saltLength; i++) {
            slat[i] = p_salt_1[i] ^ p_salt_2[i];
        }
    }
    else if (version === EncryptVersion.AES) {
        for (let i = 0; i < saltLength; i++) {
            slat[i] = salt_1[i] ^ salt_2[i];
        }
    }
    return slat;
}
function applogAesKey(key, aesKeyLength, ivLength, version = EncryptVersion.AES) {
    const bufferLength = SHA512_HASH_SIZE + KEY_SALT_SIZE;
    const buffer = new Uint8Array(bufferLength);
    const keyHash = sha512Calculate(key);
    const salt = applogSalt(KEY_SALT_SIZE, version);
    buffer.set(keyHash, 0);
    buffer.set(salt, SHA512_HASH_SIZE);
    // 计算 buffer 的哈希值并覆盖 buffer 的开头部分
    const bufferHash = sha512Calculate(buffer);
    buffer.set(bufferHash, 0);
    const aesKey = buffer.slice(0, aesKeyLength);
    const iv = buffer.slice(aesKeyLength, aesKeyLength + ivLength);
    return { aesKey, iv };
}

function aesCbcDecryptWithKey(aesKey, iv, inBuffer) {
    if (inBuffer.length % AES_BLOCK_SIZE !== 0) {
        return new Uint8Array(0);
    }
    const decipher = crypto.createDecipheriv('aes-128-cbc', aesKey, iv);
    const decrypted = Buffer.concat([decipher.update(Buffer.from(inBuffer)), decipher.final()]);
    return Uint8Array.from(decrypted);
}

function applogCheckHeader(data) {
    if (data[2] === PP_HEAD_VERSION_M &&
        data[3] === PP_HEAD_3 &&
        data[4] === PP_HEAD_VERSION_1 &&
        data[5] === PP_HEAD_VERSION_2 &&
        data[0] === PP_MAGIC_0 &&
        data[1] === PP_MAGIC_1) {
        return EncryptVersion.AES_PRIVATE;
    }
    if (data[0] !== APP_MAGIC_0 || data[1] !== APP_MAGIC_1) {
        return EncryptVersion.UNKNOWN;
    }
    if (data[2] === APP_HEAD_VERSION_M &&
        data[3] === APP_HEAD_3 &&
        data[4] === APP_HEAD_VERSION_1 &&
        data[5] === APP_HEAD_VERSION_2) {
        return EncryptVersion.AES;
    }
    if (data[2] === 0x03 && data[3] < 0x16) {
        if (data[4] === 0 && data[5] === 0x01) {
            return EncryptVersion.SS_V31;
        }
        if (data[4] === 0 && data[5] === 0x02) {
            return EncryptVersion.SS_V32;
        }
        if (data[4] === 0 && data[5] === 0x03) {
            return EncryptVersion.SS_V33;
        }
    }
    if (data[2] === 0x02 && data[3] < 0x16) {
        return EncryptVersion.SS_V2;
    }
    if (data[2] === 0x01 && data[3] < 0x16) {
        return EncryptVersion.SS_V1;
    }
    return EncryptVersion.UNKNOWN;
}
function applogGetHeaderKey(data, keyLength) {
    const version = applogCheckHeader(data);
    if (version !== EncryptVersion.AES && version !== EncryptVersion.AES_PRIVATE) {
        return {
            version: EncryptVersion.UNKNOWN,
            key: new Uint8Array(0),
        };
    }
    return {
        version,
        key: data.slice(APP_HEAD_SIZE, APP_HEAD_SIZE + keyLength),
    };
}
function applogDecrypt(dataIn) {
    const keyLength = KEY_SEED_SIZE;
    const { version, key } = applogGetHeaderKey(dataIn, keyLength);
    if (key.length !== KEY_SEED_SIZE) {
        return new Uint8Array(0);
    }
    const aesKeyLength = KeySize.AES128;
    const ivLength = AES_CBC_IV_SIZE;
    const { aesKey, iv } = applogAesKey(key, aesKeyLength, ivLength, version);
    const bufferOut = aesCbcDecryptWithKey(aesKey, iv, dataIn.slice(KEY_SEED_SIZE + APP_HEAD_SIZE));
    if (bufferOut.length > 0) {
        /// hash check
        const hash = sha512Calculate(bufferOut.slice(SHA512_HASH_SIZE));
        if (new Array(SHA512_HASH_SIZE).every((_, index) => hash[index] === bufferOut[index])) {
            return bufferOut.slice(SHA512_HASH_SIZE);
        }
        else {
            return new Uint8Array(0);
        }
    }
    else {
        return new Uint8Array(0);
    }
}

function safeBigInt(value, fallback) {
    if (value === undefined) {
        return fallback;
    }
    try {
        return BigInt(value);
    }
    catch (error) {
        return fallback;
    }
}
class DrCacheInfo {
    static parse(text) {
        const formats = text.split(DrCacheInfo.SPLITTER).filter(Boolean);
        const parts = {};
        for (let i = 0; i < formats.length - 1; i++) {
            const current = formats[i];
            const next = formats[i + 1];
            if (current.length > 1 && current.endsWith('=') && !next.endsWith('=')) {
                const key = formats[i].slice(0, -1);
                const value = key === 'uuid' ? next : next.replace(/\D.*/, ''); // 如果不是文本的话，扔掉匹配到的非数字和之后的字符，增加健壮性
                parts[key] = value;
            }
        }
        return new DrCacheInfo(parseInt(parts.version, 10) || 0, safeBigInt(parts.dr_did, 0n), safeBigInt(parts.iid, 0n), parts.active_success === '1', parts.activated === '1', parts.uuid || '');
    }
    static stringify(value) {
        return `version=${value.version}dr_did=${value.deviceId}iid=${value.installId}active_success=${value.isActiveSuccess ? 1 : 0}activated=${value.isActivated ? 1 : 0}uuid=${value.uuid}`;
    }
    constructor(version, did, iid, isActiveSuccess, isActivated, uuid) {
        this.version = version;
        this.deviceId = did;
        this.installId = iid;
        this.isActiveSuccess = isActiveSuccess;
        this.isActivated = isActivated;
        this.uuid = uuid;
    }
    isValidVersion() {
        // 主线分支是 3，支持 looki 的分支是 4，虽然不支持 looki id，但可以解析 looki 的 cache
        return this.version === DrCacheInfo.DR_CACHE_VERSION || this.version === 4;
    }
    toString() {
        return DrCacheInfo.stringify(this);
    }
}
DrCacheInfo.DR_CACHE_VERSION = 3;
DrCacheInfo.SPLITTER = /(version=|dr_did=|iid=|active_success=|activated=|uuid=|looki_did=|row_did=)/;

function aesCbcEncryptWithKey(aesKey, iv, inBuffer) {
    const cipher = crypto.createCipheriv('aes-128-cbc', aesKey, iv);
    const encrypted = Buffer.concat([cipher.update(Buffer.from(inBuffer)), cipher.final()]);
    return Uint8Array.from(encrypted);
}

function applogKeyGenerate(keyLength) {
    const key = new Uint8Array(keyLength);
    for (let i = 0; i < keyLength; i++) {
        key[i] = Math.floor(Math.random() * 256);
    }
    return key;
}
function applogHeaderKey(key) {
    const bufferOut = new Uint8Array(key.length + APP_HEAD_SIZE);
    bufferOut[0] = APP_MAGIC_0;
    bufferOut[1] = APP_MAGIC_1;
    bufferOut[2] = APP_HEAD_VERSION_M;
    bufferOut[3] = APP_HEAD_3;
    bufferOut[4] = APP_HEAD_VERSION_1;
    bufferOut[5] = APP_HEAD_VERSION_2;
    bufferOut.set(key, APP_HEAD_SIZE);
    return bufferOut;
}
function applogDecoratedInternal(dataIn) {
    const aesKeyLength = KeySize.AES128; // size_t
    const ivLength = AES_CBC_IV_SIZE; // size_t
    const key = applogKeyGenerate(KEY_SEED_SIZE);
    const { aesKey, iv } = applogAesKey(key, aesKeyLength, ivLength);
    const encryptData = new Uint8Array(SHA512_HASH_SIZE + dataIn.length);
    /// hash check
    const hash = sha512Calculate(dataIn);
    encryptData.set(hash, 0);
    /// original data
    encryptData.set(dataIn, SHA512_HASH_SIZE);
    const header = applogHeaderKey(key);
    const body = aesCbcEncryptWithKey(aesKey, iv, encryptData);
    if (body.length > 0) {
        const bufferOut = new Uint8Array(header.length + body.length);
        bufferOut.set(header, 0);
        bufferOut.set(body, header.length);
        return bufferOut;
    }
    return new Uint8Array(0);
}
function applogDecorated(dataIn) {
    return applogDecoratedInternal(dataIn);
}

// type RegValueType = string | string[] | number | bigint | Buffer | undefined;
// REG_SZ -> value
// REG_MULTI_SZ -> value.split(',')
// REG_EXPAND_SZ -> value
// REG_DWORD -> parseInt(value, 16)
// REG_QWORD -> BigInt(value)
// REG_BINARY -> Buffer.from(value, 'hex')
// REG_NONE -> undefined
// only support buffer
async function readValueFromReg(regPath, keyName) {
    const reg = new Registry({
        hive: Registry.HKCU, // HKEY_CURRENT_USER
        key: regPath,
    });
    return new Promise((resolve) => {
        reg.get(keyName, (err, result) => {
            if (err || result.type !== Registry.REG_BINARY) {
                resolve(undefined);
            }
            else {
                resolve(Buffer.from(result.value, 'hex'));
            }
        });
    });
}
// only support buffer
async function writeValueToReg(regPath, keyName, value) {
    const reg = new Registry({
        hive: Registry.HKCU, // HKEY_CURRENT_USER
        key: regPath,
    });
    return new Promise((resolve, reject) => {
        reg.set(keyName, Registry.REG_BINARY, value.toString('hex'), (err) => {
            if (err) {
                reject(err);
            }
            else {
                resolve(undefined);
            }
        });
    });
}
const DR_CACHE_REG_KEY = 'Info';
async function drCacheLoad$3(cachePath) {
    const buffer = await readValueFromReg(cachePath, DR_CACHE_REG_KEY);
    if (buffer) {
        const decData = applogDecrypt(new Uint8Array(buffer));
        const data = new TextDecoder('utf-8').decode(decData);
        if (data.startsWith('version')) {
            const drCacheInfo = DrCacheInfo.parse(data);
            if (drCacheInfo.isValidVersion()) {
                return drCacheInfo;
            }
        }
    }
    return undefined;
}
async function drCacheStore$3(drCacheInfo, cachePath) {
    if (!drCacheInfo.isValidVersion()) {
        throw new Error('drCacheInfo version is not current version');
    }
    const buffer = new Uint8Array(Buffer.from(drCacheInfo.toString(), 'utf-8'));
    const encData = applogDecorated(buffer);
    await writeValueToReg(cachePath, DR_CACHE_REG_KEY, Buffer.from(encData));
}

const DEFAULT_MAC_ADDRESS = '02:00:00:00:00:00';
const invalidMacAddresses = new Set([
    '00:00:00:00:00:00',
    'ff:ff:ff:ff:ff:ff',
    'ac:de:48:00:11:22'
]);
function validateMacAddress(candidate) {
    const tempCandidate = candidate.replace(/\-/g, ':').toLowerCase();
    return !invalidMacAddresses.has(tempCandidate);
}
function getMacAddressOnMac() {
    const preferredNICs = ['en0', 'en1', 'en2', 'llw0'];
    const ifaces = os.networkInterfaces();
    for (const preferredNIC of preferredNICs) {
        const networkInterface = ifaces[preferredNIC];
        if (networkInterface) {
            for (const { mac, internal } of networkInterface) {
                if (!internal && validateMacAddress(mac)) {
                    return mac;
                }
            }
        }
    }
    return DEFAULT_MAC_ADDRESS; // 都没有就算了
}
async function getMacAddressOnWindows() {
    const cachePath = '\\SOFTWARE\\DeviceInfo\\MacAddr';
    const cache = await readValueFromReg(cachePath, 'mac');
    if (cache) {
        return cache.toString('utf-8');
    }
    const ifaces = os.networkInterfaces();
    // TODO 需要优化 windows 上取 mac 逻辑
    for (const name in ifaces) {
        const networkInterface = ifaces[name];
        if (networkInterface) {
            for (const { mac, internal } of networkInterface) {
                if (!internal && validateMacAddress(mac)) {
                    writeValueToReg(cachePath, 'mac', Buffer.from(mac, 'utf-8'));
                    return mac;
                }
            }
        }
    }
    return DEFAULT_MAC_ADDRESS; // 都没有就算了
}
function getMacAddressOnLinux() {
    const preferredNICs = ['wlan0', 'eth0', 'eth1', 'eth2'];
    const ifaces = os.networkInterfaces();
    for (const preferredNIC of preferredNICs) {
        const networkInterface = ifaces[preferredNIC];
        if (networkInterface) {
            for (const { mac, internal } of networkInterface) {
                if (!internal && validateMacAddress(mac)) {
                    return mac;
                }
            }
        }
    }
    return DEFAULT_MAC_ADDRESS; // 都没有就算了
}
async function getMacAddress() {
    switch (DR_TARGET_PLATFORM) {
        case DrPlatform.MAC:
            return getMacAddressOnMac();
        case DrPlatform.WIN:
            return await getMacAddressOnWindows();
        case DrPlatform.LINUX:
            return getMacAddressOnLinux();
    }
    return DEFAULT_MAC_ADDRESS;
}
const memoizedGetMacAddress = memoize(getMacAddress);

async function getOsRelease() {
    if (DR_TARGET_PLATFORM === DrPlatform.WIN) {
        return os.release(); // windows 上是相同的
    }
    // posix 系统上 os release 与 kernel version 不等同
    const osInfo = await systemInformation.osInfo();
    return osInfo.release;
}
const memoizedGetOsRelease = memoize(getOsRelease);

function getTimeZoneInfo() {
    const date = new Date();
    const offset = -date.getTimezoneOffset();
    return {
        timeZone: offset / 60,
        tzOffset: offset * 60,
        tzName: Intl.DateTimeFormat().resolvedOptions().timeZone.toLocaleLowerCase(),
    };
}

const SDK_VERSION_MAJOR = 0;
const SDK_VERSION_MINOR = 0;
const SDK_VERSION_PATCH = 2;
const SDK_VERSION_CODE = SDK_VERSION_MAJOR * 100 + SDK_VERSION_MINOR * 10 + SDK_VERSION_PATCH;
const SDK_VERSION_NAME = `${SDK_VERSION_MAJOR}.${SDK_VERSION_MINOR}.${SDK_VERSION_PATCH}`;

const execAsync = util.promisify(child_process.exec);
function cbParseKeychainLoad(result) {
    const b64DecodeData = new Uint8Array(Buffer.from(result, 'base64'));
    const decData = applogDecrypt(b64DecodeData);
    const data = new TextDecoder('utf-8').decode(decData);
    if (data.startsWith('version')) {
        const drCacheInfo = DrCacheInfo.parse(data);
        if (drCacheInfo.isValidVersion()) {
            return drCacheInfo;
        }
    }
    return undefined;
}
async function drCacheLoad$2(name) {
    const command = `security -i find-generic-password -l 'BDdr_${name}' -a Info -w`;
    try {
        const { stdout } = await execAsync(command);
        return cbParseKeychainLoad(stdout.toString());
    }
    catch (error) {
        return undefined;
    }
}
async function drCacheStore$2(drCacheInfo, name) {
    if (!drCacheInfo.isValidVersion()) {
        throw new Error('drCacheInfo version is not current version');
    }
    const buffer = new Uint8Array(Buffer.from(drCacheInfo.toString(), 'utf-8'));
    const encData = applogDecorated(buffer);
    const b64OutStr = Buffer.from(encData).toString('base64');
    const command = `security add-generic-password -s 'BDdr_${name}' -a Info -U -w ${b64OutStr}`;
    await execAsync(command);
}

async function drCacheLoad$1(cachePath) {
    if (!cachePath) {
        return undefined;
    }
    try {
        await fs.access(cachePath);
    }
    catch {
        return undefined;
    }
    const buffer = new Uint8Array(await fs.readFile(cachePath));
    const decData = applogDecrypt(buffer);
    const data = new TextDecoder('utf-8').decode(decData);
    if (data.startsWith('version')) {
        const drCacheInfo = DrCacheInfo.parse(data);
        if (drCacheInfo.isValidVersion()) {
            return drCacheInfo;
        }
    }
    return undefined;
}
async function drCacheStore$1(drCacheInfo, cachePath) {
    if (!drCacheInfo.isValidVersion() || !cachePath) {
        throw new Error('drCacheInfo version is not current version');
    }
    const buffer = new Uint8Array(Buffer.from(drCacheInfo.toString(), 'utf-8'));
    const encData = applogDecorated(buffer);
    await fs.writeFile(cachePath, encData);
}

async function drCacheLoad(name, cachePath) {
    if (DR_TARGET_PLATFORM === DrPlatform.MAC && name) {
        return await drCacheLoad$2(name);
    }
    else if (DR_TARGET_PLATFORM === DrPlatform.WIN && cachePath) {
        return await drCacheLoad$3(cachePath);
    }
    else if (DR_TARGET_PLATFORM === DrPlatform.LINUX && cachePath) {
        return await drCacheLoad$1(cachePath);
    }
    return undefined;
}
async function drCacheStore(drCacheInfo, name, cachePath) {
    if (DR_TARGET_PLATFORM === DrPlatform.MAC && name) {
        await drCacheStore$2(drCacheInfo, name);
    }
    else if (DR_TARGET_PLATFORM === DrPlatform.WIN && cachePath) {
        await drCacheStore$3(drCacheInfo, cachePath);
    }
    else if (DR_TARGET_PLATFORM === DrPlatform.LINUX && cachePath) {
        await drCacheStore$1(drCacheInfo, cachePath);
    }
}

async function getSystem() {
    const system = await systemInformation.system();
    return {
        model: system.model.replace(' ', '_'),
        uuid: system.uuid.toUpperCase(),
        sku: system.sku,
        serial: system.serial,
    };
}
const memoizedGetSystem = memoize(getSystem);
getSystem();

class DeviceRegister {
    constructor(appInfo, config) {
        this.appInfo = appInfo;
        this.force = config.force ?? false;
        this.newUserMode = config.newUserMode ?? false;
        this.cachePath = config.cachePath;
        this.registryUrl = config.registryUrl;
        this.activeUrl = config.activeUrl;
        this.logger = config.logger ?? {};
        this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (constructor) start with appInfo: ${JSON.stringify(appInfo)}, config: ${JSON.stringify(config)}`);
        this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (constructor) parsed config: force: ${this.force}, newUserMode: ${this.newUserMode}, cachePath: ${this.cachePath}, registryUrl: ${this.registryUrl}, activeUrl: ${this.activeUrl}`);
    }
    setForce(force) {
        this.force = force;
    }
    setNewUserMode(newUserMode) {
        this.newUserMode = newUserMode;
    }
    setCachePath(cachePath) {
        this.cachePath = cachePath;
    }
    async loadCache() {
        this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (loadCache) with force: ${this.force}, newUserMode: ${this.newUserMode}, cachePath: ${this.cachePath}`);
        const uuid = DR_TARGET_PLATFORM === DrPlatform.MAC ? (await memoizedGetSystem()).uuid : (await memoizedGetDiskSerial());
        this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (loadCache) uuid: ${uuid}`);
        const cache = await drCacheLoad(this.appInfo.name, this.cachePath);
        if (cache) {
            this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (loadCache) get cahce.`);
            if (cache.deviceId > 0n && cache.installId !== 0n) {
                if (cache.uuid === uuid) {
                    this.logger?.info && this.logger?.info?.(`[DeviceRegister] (loadCache) cache uuid match, return cache ${cache.toString()}.`);
                    return cache;
                }
            }
        }
    }
    async storeCache(cache) {
        this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (storeCache): ${cache.toString()}`);
        await drCacheStore(cache, this.appInfo.name, this.cachePath);
        this.logger?.info && this.logger?.info?.(`[DeviceRegister] (storeCache) done.`);
    }
    async genRegistryRequestUrl() {
        this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (genRegistryRequestUrl) start.`);
        const [system, osRelease, diskSerial] = await Promise.all([
            memoizedGetSystem(),
            memoizedGetOsRelease(),
            DR_TARGET_PLATFORM === DrPlatform.MAC ? Promise.resolve('') : memoizedGetDiskSerial(),
        ]);
        const params = {
            aid: this.appInfo.id,
            channel: this.appInfo.channel,
            os: OS_NAME,
            os_version: osRelease,
            device_platform: DEVICE_PLATFORM,
            version_code: this.appInfo.version,
        };
        if (DR_TARGET_PLATFORM === DrPlatform.MAC) {
            params['macos_uuid'] = system.uuid;
            params['macos_serial'] = system.serial;
        }
        else {
            params['pc_uuid'] = system.uuid;
            params['pc_serial'] = diskSerial;
        }
        const url = `${this.registryUrl}?${Object.keys(params).map(key => `${key}=${params[key]}`).join('&')}`;
        this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (genRegistryRequestUrl) url: ${url}`);
        return url;
    }
    async genRegistryRequestBody() {
        this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (genRegistryRequestBody) start.`);
        const timeZoneInfo = getTimeZoneInfo();
        const [macAddress, osRelease, system, resolution, diskSerial,] = await Promise.all([
            memoizedGetMacAddress(),
            memoizedGetOsRelease(),
            memoizedGetSystem(),
            memoizedGetGraphicResolution(),
            DR_TARGET_PLATFORM === DrPlatform.MAC ? Promise.resolve('') : memoizedGetDiskSerial(),
        ]);
        const header = {
            device_id: 0,
            install_id: 0,
            os: OS_NAME,
            device_platform: DEVICE_PLATFORM,
            sdk_version: SDK_VERSION_NAME,
            sdk_version_code: SDK_VERSION_CODE,
            aid: this.appInfo.id,
            mc: macAddress,
            channel: this.appInfo.channel,
            package: this.appInfo.package,
            language: this.appInfo.language,
            app_version: this.appInfo.version,
            os_version: osRelease,
            device_model: system.model,
            time_zone: timeZoneInfo.timeZone,
            tz_name: timeZoneInfo.tzName,
            tz_offset: timeZoneInfo.tzOffset,
            resolution,
            app_region: this.appInfo.region,
            app_language: this.appInfo.language,
            display_name: this.appInfo.name,
            new_user_mode: Number(this.newUserMode),
        };
        if (DR_TARGET_PLATFORM === DrPlatform.MAC) {
            header['macos_uuid'] = system.uuid;
            header['macos_serial'] = system.serial;
            header['sku'] = system.sku;
        }
        else {
            header['pc_uuid'] = system.uuid;
            header['pc_serial'] = diskSerial;
        }
        const body = {
            header,
            _gen_time: Math.floor(Date.now() / 1000),
            magic_tag: 'ss_app_log',
        };
        this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (genRegistryRequestBody) header: ${JSON.stringify(header)}, body: ${JSON.stringify(body)}`);
        return body;
    }
    async genActiveRequestUrl(did, iid) {
        this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (genActiveRequestUrl) start.`);
        const [system, diskSerial] = await Promise.all([
            memoizedGetSystem(),
            DR_TARGET_PLATFORM === DrPlatform.MAC ? Promise.resolve('') : memoizedGetDiskSerial(),
        ]);
        const params = {
            aid: this.appInfo.id,
            app_name: this.appInfo.name,
            version_code: this.appInfo.version,
            channel: this.appInfo.channel,
            os: OS_NAME,
            device_platform: DEVICE_PLATFORM,
            device_id: did.toString(),
            iid: iid.toString(),
        };
        if (DR_TARGET_PLATFORM === DrPlatform.MAC) {
            params['macos_uuid'] = system.uuid;
            params['macos_serial'] = system.serial;
        }
        else {
            params['pc_uuid'] = system.uuid;
            params['pc_serial'] = diskSerial;
        }
        const url = `${this.activeUrl}?${Object.keys(params).map(key => `${key}=${params[key]}`).join('&')}`;
        this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (genActiveRequestUrl) url: ${url}`);
        return url;
    }
    async getDidFromCache() {
        this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (getDidFromCache) start.`);
        const cache = await this.loadCache();
        this.logger?.info && this.logger?.info?.(`[DeviceRegister] (getDidFromCache) cache: ${cache?.toString()}`);
        return {
            deviceId: cache?.deviceId ?? 0n,
            installId: cache?.installId ?? 0n,
        };
    }
    async registry() {
        this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (registry) start.`);
        const [url, body] = await Promise.all([
            this.genRegistryRequestUrl(),
            this.genRegistryRequestBody(),
        ]);
        const json = JSON.stringify(body);
        this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (registry) url: ${url}, body: ${json}`);
        const buf = new Uint8Array(await zlib.gzipSync(Buffer.from(json, 'utf-8')));
        const decData = applogDecorated(buf);
        if (decData.length === 0) {
            this.logger?.error && this.logger?.error?.(`[DeviceRegister] (registry) applogDecorated failed.`);
            return { deviceId: 0n, installId: 0n };
        }
        this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (registry) decData success.`);
        try {
            const res = await fetch(url, {
                method: 'POST',
                body: Buffer.from(decData),
                headers: {
                    'Content-Type': 'application/json',
                    'User-Agent': 'TTNetwork PC',
                },
            });
            this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (registry) res: ${res.status}`);
            if (res.status === 200) {
                const text = await res.text();
                const result = JSONBig.parse(text);
                this.logger?.info && this.logger?.info?.(`[DeviceRegister] (registry) result: ${text}`);
                return {
                    deviceId: BigInt(result.device_id ?? 0),
                    installId: BigInt(result.install_id ?? 0),
                    isNewUser: !!result.new_user,
                };
            }
        }
        catch (e) {
            this.logger?.error && this.logger?.error?.(`[DeviceRegister] (registry) failed: ${e}`);
        }
        this.logger?.error && this.logger?.error?.(`[DeviceRegister] (registry) failed.`);
        return { deviceId: 0n, installId: 0n, isNewUser: false };
    }
    async active(deviceId, installId) {
        this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (active) start.`);
        const url = await this.genActiveRequestUrl(deviceId, installId);
        this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (active) url: ${url}`);
        try {
            const res = await fetch(url, { method: 'POST', headers: { 'User-Agent': 'TTNetwork PC' } });
            this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (active) res: ${res.status}`);
            if (res.status === 200) {
                const result = await res.json();
                this.logger?.info && this.logger?.info?.(`[DeviceRegister] (active) result: ${JSON.stringify(result)}`);
                const isActiveSuccess = result?.message === 'success';
                const isActivated = !!result?.data?.is_activated;
                return {
                    isActiveSuccess,
                    isActivated,
                };
            }
        }
        catch (e) {
            this.logger?.error && this.logger?.error?.(`[DeviceRegister] (active) failed: ${e}`);
        }
        this.logger?.error && this.logger?.error?.(`[DeviceRegister] (active) failed.`);
        return {
            isActiveSuccess: false,
            isActivated: false,
        };
    }
    async registryAndActive() {
        this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (registryAndActive) start.`);
        if (!this.force && !this.newUserMode) {
            const cache = await this.loadCache();
            if (cache) {
                this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (registryAndActive) cache: ${cache.toString()}`);
                return {
                    deviceId: cache.deviceId,
                    installId: cache.installId,
                    isActiveSuccess: false,
                    isActivated: false,
                };
            }
        }
        this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (registryAndActive) registry start.`);
        const registryResult = await this.registry();
        this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (registryAndActive) registry result: did: ${registryResult.deviceId}, iid: ${registryResult.installId}`);
        if (registryResult.deviceId === 0n || registryResult.installId === 0n) {
            this.logger?.error && this.logger?.error?.(`[DeviceRegister] (registryAndActive) registry failed.`);
            return {
                deviceId: registryResult.deviceId,
                installId: registryResult.installId,
                isActiveSuccess: false,
                isActivated: false,
            };
        }
        this.logger?.trace && this.logger?.trace?.(`[DeviceRegister] (registryAndActive) active start.`);
        if (!this.newUserMode && !registryResult.isNewUser) {
            return {
                deviceId: registryResult.deviceId,
                installId: registryResult.installId,
                isActiveSuccess: true,
                isActivated: true,
            };
        }
        const activeResult = await this.active(registryResult.deviceId, registryResult.installId);
        this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (registryAndActive) active result: isActiveSuccess: ${activeResult.isActiveSuccess}, isActivated: ${activeResult.isActivated}`);
        if (activeResult.isActiveSuccess) {
            const cache = new DrCacheInfo(DrCacheInfo.DR_CACHE_VERSION, registryResult.deviceId, registryResult.installId, activeResult.isActiveSuccess, activeResult.isActivated, DR_TARGET_PLATFORM === DrPlatform.MAC ? (await memoizedGetSystem()).uuid : (await memoizedGetDiskSerial()));
            this.storeCache(cache);
            this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (registryAndActive) store cache: ${cache.toString()}`);
        }
        else {
            this.logger?.error && this.logger?.error?.(`[DeviceRegister] (registryAndActive) active failed.`);
        }
        const result = {
            deviceId: registryResult.deviceId,
            installId: registryResult.installId,
            isActiveSuccess: activeResult.isActiveSuccess,
            isActivated: activeResult.isActivated,
        };
        this.logger?.debug && this.logger?.debug?.(`[DeviceRegister] (registryAndActive) result: ${JSONBig.stringify(result)}`);
        return result;
    }
}

exports.DeviceRegister = DeviceRegister;//# sourceMappingURL=https://trae.private/sourcemaps/424b4bd987c6c6a4cadf1a08da420593cc6bf75a/node_modules/@byted/device-register/dist/data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9zeXN0ZW1pbmZvcm1hdGlvbi91dGlscy50cyIsIi4uL3NyYy9zeXN0ZW1pbmZvcm1hdGlvbi9kaXNrLnRzIiwiLi4vc3JjL3N5c3RlbWluZm9ybWF0aW9uL2dyYXBoaWNzLnRzIiwiLi4vc3JjL3BsYXRmb3JtLnRzIiwiLi4vc3JjL2NyeXB0b3IvYmFzZS9hZXNfYmFzZS50cyIsIi4uL3NyYy9jcnlwdG9yL2Jhc2UvYWVzX2NiYy50cyIsIi4uL3NyYy9jcnlwdG9yL2Jhc2Uvc2hhXzUxMi50cyIsIi4uL3NyYy9jcnlwdG9yL2Jhc2UvYXBwX2xvZ19hZXMudHMiLCIuLi9zcmMvY3J5cHRvci9kZWNyeXB0L2Flc19jYmNfZC50cyIsIi4uL3NyYy9jcnlwdG9yL2RlY3J5cHQvYXBwX2xvZ19hZXNfZC50cyIsIi4uL3NyYy9jYWNoZS9jb21tb24udHMiLCIuLi9zcmMvY3J5cHRvci9lbmNyeXB0L2Flc19jYmNfZS50cyIsIi4uL3NyYy9jcnlwdG9yL2VuY3J5cHQvYXBwX2xvZ19hZXNfZS50cyIsIi4uL3NyYy9jYWNoZS93aW5kb3dzLnRzIiwiLi4vc3JjL3N5c3RlbWluZm9ybWF0aW9uL25ldHdvcmsudHMiLCIuLi9zcmMvc3lzdGVtaW5mb3JtYXRpb24vb3MudHMiLCIuLi9zcmMvc3lzdGVtaW5mb3JtYXRpb24vdGltZXpvbmUudHMiLCIuLi9zcmMvdmVyc2lvbi50cyIsIi4uL3NyYy9jYWNoZS9tYWMudHMiLCIuLi9zcmMvY2FjaGUvbGludXgudHMiLCIuLi9zcmMvY2FjaGUvaW5kZXgudHMiLCIuLi9zcmMvc3lzdGVtaW5mb3JtYXRpb24vc3lzdGVtLnRzIiwiLi4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBtZW1vaXplPFI+KGZ1bmM6ICgpID0+IFIpOiAoKSA9PiBSIHtcbiAgbGV0IGNhY2hlOiBSIHwgbnVsbCA9IG51bGw7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpZiAoY2FjaGUgPT09IG51bGwpIHtcbiAgICAgIGNhY2hlID0gZnVuYygpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGU7XG4gIH07XG59XG4iLCJpbXBvcnQgc3lzdGVtSW5mb3JtYXRpb24gZnJvbSAnc3lzdGVtaW5mb3JtYXRpb24nO1xuaW1wb3J0IHsgbWVtb2l6ZSB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RGlza1NlcmlhbCgpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBkaXNrcyA9IGF3YWl0IHN5c3RlbUluZm9ybWF0aW9uLmRpc2tMYXlvdXQoKTtcbiAgaWYgKGRpc2tzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gZGlza3NbMF0uc2VyaWFsTnVtLnRvVXBwZXJDYXNlKCkucmVwbGFjZSgvIC9nLCAnXycpOztcbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbmV4cG9ydCBjb25zdCBtZW1vaXplZEdldERpc2tTZXJpYWwgPSBtZW1vaXplKGdldERpc2tTZXJpYWwpOyIsImltcG9ydCBzeXN0ZW1JbmZvcm1hdGlvbiBmcm9tICdzeXN0ZW1pbmZvcm1hdGlvbic7XG5pbXBvcnQgeyBtZW1vaXplIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRHcmFwaGljUmVzb2x1dGlvbigpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBncmFwaGljcyA9IGF3YWl0IHN5c3RlbUluZm9ybWF0aW9uLmdyYXBoaWNzKCk7XG4gIGlmIChncmFwaGljcy5kaXNwbGF5cz8ubGVuZ3RoID4gMCkge1xuICAgIC8vIOazqOaEj+i/memHjOS4juWOn+eJiCBDIFNESyDooYzkuLrkuI3kuIDoh7TvvIxDIFNESyDkvb/nlKjkuobnvKnmlL7lkI7nmoTliIbovqjnjofvvIzmiJHku6zlj5blrp7pmYXliIbovqjnjodcbiAgICBjb25zdCB4ID0gZ3JhcGhpY3MuZGlzcGxheXNbMF0/LnJlc29sdXRpb25YIHx8IDA7XG4gICAgY29uc3QgeSA9IGdyYXBoaWNzLmRpc3BsYXlzWzBdPy5yZXNvbHV0aW9uWSB8fCAwO1xuICAgIHJldHVybiBgJHt4fXgke3l9YDtcbiAgfVxuICByZXR1cm4gJzB4MCc7XG59XG5cbmV4cG9ydCBjb25zdCBtZW1vaXplZEdldEdyYXBoaWNSZXNvbHV0aW9uID0gbWVtb2l6ZShnZXRHcmFwaGljUmVzb2x1dGlvbik7IiwiZXhwb3J0IGVudW0gRHJQbGF0Zm9ybSB7XG4gIFVOS05PV04gPSAwLFxuICBNQUMgPSAxLFxuICBXSU4gPSAyLFxuICBMSU5VWCA9IDNcbn1cblxuZXhwb3J0IGNvbnN0IERSX1RBUkdFVF9QTEFURk9STTogRHJQbGF0Zm9ybSA9ICgoKSA9PiB7XG4gIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gRHJQbGF0Zm9ybS5VTktOT1dOO1xuICB9XG5cbiAgc3dpdGNoKHByb2Nlc3MucGxhdGZvcm0pIHtcbiAgICBjYXNlICd3aW4zMic6XG4gICAgICByZXR1cm4gRHJQbGF0Zm9ybS5XSU47XG4gICAgY2FzZSAnZGFyd2luJzpcbiAgICAgIHJldHVybiBEclBsYXRmb3JtLk1BQztcbiAgICBjYXNlICdsaW51eCc6XG4gICAgY2FzZSAnZnJlZWJzZCc6XG4gICAgY2FzZSAnb3BlbmJzZCc6XG4gICAgY2FzZSAnbmV0YnNkJzpcbiAgICBjYXNlICdmcmVlYnNkJzpcbiAgICBjYXNlICdhaXgnOlxuICAgICAgcmV0dXJuIERyUGxhdGZvcm0uTElOVVg7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBEclBsYXRmb3JtLlVOS05PV047XG4gIH1cbn0pKCk7XG5cbmV4cG9ydCBjb25zdCBPU19OQU1FOiBzdHJpbmcgPSAoKCkgPT4ge1xuICBzd2l0Y2goRFJfVEFSR0VUX1BMQVRGT1JNKSB7XG4gICAgY2FzZSBEclBsYXRmb3JtLldJTjpcbiAgICAgIHJldHVybiAnV2luZG93cyc7XG4gICAgY2FzZSBEclBsYXRmb3JtLk1BQzpcbiAgICAgIHJldHVybiAnTWFjT1MnO1xuICAgIGNhc2UgRHJQbGF0Zm9ybS5MSU5VWDpcbiAgICAgIHJldHVybiAnTGludXgnO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn0pKCk7XG5cbmV4cG9ydCBjb25zdCBERVZJQ0VfUExBVEZPUk06IHN0cmluZyA9ICgoKSA9PiB7XG4gIHN3aXRjaChEUl9UQVJHRVRfUExBVEZPUk0pIHtcbiAgICBjYXNlIERyUGxhdGZvcm0uV0lOOlxuICAgICAgcmV0dXJuICdQQyc7XG4gICAgY2FzZSBEclBsYXRmb3JtLk1BQzpcbiAgICAgIHJldHVybiAnTWFjT1MnO1xuICAgIGNhc2UgRHJQbGF0Zm9ybS5MSU5VWDpcbiAgICAgIHJldHVybiAnUEMnO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn0pKCk7XG5cbiIsImV4cG9ydCBjb25zdCBBRVNfQkxPQ0tfU0laRSA9IDE2O1xuXG5leHBvcnQgZW51bSBLZXlTaXplIHtcbiAgQUVTMTI4ID0gMTYsXG4gIEFFUzE5MiA9IDE0LFxuICBBRVMyNTYgPSAzMlxufVxuIiwiaW1wb3J0IHsgQUVTX0JMT0NLX1NJWkUgfSBmcm9tICcuL2Flc19iYXNlJztcblxuZXhwb3J0IGNvbnN0IEFFU19DQkNfSVZfU0laRSA9IEFFU19CTE9DS19TSVpFOyIsImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcblxuZXhwb3J0IGNvbnN0IFNIQTUxMl9IQVNIX1NJWkUgPSA2NDtcblxuZXhwb3J0IGZ1bmN0aW9uIHNoYTUxMkNhbGN1bGF0ZShidWZmZXI6IGNyeXB0by5CaW5hcnlMaWtlKTogVWludDhBcnJheSB7XG4gIGNvbnN0IGhhc2ggPSBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhNTEyJyk7XG4gIGhhc2gudXBkYXRlKGJ1ZmZlcik7XG4gIHJldHVybiBVaW50OEFycmF5LmZyb20oaGFzaC5kaWdlc3QoKSk7XG59XG4iLCJpbXBvcnQgeyBTSEE1MTJfSEFTSF9TSVpFLCBzaGE1MTJDYWxjdWxhdGUgfSBmcm9tICcuL3NoYV81MTInO1xuXG5leHBvcnQgY29uc3QgS0VZX1NFRURfU0laRSA9IDMyO1xuZXhwb3J0IGNvbnN0IEtFWV9TQUxUX1NJWkUgPSA2NDtcblxuZXhwb3J0IGNvbnN0IEFQUF9IRUFEX1NJWkUgPSA2O1xuZXhwb3J0IGNvbnN0IEFQUF9NQUdJQ18wID0gMHg3NDtcbmV4cG9ydCBjb25zdCBBUFBfTUFHSUNfMSA9IDB4NjM7XG5leHBvcnQgY29uc3QgQVBQX0hFQURfVkVSU0lPTl9NID0gMHg1O1xuZXhwb3J0IGNvbnN0IEFQUF9IRUFEXzMgPSAweDEwO1xuZXhwb3J0IGNvbnN0IEFQUF9IRUFEX1ZFUlNJT05fMSA9IDB4MDtcbmV4cG9ydCBjb25zdCBBUFBfSEVBRF9WRVJTSU9OXzIgPSAweDA7XG5cbmV4cG9ydCBjb25zdCBQUF9NQUdJQ18wID0gMHgxMjtcbmV4cG9ydCBjb25zdCBQUF9NQUdJQ18xID0gMHgzOTtcbmV4cG9ydCBjb25zdCBQUF9IRUFEX1ZFUlNJT05fTSA9IDB4MjA7XG5leHBvcnQgY29uc3QgUFBfSEVBRF8zID0gMHgyMDtcbmV4cG9ydCBjb25zdCBQUF9IRUFEX1ZFUlNJT05fMSA9IDB4MDI7XG5leHBvcnQgY29uc3QgUFBfSEVBRF9WRVJTSU9OXzIgPSAweDAzO1xuXG5leHBvcnQgZW51bSBFbmNyeXB0VmVyc2lvbiB7XG4gIEFFUyA9IDEsXG4gIEFFU19QUklWQVRFLFxuICBTU19WMzEsXG4gIFNTX1YzMixcbiAgU1NfVjMzLFxuICBTU19WMixcbiAgU1NfVjEsXG4gIFVOS05PV05cbn1cblxuY29uc3QgcF9zYWx0XzEgPSBuZXcgVWludDhBcnJheShbXG4gIDB4YmYsIDB4YzAsIDB4ZDgsIDB4ZmEsIDB4N2EsIDB4ZjYsIDB4ZGMsIDB4NjEsIDB4MWYsIDB4ZmUsIDB4NjIsIDB4MWIsIDB4MDgsIDB4NDgsIDB4NDcsIDB4YjAsXG4gIDB4ODcsIDB4NjMsIDB4NjAsIDB4MTIsIDB4N2YsIDB4NjUsIDB4Y2IsIDB4NjgsIDB4ZDMsIDB4NjYsIDB4YmYsIDB4N2QsIDB4MjUsIDB4NDgsIDB4OTYsIDB4OWMsXG4gIDB4MzMsIDB4ZTUsIDB4NzksIDB4MjMsIDB4MTEsIDB4OTksIDB4OGQsIDB4YjEsIDB4NmUsIDB4ODMsIDB4OTYsIDB4ODAsIDB4YWMsIDB4ZmYsIDB4ZmUsIDB4MDYsXG4gIDB4MTIsIDB4OGMsIDB4MzcsIDB4M2UsIDB4ZWMsIDB4ZjksIDB4ODcsIDB4NDAsIDB4ODcsIDB4MGMsIDB4NzUsIDB4MDQsIDB4NTksIDB4OTUsIDB4YTgsIDB4ZDEsXG5dKTtcblxuY29uc3QgcF9zYWx0XzIgPSBuZXcgVWludDhBcnJheShbXG4gIDB4ZjYsIDB4Y2MsIDB4MWEsIDB4ZTgsIDB4ZTgsIDB4NDYsIDB4ODEsIDB4NmQsIDB4ZGYsIDB4OTIsIDB4YTksIDB4ZjIsIDB4MTcsIDB4ZjEsIDB4NjksIDB4OTEsXG4gIDB4MzIsIDB4YzQsIDB4YTUsIDB4MmEsIDB4ZmUsIDB4NzgsIDB4MDMsIDB4MzYsIDB4ZjQsIDB4Y2YsIDB4ZDEsIDB4NTUsIDB4MzUsIDB4MDYsIDB4OGEsIDB4NmEsXG4gIDB4YWYsIDB4OTQsIDB4MWYsIDB4Y2MsIDB4YmEsIDB4YmEsIDB4YTUsIDB4YjYsIDB4NTcsIDB4OGUsIDB4MzEsIDB4MGEsIDB4MjcsIDB4NmUsIDB4MWEsIDB4OWEsXG4gIDB4NTYsIDB4MzgsIDB4YWQsIDB4N2QsIDB4MTIsIDB4NDAsIDB4YzYsIDB4ZTEsIDB4NjMsIDB4NjMsIDB4NTMsIDB4NTIsIDB4YmYsIDB4ODYsIDB4NGMsIDB4YWEsXG5dKTtcblxuLy8vIFRoZSBzYWx0IGFycmF5XG4vLy8gcmVhbCBzYWx0W2ldID0gc2FsdF8xW2ldIF4gc2FsdF8yW2ldXG5jb25zdCBzYWx0XzEgPSBVaW50OEFycmF5LmZyb20oW1xuICAweDUyLCAweDA5LCAweDZhLCAweGQ1LCAweDMwLCAweDM2LCAweGE1LCAweDM4LCAweGJmLCAweDQwLCAweGEzLCAweDllLCAweDgxLCAweGYzLCAweGQ3LCAweGZiLFxuICAweDdjLCAweGUzLCAweDM5LCAweDgyLCAweDliLCAweDJmLCAweGZmLCAweDg3LCAweDM0LCAweDhlLCAweDQzLCAweDQ0LCAweGM0LCAweGRlLCAweGU5LCAweGNiLFxuICAweDU0LCAweDdiLCAweDk0LCAweDMyLCAweGE2LCAweGMyLCAweDIzLCAweDNkLCAweGVlLCAweDRjLCAweDk1LCAweDBiLCAweDQyLCAweGZhLCAweGMzLCAweDRlLFxuICAweDA4LCAweDJlLCAweGExLCAweDY2LCAweDI4LCAweGQ5LCAweDI0LCAweGIyLCAweDc2LCAweDViLCAweGEyLCAweDQ5LCAweDZkLCAweDhiLCAweGQxLCAweDI1XG5dKTtcblxuY29uc3Qgc2FsdF8yID0gVWludDhBcnJheS5mcm9tKFtcbiAgMHgxZiwgMHhkZCwgMHhhOCwgMHgzMywgMHg4OCwgMHgwNywgMHhjNywgMHgzMSwgMHhiMSwgMHgxMiwgMHgxMCwgMHg1OSwgMHgyNywgMHg4MCwgMHhlYywgMHg1ZixcbiAgMHg2MCwgMHg1MSwgMHg3ZiwgMHhhOSwgMHgxOSwgMHhiNSwgMHg0YSwgMHgwZCwgMHgyZCwgMHhlNSwgMHg3YSwgMHg5ZiwgMHg5MywgMHhjOSwgMHg5YywgMHhlZixcbiAgMHhhMCwgMHhlMCwgMHgzYiwgMHg0ZCwgMHhhZSwgMHgyYSwgMHhmNSwgMHhiMCwgMHhjOCwgMHhlYiwgMHhiYiwgMHgzYywgMHg4MywgMHg1MywgMHg5OSwgMHg2MSxcbiAgMHgxNywgMHgyYiwgMHgwNCwgMHg3ZSwgMHhiYSwgMHg3NywgMHhkNiwgMHgyNiwgMHhlMSwgMHg2OSwgMHgxNCwgMHg2MywgMHg1NSwgMHgyMSwgMHgwYywgMHg3ZFxuXSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBsb2dTYWx0KFxuICBzYWx0TGVuZ3RoOiBudW1iZXIsXG4gIHZlcnNpb246IEVuY3J5cHRWZXJzaW9uID0gRW5jcnlwdFZlcnNpb24uQUVTXG4pOiBVaW50OEFycmF5IHtcbiAgY29uc3Qgc2xhdCA9IG5ldyBVaW50OEFycmF5KHNhbHRMZW5ndGgpO1xuICBpZiAodmVyc2lvbiA9PT0gRW5jcnlwdFZlcnNpb24uQUVTX1BSSVZBVEUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNhbHRMZW5ndGg7IGkrKykge1xuICAgICAgICBzbGF0W2ldID0gcF9zYWx0XzFbaV0gXiBwX3NhbHRfMltpXTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodmVyc2lvbiA9PT0gRW5jcnlwdFZlcnNpb24uQUVTKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYWx0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc2xhdFtpXSA9IHNhbHRfMVtpXSBeIHNhbHRfMltpXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNsYXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBsb2dBZXNLZXkoXG4gIGtleTogVWludDhBcnJheSxcbiAgYWVzS2V5TGVuZ3RoOiBudW1iZXIsXG4gIGl2TGVuZ3RoOiBudW1iZXIsXG4gIHZlcnNpb246IEVuY3J5cHRWZXJzaW9uID0gRW5jcnlwdFZlcnNpb24uQUVTXG4pOiB7IGFlc0tleTogVWludDhBcnJheSwgaXY6IFVpbnQ4QXJyYXkgfSB7XG4gIGNvbnN0IGJ1ZmZlckxlbmd0aCA9IFNIQTUxMl9IQVNIX1NJWkUgKyBLRVlfU0FMVF9TSVpFO1xuICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheShidWZmZXJMZW5ndGgpO1xuXG4gIGNvbnN0IGtleUhhc2ggPSBzaGE1MTJDYWxjdWxhdGUoa2V5KTtcbiAgY29uc3Qgc2FsdCA9IGFwcGxvZ1NhbHQoS0VZX1NBTFRfU0laRSwgdmVyc2lvbik7XG5cbiAgYnVmZmVyLnNldChrZXlIYXNoLCAwKTtcbiAgYnVmZmVyLnNldChzYWx0LCBTSEE1MTJfSEFTSF9TSVpFKTtcblxuICAvLyDorqHnrpcgYnVmZmVyIOeahOWTiOW4jOWAvOW5tuimhuebliBidWZmZXIg55qE5byA5aS06YOo5YiGXG4gIGNvbnN0IGJ1ZmZlckhhc2ggPSBzaGE1MTJDYWxjdWxhdGUoYnVmZmVyKTtcbiAgYnVmZmVyLnNldChidWZmZXJIYXNoLCAwKTtcblxuICBjb25zdCBhZXNLZXkgPSBidWZmZXIuc2xpY2UoMCwgYWVzS2V5TGVuZ3RoKTtcbiAgY29uc3QgaXYgPSBidWZmZXIuc2xpY2UoYWVzS2V5TGVuZ3RoLCBhZXNLZXlMZW5ndGggKyBpdkxlbmd0aCk7XG5cbiAgcmV0dXJuIHsgYWVzS2V5LCBpdiB9O1xufVxuIiwiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuaW1wb3J0IHsgQUVTX0JMT0NLX1NJWkUgfSBmcm9tICcuLi9iYXNlL2Flc19iYXNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFlc0NiY0RlY3J5cHRXaXRoS2V5KFxuICBhZXNLZXk6IFVpbnQ4QXJyYXksXG4gIGl2OiBVaW50OEFycmF5LFxuICBpbkJ1ZmZlcjogVWludDhBcnJheSxcbik6IFVpbnQ4QXJyYXkge1xuICBpZiAoaW5CdWZmZXIubGVuZ3RoICUgQUVTX0JMT0NLX1NJWkUgIT09IDApIHtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gIH1cblxuICBjb25zdCBkZWNpcGhlciA9IGNyeXB0by5jcmVhdGVEZWNpcGhlcml2KCdhZXMtMTI4LWNiYycsIGFlc0tleSwgaXYpO1xuICBjb25zdCBkZWNyeXB0ZWQgPSBCdWZmZXIuY29uY2F0KFtkZWNpcGhlci51cGRhdGUoQnVmZmVyLmZyb20oaW5CdWZmZXIpKSwgZGVjaXBoZXIuZmluYWwoKV0pO1xuICByZXR1cm4gVWludDhBcnJheS5mcm9tKGRlY3J5cHRlZCk7XG59IiwiaW1wb3J0IHsgS2V5U2l6ZSB9IGZyb20gJy4uL2Jhc2UvYWVzX2Jhc2UnO1xuaW1wb3J0IHsgQUVTX0NCQ19JVl9TSVpFIH0gZnJvbSAnLi4vYmFzZS9hZXNfY2JjJztcbmltcG9ydCB7IGFwcGxvZ0Flc0tleSwgQVBQX0hFQURfMywgQVBQX0hFQURfU0laRSwgQVBQX0hFQURfVkVSU0lPTl8xLCBBUFBfSEVBRF9WRVJTSU9OXzIsIEFQUF9IRUFEX1ZFUlNJT05fTSwgQVBQX01BR0lDXzAsIEFQUF9NQUdJQ18xLCBFbmNyeXB0VmVyc2lvbiwgS0VZX1NFRURfU0laRSwgUFBfSEVBRF8zLCBQUF9IRUFEX1ZFUlNJT05fMSwgUFBfSEVBRF9WRVJTSU9OXzIsIFBQX0hFQURfVkVSU0lPTl9NLCBQUF9NQUdJQ18wLCBQUF9NQUdJQ18xIH0gZnJvbSAnLi4vYmFzZS9hcHBfbG9nX2Flcyc7XG5pbXBvcnQgeyBTSEE1MTJfSEFTSF9TSVpFLCBzaGE1MTJDYWxjdWxhdGUgfSBmcm9tICcuLi9iYXNlL3NoYV81MTInO1xuaW1wb3J0IHsgYWVzQ2JjRGVjcnlwdFdpdGhLZXkgfSBmcm9tICcuL2Flc19jYmNfZCc7XG5cbmZ1bmN0aW9uIGFwcGxvZ0NoZWNrSGVhZGVyKGRhdGE6IFVpbnQ4QXJyYXkpOiBFbmNyeXB0VmVyc2lvbiB7XG4gIGlmIChcbiAgICBkYXRhWzJdID09PSBQUF9IRUFEX1ZFUlNJT05fTSAmJlxuICAgIGRhdGFbM10gPT09IFBQX0hFQURfMyAmJlxuICAgIGRhdGFbNF0gPT09IFBQX0hFQURfVkVSU0lPTl8xICYmXG4gICAgZGF0YVs1XSA9PT0gUFBfSEVBRF9WRVJTSU9OXzIgJiZcbiAgICBkYXRhWzBdID09PSBQUF9NQUdJQ18wICYmXG4gICAgZGF0YVsxXSA9PT0gUFBfTUFHSUNfMVxuICApIHtcbiAgICAgIHJldHVybiBFbmNyeXB0VmVyc2lvbi5BRVNfUFJJVkFURTtcbiAgfVxuXG4gIGlmIChkYXRhWzBdICE9PSBBUFBfTUFHSUNfMCB8fCBkYXRhWzFdICE9PSBBUFBfTUFHSUNfMSkge1xuICAgICAgcmV0dXJuIEVuY3J5cHRWZXJzaW9uLlVOS05PV047XG4gIH1cblxuICBpZiAoXG4gICAgZGF0YVsyXSA9PT0gQVBQX0hFQURfVkVSU0lPTl9NICYmXG4gICAgZGF0YVszXSA9PT0gQVBQX0hFQURfMyAmJlxuICAgIGRhdGFbNF0gPT09IEFQUF9IRUFEX1ZFUlNJT05fMSAmJlxuICAgIGRhdGFbNV0gPT09IEFQUF9IRUFEX1ZFUlNJT05fMlxuICApIHtcbiAgICByZXR1cm4gRW5jcnlwdFZlcnNpb24uQUVTO1xuICB9XG5cbiAgaWYgKGRhdGFbMl0gPT09IDB4MDMgJiYgZGF0YVszXSA8IDB4MTYpIHtcbiAgICBpZiAoZGF0YVs0XSA9PT0gMCAmJiBkYXRhWzVdID09PSAweDAxKSB7XG4gICAgICAgIHJldHVybiBFbmNyeXB0VmVyc2lvbi5TU19WMzE7XG4gICAgfVxuXG4gICAgaWYgKGRhdGFbNF0gPT09IDAgJiYgZGF0YVs1XSA9PT0gMHgwMikge1xuICAgICAgICByZXR1cm4gRW5jcnlwdFZlcnNpb24uU1NfVjMyO1xuICAgIH1cblxuICAgIGlmIChkYXRhWzRdID09PSAwICYmIGRhdGFbNV0gPT09IDB4MDMpIHtcbiAgICAgICAgcmV0dXJuIEVuY3J5cHRWZXJzaW9uLlNTX1YzMztcbiAgICB9XG4gIH1cblxuICBpZiAoZGF0YVsyXSA9PT0gMHgwMiAmJiBkYXRhWzNdIDwgMHgxNikge1xuICAgICAgcmV0dXJuIEVuY3J5cHRWZXJzaW9uLlNTX1YyO1xuICB9XG5cbiAgaWYgKGRhdGFbMl0gPT09IDB4MDEgJiYgZGF0YVszXSA8IDB4MTYpIHtcbiAgICAgIHJldHVybiBFbmNyeXB0VmVyc2lvbi5TU19WMTtcbiAgfVxuXG4gIHJldHVybiBFbmNyeXB0VmVyc2lvbi5VTktOT1dOO1xufVxuXG5mdW5jdGlvbiBhcHBsb2dHZXRIZWFkZXJLZXkoZGF0YTogVWludDhBcnJheSwga2V5TGVuZ3RoOiBudW1iZXIpOiB7XG4gIHZlcnNpb246IEVuY3J5cHRWZXJzaW9uO1xuICBrZXk6IFVpbnQ4QXJyYXk7XG59IHtcbiAgY29uc3QgdmVyc2lvbiA9IGFwcGxvZ0NoZWNrSGVhZGVyKGRhdGEpO1xuICBpZiAodmVyc2lvbiAhPT0gRW5jcnlwdFZlcnNpb24uQUVTICYmIHZlcnNpb24gIT09IEVuY3J5cHRWZXJzaW9uLkFFU19QUklWQVRFKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZlcnNpb246IEVuY3J5cHRWZXJzaW9uLlVOS05PV04sXG4gICAgICBrZXk6IG5ldyBVaW50OEFycmF5KDApLFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdmVyc2lvbixcbiAgICBrZXk6IGRhdGEuc2xpY2UoQVBQX0hFQURfU0laRSwgQVBQX0hFQURfU0laRSArIGtleUxlbmd0aCksXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGxvZ0RlY3J5cHQoZGF0YUluOiBVaW50OEFycmF5KTogVWludDhBcnJheSB7XG4gICAgY29uc3Qga2V5TGVuZ3RoID0gS0VZX1NFRURfU0laRTtcbiAgICBjb25zdCB7IHZlcnNpb24sIGtleSB9ID0gYXBwbG9nR2V0SGVhZGVyS2V5KGRhdGFJbiwga2V5TGVuZ3RoKTtcbiAgICBpZiAoa2V5Lmxlbmd0aCAhPT0gS0VZX1NFRURfU0laRSkge1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgfVxuXG4gICAgY29uc3QgYWVzS2V5TGVuZ3RoID0gS2V5U2l6ZS5BRVMxMjg7XG4gICAgY29uc3QgaXZMZW5ndGggPSBBRVNfQ0JDX0lWX1NJWkU7XG4gICAgY29uc3QgeyBhZXNLZXksIGl2IH0gPSBhcHBsb2dBZXNLZXkoa2V5LCBhZXNLZXlMZW5ndGgsIGl2TGVuZ3RoLCB2ZXJzaW9uKTtcblxuICAgIGNvbnN0IGJ1ZmZlck91dCA9IGFlc0NiY0RlY3J5cHRXaXRoS2V5KGFlc0tleSwgaXYsIGRhdGFJbi5zbGljZShLRVlfU0VFRF9TSVpFICsgQVBQX0hFQURfU0laRSkpO1xuICAgIGlmIChidWZmZXJPdXQubGVuZ3RoID4gMCkge1xuICAgICAgLy8vIGhhc2ggY2hlY2tcbiAgICAgIGNvbnN0IGhhc2ggPSBzaGE1MTJDYWxjdWxhdGUoYnVmZmVyT3V0LnNsaWNlKFNIQTUxMl9IQVNIX1NJWkUpKTtcblxuICAgICAgaWYgKG5ldyBBcnJheShTSEE1MTJfSEFTSF9TSVpFKS5ldmVyeSgoXywgaW5kZXgpID0+IGhhc2hbaW5kZXhdID09PSBidWZmZXJPdXRbaW5kZXhdKSkgeyBcbiAgICAgICAgICByZXR1cm4gYnVmZmVyT3V0LnNsaWNlKFNIQTUxMl9IQVNIX1NJWkUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xuICAgIH1cbn0iLCJmdW5jdGlvbiBzYWZlQmlnSW50KHZhbHVlOiBiaWdpbnQgfCBib29sZWFuIHwgbnVtYmVyIHwgc3RyaW5nIHwgdW5kZWZpbmVkLCBmYWxsYmFjazogYmlnaW50KTogYmlnaW50IHtcbiAgaWYodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiBCaWdJbnQodmFsdWUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRHJDYWNoZUluZm8ge1xuICBzdGF0aWMgRFJfQ0FDSEVfVkVSU0lPTiA9IDM7XG4gIHN0YXRpYyBTUExJVFRFUiA9IC8odmVyc2lvbj18ZHJfZGlkPXxpaWQ9fGFjdGl2ZV9zdWNjZXNzPXxhY3RpdmF0ZWQ9fHV1aWQ9fGxvb2tpX2RpZD18cm93X2RpZD0pLztcblxuICBzdGF0aWMgcGFyc2UodGV4dDogc3RyaW5nKTogRHJDYWNoZUluZm8ge1xuICAgIGNvbnN0IGZvcm1hdHMgPSB0ZXh0LnNwbGl0KERyQ2FjaGVJbmZvLlNQTElUVEVSKS5maWx0ZXIoQm9vbGVhbik7XG5cbiAgICBjb25zdCBwYXJ0czogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvcm1hdHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gZm9ybWF0c1tpXTtcbiAgICAgIGNvbnN0IG5leHQgPSBmb3JtYXRzW2kgKyAxXTtcbiAgICAgIGlmIChjdXJyZW50Lmxlbmd0aCA+IDEgJiYgY3VycmVudC5lbmRzV2l0aCgnPScpICYmICFuZXh0LmVuZHNXaXRoKCc9JykpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZm9ybWF0c1tpXS5zbGljZSgwLCAtMSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0ga2V5ID09PSAndXVpZCcgPyBuZXh0IDogbmV4dC5yZXBsYWNlKC9cXEQuKi8sICcnKTsgLy8g5aaC5p6c5LiN5piv5paH5pys55qE6K+d77yM5omU5o6J5Yy56YWN5Yiw55qE6Z2e5pWw5a2X5ZKM5LmL5ZCO55qE5a2X56ym77yM5aKe5Yqg5YGl5aOu5oCnXG4gICAgICAgIHBhcnRzW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IERyQ2FjaGVJbmZvKFxuICAgICAgcGFyc2VJbnQocGFydHMudmVyc2lvbiwgMTApIHx8IDAsXG4gICAgICBzYWZlQmlnSW50KHBhcnRzLmRyX2RpZCwgMG4pLFxuICAgICAgc2FmZUJpZ0ludChwYXJ0cy5paWQsIDBuKSxcbiAgICAgIHBhcnRzLmFjdGl2ZV9zdWNjZXNzID09PSAnMScsXG4gICAgICBwYXJ0cy5hY3RpdmF0ZWQgPT09ICcxJyxcbiAgICAgIHBhcnRzLnV1aWQgfHwgJycsXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBzdHJpbmdpZnkodmFsdWU6IERyQ2FjaGVJbmZvKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYHZlcnNpb249JHt2YWx1ZS52ZXJzaW9ufWRyX2RpZD0ke3ZhbHVlLmRldmljZUlkfWlpZD0ke3ZhbHVlLmluc3RhbGxJZH1hY3RpdmVfc3VjY2Vzcz0ke3ZhbHVlLmlzQWN0aXZlU3VjY2VzcyA/IDEgOiAwfWFjdGl2YXRlZD0ke3ZhbHVlLmlzQWN0aXZhdGVkID8gMSA6IDB9dXVpZD0ke3ZhbHVlLnV1aWR9YDtcbiAgfVxuXG4gIHB1YmxpYyB2ZXJzaW9uOiBudW1iZXI7IC8vIGludFxuICBwdWJsaWMgZGV2aWNlSWQ6IGJpZ2ludDsgLy8gdWludDY0X3RcbiAgcHVibGljIGluc3RhbGxJZDogYmlnaW50OyAvLyB1aW50NjRfdFxuICBwdWJsaWMgaXNBY3RpdmVTdWNjZXNzOiBib29sZWFuOyAvLyBpbnRcbiAgcHVibGljIGlzQWN0aXZhdGVkOiBib29sZWFuOyAvLyBpbnRcbiAgcHVibGljIHV1aWQ6IHN0cmluZzsgLy8gY2hhclsyNTZdXG5cbiAgY29uc3RydWN0b3IodmVyc2lvbjogbnVtYmVyLCBkaWQ6IGJpZ2ludCwgaWlkOiBiaWdpbnQsIGlzQWN0aXZlU3VjY2VzczogYm9vbGVhbiwgaXNBY3RpdmF0ZWQ6IGJvb2xlYW4sIHV1aWQ6IHN0cmluZykge1xuICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgdGhpcy5kZXZpY2VJZCA9IGRpZDtcbiAgICB0aGlzLmluc3RhbGxJZCA9IGlpZDtcbiAgICB0aGlzLmlzQWN0aXZlU3VjY2VzcyA9IGlzQWN0aXZlU3VjY2VzcztcbiAgICB0aGlzLmlzQWN0aXZhdGVkID0gaXNBY3RpdmF0ZWQ7XG4gICAgdGhpcy51dWlkID0gdXVpZDtcbiAgfVxuXG4gIHB1YmxpYyBpc1ZhbGlkVmVyc2lvbigpOiBib29sZWFuIHtcbiAgICAvLyDkuLvnur/liIbmlK/mmK8gM++8jOaUr+aMgSBsb29raSDnmoTliIbmlK/mmK8gNO+8jOiZveeEtuS4jeaUr+aMgSBsb29raSBpZO+8jOS9huWPr+S7peino+aekCBsb29raSDnmoQgY2FjaGVcbiAgICByZXR1cm4gdGhpcy52ZXJzaW9uID09PSBEckNhY2hlSW5mby5EUl9DQUNIRV9WRVJTSU9OIHx8IHRoaXMudmVyc2lvbiA9PT0gNDtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBEckNhY2hlSW5mby5zdHJpbmdpZnkodGhpcyk7XG4gIH1cbn0iLCJpbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZXNDYmNFbmNyeXB0V2l0aEtleShcbiAgYWVzS2V5OiBVaW50OEFycmF5LFxuICBpdjogVWludDhBcnJheSxcbiAgaW5CdWZmZXI6IFVpbnQ4QXJyYXlcbik6IFVpbnQ4QXJyYXkge1xuICBjb25zdCBjaXBoZXIgPSBjcnlwdG8uY3JlYXRlQ2lwaGVyaXYoJ2Flcy0xMjgtY2JjJywgYWVzS2V5LCBpdik7XG4gIGNvbnN0IGVuY3J5cHRlZCA9IEJ1ZmZlci5jb25jYXQoW2NpcGhlci51cGRhdGUoQnVmZmVyLmZyb20oaW5CdWZmZXIpKSwgY2lwaGVyLmZpbmFsKCldKTtcbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShlbmNyeXB0ZWQpO1xufSIsImltcG9ydCB7IEtleVNpemUgfSBmcm9tICcuLi9iYXNlL2Flc19iYXNlJztcbmltcG9ydCB7IEFFU19DQkNfSVZfU0laRSB9IGZyb20gJy4uL2Jhc2UvYWVzX2NiYyc7XG5pbXBvcnQgeyBhcHBsb2dBZXNLZXksIEFQUF9IRUFEXzMsIEFQUF9IRUFEX1NJWkUsIEFQUF9IRUFEX1ZFUlNJT05fMSwgQVBQX0hFQURfVkVSU0lPTl8yLCBBUFBfSEVBRF9WRVJTSU9OX00sIEFQUF9NQUdJQ18wLCBBUFBfTUFHSUNfMSwgS0VZX1NFRURfU0laRSB9IGZyb20gJy4uL2Jhc2UvYXBwX2xvZ19hZXMnO1xuaW1wb3J0IHsgU0hBNTEyX0hBU0hfU0laRSwgc2hhNTEyQ2FsY3VsYXRlIH0gZnJvbSAnLi4vYmFzZS9zaGFfNTEyJztcbmltcG9ydCB7IGFlc0NiY0VuY3J5cHRXaXRoS2V5IH0gZnJvbSAnLi9hZXNfY2JjX2UnO1xuXG5mdW5jdGlvbiBhcHBsb2dLZXlHZW5lcmF0ZShrZXlMZW5ndGg6IG51bWJlcik6IFVpbnQ4QXJyYXkge1xuICBjb25zdCBrZXkgPSBuZXcgVWludDhBcnJheShrZXlMZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGtleUxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXlbaV0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTYpO1xuICB9XG4gIHJldHVybiBrZXk7XG59XG5cbmZ1bmN0aW9uIGFwcGxvZ0hlYWRlcktleShrZXk6IFVpbnQ4QXJyYXkpIHtcbiAgY29uc3QgYnVmZmVyT3V0ID0gbmV3IFVpbnQ4QXJyYXkoa2V5Lmxlbmd0aCArIEFQUF9IRUFEX1NJWkUpO1xuICBidWZmZXJPdXRbMF0gPSBBUFBfTUFHSUNfMDtcbiAgYnVmZmVyT3V0WzFdID0gQVBQX01BR0lDXzE7XG4gIGJ1ZmZlck91dFsyXSA9IEFQUF9IRUFEX1ZFUlNJT05fTTtcbiAgYnVmZmVyT3V0WzNdID0gQVBQX0hFQURfMztcbiAgYnVmZmVyT3V0WzRdID0gQVBQX0hFQURfVkVSU0lPTl8xO1xuICBidWZmZXJPdXRbNV0gPSBBUFBfSEVBRF9WRVJTSU9OXzI7XG4gIGJ1ZmZlck91dC5zZXQoa2V5LCBBUFBfSEVBRF9TSVpFKTtcbiAgcmV0dXJuIGJ1ZmZlck91dDtcbn1cblxuZnVuY3Rpb24gYXBwbG9nRGVjb3JhdGVkSW50ZXJuYWwoZGF0YUluOiBVaW50OEFycmF5KTogVWludDhBcnJheSB7XG4gIGNvbnN0IGFlc0tleUxlbmd0aCA9IEtleVNpemUuQUVTMTI4OyAvLyBzaXplX3RcbiAgY29uc3QgaXZMZW5ndGggPSBBRVNfQ0JDX0lWX1NJWkU7IC8vIHNpemVfdFxuICBjb25zdCBrZXkgPSBhcHBsb2dLZXlHZW5lcmF0ZShLRVlfU0VFRF9TSVpFKTtcbiAgY29uc3QgeyBhZXNLZXksIGl2IH0gPSBhcHBsb2dBZXNLZXkoa2V5LCBhZXNLZXlMZW5ndGgsIGl2TGVuZ3RoKTtcblxuICBjb25zdCBlbmNyeXB0RGF0YSA9IG5ldyBVaW50OEFycmF5KFNIQTUxMl9IQVNIX1NJWkUgKyBkYXRhSW4ubGVuZ3RoKTsgIFxuICAvLy8gaGFzaCBjaGVja1xuICBjb25zdCBoYXNoID0gc2hhNTEyQ2FsY3VsYXRlKGRhdGFJbik7XG4gIGVuY3J5cHREYXRhLnNldChoYXNoLCAwKTtcbiAgLy8vIG9yaWdpbmFsIGRhdGFcbiAgZW5jcnlwdERhdGEuc2V0KGRhdGFJbiwgU0hBNTEyX0hBU0hfU0laRSk7XG5cbiAgY29uc3QgaGVhZGVyID0gYXBwbG9nSGVhZGVyS2V5KGtleSk7XG4gIGNvbnN0IGJvZHkgPSBhZXNDYmNFbmNyeXB0V2l0aEtleShhZXNLZXksIGl2LCBlbmNyeXB0RGF0YSk7XG4gIGlmIChib2R5Lmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBidWZmZXJPdXQgPSBuZXcgVWludDhBcnJheShoZWFkZXIubGVuZ3RoICsgYm9keS5sZW5ndGgpO1xuICAgIGJ1ZmZlck91dC5zZXQoaGVhZGVyLCAwKTtcbiAgICBidWZmZXJPdXQuc2V0KGJvZHksIGhlYWRlci5sZW5ndGgpO1xuICAgIHJldHVybiBidWZmZXJPdXQ7XG4gIH1cbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwbG9nRGVjb3JhdGVkKGRhdGFJbjogVWludDhBcnJheSk6IFVpbnQ4QXJyYXkge1xuICByZXR1cm4gYXBwbG9nRGVjb3JhdGVkSW50ZXJuYWwoZGF0YUluKTtcbn0iLCJpbXBvcnQgUmVnaXN0cnkgZnJvbSAnd2lucmVnJztcbmltcG9ydCB7IGFwcGxvZ0RlY3J5cHQgfSBmcm9tICcuLi9jcnlwdG9yL2RlY3J5cHQvYXBwX2xvZ19hZXNfZCc7XG5pbXBvcnQgeyBEckNhY2hlSW5mbyB9IGZyb20gJy4vY29tbW9uJztcbmltcG9ydCB7IGFwcGxvZ0RlY29yYXRlZCB9IGZyb20gJy4uL2NyeXB0b3IvZW5jcnlwdC9hcHBfbG9nX2Flc19lJztcblxuLy8gdHlwZSBSZWdWYWx1ZVR5cGUgPSBzdHJpbmcgfCBzdHJpbmdbXSB8IG51bWJlciB8IGJpZ2ludCB8IEJ1ZmZlciB8IHVuZGVmaW5lZDtcblxuLy8gUkVHX1NaIC0+IHZhbHVlXG4vLyBSRUdfTVVMVElfU1ogLT4gdmFsdWUuc3BsaXQoJywnKVxuLy8gUkVHX0VYUEFORF9TWiAtPiB2YWx1ZVxuLy8gUkVHX0RXT1JEIC0+IHBhcnNlSW50KHZhbHVlLCAxNilcbi8vIFJFR19RV09SRCAtPiBCaWdJbnQodmFsdWUpXG4vLyBSRUdfQklOQVJZIC0+IEJ1ZmZlci5mcm9tKHZhbHVlLCAnaGV4Jylcbi8vIFJFR19OT05FIC0+IHVuZGVmaW5lZFxuXG4vLyBvbmx5IHN1cHBvcnQgYnVmZmVyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVhZFZhbHVlRnJvbVJlZyhyZWdQYXRoOiBzdHJpbmcsIGtleU5hbWU6IHN0cmluZyk6IFByb21pc2U8QnVmZmVyIHwgdW5kZWZpbmVkPiB7XG4gIGNvbnN0IHJlZyA9IG5ldyBSZWdpc3RyeSh7XG4gICAgaGl2ZTogUmVnaXN0cnkuSEtDVSwgLy8gSEtFWV9DVVJSRU5UX1VTRVJcbiAgICBrZXk6IHJlZ1BhdGgsXG4gIH0pO1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICByZWcuZ2V0KGtleU5hbWUsIChlcnI6IEVycm9yLCByZXN1bHQpID0+IHtcbiAgICAgIGlmIChlcnIgfHwgcmVzdWx0LnR5cGUgIT09IFJlZ2lzdHJ5LlJFR19CSU5BUlkpIHtcbiAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZShCdWZmZXIuZnJvbShyZXN1bHQudmFsdWUsICdoZXgnKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vLyBvbmx5IHN1cHBvcnQgYnVmZmVyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd3JpdGVWYWx1ZVRvUmVnKHJlZ1BhdGg6IHN0cmluZywga2V5TmFtZTogc3RyaW5nLCB2YWx1ZTogQnVmZmVyKSB7XG4gIGNvbnN0IHJlZyA9IG5ldyBSZWdpc3RyeSh7XG4gICAgaGl2ZTogUmVnaXN0cnkuSEtDVSwgLy8gSEtFWV9DVVJSRU5UX1VTRVJcbiAgICBrZXk6IHJlZ1BhdGgsXG4gIH0pO1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJlZy5zZXQoa2V5TmFtZSwgUmVnaXN0cnkuUkVHX0JJTkFSWSwgdmFsdWUudG9TdHJpbmcoJ2hleCcpLCAoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmNvbnN0IERSX0NBQ0hFX1JFR19LRVkgPSAnSW5mbyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkckNhY2hlTG9hZChjYWNoZVBhdGg6IHN0cmluZyk6IFByb21pc2U8RHJDYWNoZUluZm8gfCB1bmRlZmluZWQ+IHtcbiAgY29uc3QgYnVmZmVyID0gYXdhaXQgcmVhZFZhbHVlRnJvbVJlZyhjYWNoZVBhdGgsIERSX0NBQ0hFX1JFR19LRVkpO1xuICBpZiAoYnVmZmVyKSB7XG4gICAgICBjb25zdCBkZWNEYXRhID0gYXBwbG9nRGVjcnlwdChuZXcgVWludDhBcnJheShidWZmZXIpKTtcbiAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JykuZGVjb2RlKGRlY0RhdGEpO1xuICAgICAgaWYgKGRhdGEuc3RhcnRzV2l0aCgndmVyc2lvbicpKSB7XG4gICAgICAgIGNvbnN0IGRyQ2FjaGVJbmZvID0gRHJDYWNoZUluZm8ucGFyc2UoZGF0YSk7XG4gICAgICAgIGlmIChkckNhY2hlSW5mby5pc1ZhbGlkVmVyc2lvbigpKSB7XG4gICAgICAgICAgcmV0dXJuIGRyQ2FjaGVJbmZvO1xuICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRyQ2FjaGVTdG9yZShkckNhY2hlSW5mbzogRHJDYWNoZUluZm8sIGNhY2hlUGF0aDogc3RyaW5nKSB7XG4gIGlmICghZHJDYWNoZUluZm8uaXNWYWxpZFZlcnNpb24oKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignZHJDYWNoZUluZm8gdmVyc2lvbiBpcyBub3QgY3VycmVudCB2ZXJzaW9uJyk7XG4gIH1cbiAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmZyb20oZHJDYWNoZUluZm8udG9TdHJpbmcoKSwgJ3V0Zi04JykpO1xuICBjb25zdCBlbmNEYXRhID0gYXBwbG9nRGVjb3JhdGVkKGJ1ZmZlcik7XG4gIGF3YWl0IHdyaXRlVmFsdWVUb1JlZyhjYWNoZVBhdGgsIERSX0NBQ0hFX1JFR19LRVksIEJ1ZmZlci5mcm9tKGVuY0RhdGEpKTtcbn1cbiIsImltcG9ydCB7IERSX1RBUkdFVF9QTEFURk9STSwgRHJQbGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtJztcbmltcG9ydCBvcyBmcm9tICdvcyc7XG5pbXBvcnQgeyByZWFkVmFsdWVGcm9tUmVnLCB3cml0ZVZhbHVlVG9SZWcgfSBmcm9tICcuLi9jYWNoZS93aW5kb3dzJztcbmltcG9ydCB7IG1lbW9pemUgfSBmcm9tICcuL3V0aWxzJztcblxuY29uc3QgREVGQVVMVF9NQUNfQUREUkVTUyA9ICcwMjowMDowMDowMDowMDowMCc7XG5cbmNvbnN0IGludmFsaWRNYWNBZGRyZXNzZXMgPSBuZXcgU2V0KFtcbiAgJzAwOjAwOjAwOjAwOjAwOjAwJyxcbiAgJ2ZmOmZmOmZmOmZmOmZmOmZmJyxcbiAgJ2FjOmRlOjQ4OjAwOjExOjIyJ1xuXSk7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlTWFjQWRkcmVzcyhjYW5kaWRhdGU6IHN0cmluZykge1xuICBjb25zdCB0ZW1wQ2FuZGlkYXRlID0gY2FuZGlkYXRlLnJlcGxhY2UoL1xcLS9nLCAnOicpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAhaW52YWxpZE1hY0FkZHJlc3Nlcy5oYXModGVtcENhbmRpZGF0ZSk7XG59XG5cbmZ1bmN0aW9uIGdldE1hY0FkZHJlc3NPbk1hYygpOiBzdHJpbmcge1xuICBjb25zdCBwcmVmZXJyZWROSUNzID0gWydlbjAnLCAnZW4xJywgJ2VuMicsICdsbHcwJ107XG4gIGNvbnN0IGlmYWNlcyA9IG9zLm5ldHdvcmtJbnRlcmZhY2VzKCk7XG4gIGZvciAoY29uc3QgcHJlZmVycmVkTklDIG9mIHByZWZlcnJlZE5JQ3MpIHtcbiAgICBjb25zdCBuZXR3b3JrSW50ZXJmYWNlID0gaWZhY2VzW3ByZWZlcnJlZE5JQ107XG4gICAgaWYgKG5ldHdvcmtJbnRlcmZhY2UpIHtcbiAgICAgIGZvciAoY29uc3QgeyBtYWMsIGludGVybmFsIH0gb2YgbmV0d29ya0ludGVyZmFjZSkge1xuICAgICAgICBpZiAoIWludGVybmFsICYmIHZhbGlkYXRlTWFjQWRkcmVzcyhtYWMpKSB7XG4gICAgICAgICAgcmV0dXJuIG1hYztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBERUZBVUxUX01BQ19BRERSRVNTOyAvLyDpg73msqHmnInlsLHnrpfkuoZcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TWFjQWRkcmVzc09uV2luZG93cygpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBjYWNoZVBhdGggPSAnXFxcXFNPRlRXQVJFXFxcXERldmljZUluZm9cXFxcTWFjQWRkcic7XG4gIGNvbnN0IGNhY2hlID0gYXdhaXQgcmVhZFZhbHVlRnJvbVJlZyhjYWNoZVBhdGgsICdtYWMnKTtcbiAgaWYgKGNhY2hlKSB7XG4gICAgcmV0dXJuIGNhY2hlLnRvU3RyaW5nKCd1dGYtOCcpO1xuICB9XG5cbiAgY29uc3QgaWZhY2VzID0gb3MubmV0d29ya0ludGVyZmFjZXMoKTtcblxuICAvLyBUT0RPIOmcgOimgeS8mOWMliB3aW5kb3dzIOS4iuWPliBtYWMg6YC76L6RXG4gIGZvciAoY29uc3QgbmFtZSBpbiBpZmFjZXMpIHtcbiAgICBjb25zdCBuZXR3b3JrSW50ZXJmYWNlID0gaWZhY2VzW25hbWVdO1xuICAgIGlmIChuZXR3b3JrSW50ZXJmYWNlKSB7XG4gICAgICBmb3IgKGNvbnN0IHsgbWFjLCBpbnRlcm5hbCB9IG9mIG5ldHdvcmtJbnRlcmZhY2UpIHtcbiAgICAgICAgaWYgKCFpbnRlcm5hbCAmJiB2YWxpZGF0ZU1hY0FkZHJlc3MobWFjKSkge1xuICAgICAgICAgICAgd3JpdGVWYWx1ZVRvUmVnKGNhY2hlUGF0aCwgJ21hYycsIEJ1ZmZlci5mcm9tKG1hYywgJ3V0Zi04JykpO1xuICAgICAgICAgICAgcmV0dXJuIG1hYztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBERUZBVUxUX01BQ19BRERSRVNTOyAvLyDpg73msqHmnInlsLHnrpfkuoZcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hY0FkZHJlc3NPbkxpbnV4KCk6IHN0cmluZyB7XG4gIGNvbnN0IHByZWZlcnJlZE5JQ3MgPSBbJ3dsYW4wJywgJ2V0aDAnLCAnZXRoMScsICdldGgyJ107XG4gIGNvbnN0IGlmYWNlcyA9IG9zLm5ldHdvcmtJbnRlcmZhY2VzKCk7XG4gIGZvciAoY29uc3QgcHJlZmVycmVkTklDIG9mIHByZWZlcnJlZE5JQ3MpIHtcbiAgICBjb25zdCBuZXR3b3JrSW50ZXJmYWNlID0gaWZhY2VzW3ByZWZlcnJlZE5JQ107XG4gICAgaWYgKG5ldHdvcmtJbnRlcmZhY2UpIHtcbiAgICAgIGZvciAoY29uc3QgeyBtYWMsIGludGVybmFsIH0gb2YgbmV0d29ya0ludGVyZmFjZSkge1xuICAgICAgICBpZiAoIWludGVybmFsICYmIHZhbGlkYXRlTWFjQWRkcmVzcyhtYWMpKSB7XG4gICAgICAgICAgcmV0dXJuIG1hYztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBERUZBVUxUX01BQ19BRERSRVNTOyAvLyDpg73msqHmnInlsLHnrpfkuoZcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE1hY0FkZHJlc3MoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgc3dpdGNoKERSX1RBUkdFVF9QTEFURk9STSkge1xuICAgIGNhc2UgRHJQbGF0Zm9ybS5NQUM6XG4gICAgICByZXR1cm4gZ2V0TWFjQWRkcmVzc09uTWFjKCk7XG4gICAgY2FzZSBEclBsYXRmb3JtLldJTjpcbiAgICAgIHJldHVybiBhd2FpdCBnZXRNYWNBZGRyZXNzT25XaW5kb3dzKCk7XG4gICAgY2FzZSBEclBsYXRmb3JtLkxJTlVYOlxuICAgICAgcmV0dXJuIGdldE1hY0FkZHJlc3NPbkxpbnV4KCk7XG4gIH1cbiAgcmV0dXJuIERFRkFVTFRfTUFDX0FERFJFU1M7XG59XG5cbmV4cG9ydCBjb25zdCBtZW1vaXplZEdldE1hY0FkZHJlc3MgPSBtZW1vaXplKGdldE1hY0FkZHJlc3MpOyIsImltcG9ydCBzeXN0ZW1JbmZvcm1hdGlvbiBmcm9tICdzeXN0ZW1pbmZvcm1hdGlvbic7XG5pbXBvcnQgeyBtZW1vaXplIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgb3MgZnJvbSAnb3MnO1xuaW1wb3J0IHsgRFJfVEFSR0VUX1BMQVRGT1JNLCBEclBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0nO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0T3NSZWxlYXNlKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gIGlmIChEUl9UQVJHRVRfUExBVEZPUk0gPT09IERyUGxhdGZvcm0uV0lOKSB7XG4gICAgcmV0dXJuIG9zLnJlbGVhc2UoKTsgLy8gd2luZG93cyDkuIrmmK/nm7jlkIznmoRcbiAgfVxuICAvLyBwb3NpeCDns7vnu5/kuIogb3MgcmVsZWFzZSDkuI4ga2VybmVsIHZlcnNpb24g5LiN562J5ZCMXG4gIGNvbnN0IG9zSW5mbyA9IGF3YWl0IHN5c3RlbUluZm9ybWF0aW9uLm9zSW5mbygpO1xuICByZXR1cm4gb3NJbmZvLnJlbGVhc2U7XG59XG5cbmV4cG9ydCBjb25zdCBtZW1vaXplZEdldE9zUmVsZWFzZSA9IG1lbW9pemUoZ2V0T3NSZWxlYXNlKTtcbiIsImltcG9ydCB7IG1lbW9pemUgfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpbWVab25lSW5mbygpIHtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gIGNvbnN0IG9mZnNldCA9IC1kYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gIHJldHVybiB7XG4gICAgdGltZVpvbmU6IG9mZnNldCAvIDYwLFxuICAgIHR6T2Zmc2V0OiBvZmZzZXQgKiA2MCxcbiAgICB0ek5hbWU6IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZS50b0xvY2FsZUxvd2VyQ2FzZSgpLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgbWVtb2l6ZWRHZXRUaW1lWm9uZUluZm8gPSBtZW1vaXplKGdldFRpbWVab25lSW5mbyk7XG4iLCJleHBvcnQgY29uc3QgU0RLX1ZFUlNJT05fTUFKT1IgPSAwO1xuZXhwb3J0IGNvbnN0IFNES19WRVJTSU9OX01JTk9SID0gMDtcbmV4cG9ydCBjb25zdCBTREtfVkVSU0lPTl9QQVRDSCA9IDI7XG5cbmV4cG9ydCBjb25zdCBTREtfVkVSU0lPTl9DT0RFID0gU0RLX1ZFUlNJT05fTUFKT1IgKiAxMDAgKyBTREtfVkVSU0lPTl9NSU5PUiAqIDEwICsgU0RLX1ZFUlNJT05fUEFUQ0g7XG5cbmV4cG9ydCBjb25zdCBTREtfVkVSU0lPTl9OQU1FID0gYCR7U0RLX1ZFUlNJT05fTUFKT1J9LiR7U0RLX1ZFUlNJT05fTUlOT1J9LiR7U0RLX1ZFUlNJT05fUEFUQ0h9YDtcbiIsImltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gJ3V0aWwnO1xuaW1wb3J0IGNoaWxkX3Byb2Nlc3MgZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5pbXBvcnQgeyBEckNhY2hlSW5mbyB9IGZyb20gJy4vY29tbW9uJztcbmltcG9ydCB7IGFwcGxvZ0RlY3J5cHQgfSBmcm9tICcuLi9jcnlwdG9yL2RlY3J5cHQvYXBwX2xvZ19hZXNfZCc7XG5pbXBvcnQgeyBhcHBsb2dEZWNvcmF0ZWQgfSBmcm9tICcuLi9jcnlwdG9yL2VuY3J5cHQvYXBwX2xvZ19hZXNfZSc7XG5cbmNvbnN0IGV4ZWNBc3luYyA9IHByb21pc2lmeShjaGlsZF9wcm9jZXNzLmV4ZWMpO1xuXG5mdW5jdGlvbiBjYlBhcnNlS2V5Y2hhaW5Mb2FkKHJlc3VsdDogc3RyaW5nKTogRHJDYWNoZUluZm8gfCB1bmRlZmluZWQge1xuICBjb25zdCBiNjREZWNvZGVEYXRhID0gbmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmZyb20ocmVzdWx0LCAnYmFzZTY0JykpO1xuICBjb25zdCBkZWNEYXRhID0gYXBwbG9nRGVjcnlwdChiNjREZWNvZGVEYXRhKTtcbiAgY29uc3QgZGF0YSA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKS5kZWNvZGUoZGVjRGF0YSk7XG5cbiAgaWYgKGRhdGEuc3RhcnRzV2l0aCgndmVyc2lvbicpKSB7XG4gICAgY29uc3QgZHJDYWNoZUluZm8gPSBEckNhY2hlSW5mby5wYXJzZShkYXRhKTtcbiAgICBpZiAoZHJDYWNoZUluZm8uaXNWYWxpZFZlcnNpb24oKSkge1xuICAgICAgcmV0dXJuIGRyQ2FjaGVJbmZvO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZHJDYWNoZUxvYWQobmFtZTogc3RyaW5nKTogUHJvbWlzZTxEckNhY2hlSW5mbyB8IHVuZGVmaW5lZD4ge1xuICBjb25zdCBjb21tYW5kID0gYHNlY3VyaXR5IC1pIGZpbmQtZ2VuZXJpYy1wYXNzd29yZCAtbCAnQkRkcl8ke25hbWV9JyAtYSBJbmZvIC13YDtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHN0ZG91dCB9ID0gYXdhaXQgZXhlY0FzeW5jKGNvbW1hbmQpO1xuICAgIHJldHVybiBjYlBhcnNlS2V5Y2hhaW5Mb2FkKHN0ZG91dC50b1N0cmluZygpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkckNhY2hlU3RvcmUoZHJDYWNoZUluZm86IERyQ2FjaGVJbmZvLCBuYW1lOiBzdHJpbmcpIHtcbiAgaWYgKCFkckNhY2hlSW5mby5pc1ZhbGlkVmVyc2lvbigpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkckNhY2hlSW5mbyB2ZXJzaW9uIGlzIG5vdCBjdXJyZW50IHZlcnNpb24nKTtcbiAgfVxuICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheShCdWZmZXIuZnJvbShkckNhY2hlSW5mby50b1N0cmluZygpLCAndXRmLTgnKSk7XG4gIGNvbnN0IGVuY0RhdGEgPSBhcHBsb2dEZWNvcmF0ZWQoYnVmZmVyKTtcbiAgY29uc3QgYjY0T3V0U3RyID0gQnVmZmVyLmZyb20oZW5jRGF0YSkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICBjb25zdCBjb21tYW5kID0gYHNlY3VyaXR5IGFkZC1nZW5lcmljLXBhc3N3b3JkIC1zICdCRGRyXyR7bmFtZX0nIC1hIEluZm8gLVUgLXcgJHtiNjRPdXRTdHJ9YDtcbiAgYXdhaXQgZXhlY0FzeW5jKGNvbW1hbmQpO1xufVxuXG4iLCJpbXBvcnQgZnMgZnJvbSAnZnMvcHJvbWlzZXMnO1xuaW1wb3J0IHsgYXBwbG9nRGVjcnlwdCB9IGZyb20gJy4uL2NyeXB0b3IvZGVjcnlwdC9hcHBfbG9nX2Flc19kJztcbmltcG9ydCB7IGFwcGxvZ0RlY29yYXRlZCB9IGZyb20gJy4uL2NyeXB0b3IvZW5jcnlwdC9hcHBfbG9nX2Flc19lJztcbmltcG9ydCB7IERyQ2FjaGVJbmZvIH0gZnJvbSAnLi9jb21tb24nO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZHJDYWNoZUxvYWQoY2FjaGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPERyQ2FjaGVJbmZvIHwgdW5kZWZpbmVkPiB7XG4gIGlmICghY2FjaGVQYXRoKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHRyeSB7XG4gICAgYXdhaXQgZnMuYWNjZXNzKGNhY2hlUGF0aCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheShhd2FpdCBmcy5yZWFkRmlsZShjYWNoZVBhdGgpKTtcbiAgY29uc3QgZGVjRGF0YSA9IGFwcGxvZ0RlY3J5cHQoYnVmZmVyKTtcbiAgY29uc3QgZGF0YSA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKS5kZWNvZGUoZGVjRGF0YSk7XG4gIGlmIChkYXRhLnN0YXJ0c1dpdGgoJ3ZlcnNpb24nKSkge1xuICAgIGNvbnN0IGRyQ2FjaGVJbmZvID0gRHJDYWNoZUluZm8ucGFyc2UoZGF0YSk7XG4gICAgaWYgKGRyQ2FjaGVJbmZvLmlzVmFsaWRWZXJzaW9uKCkpIHtcbiAgICAgIHJldHVybiBkckNhY2hlSW5mbztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZHJDYWNoZVN0b3JlKGRyQ2FjaGVJbmZvOiBEckNhY2hlSW5mbywgY2FjaGVQYXRoOiBzdHJpbmcpIHtcbiAgaWYgKCFkckNhY2hlSW5mby5pc1ZhbGlkVmVyc2lvbigpIHx8ICFjYWNoZVBhdGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RyQ2FjaGVJbmZvIHZlcnNpb24gaXMgbm90IGN1cnJlbnQgdmVyc2lvbicpO1xuICB9XG4gIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KEJ1ZmZlci5mcm9tKGRyQ2FjaGVJbmZvLnRvU3RyaW5nKCksICd1dGYtOCcpKTtcbiAgY29uc3QgZW5jRGF0YSA9IGFwcGxvZ0RlY29yYXRlZChidWZmZXIpO1xuICBhd2FpdCBmcy53cml0ZUZpbGUoY2FjaGVQYXRoLCBlbmNEYXRhKTtcbn1cbiIsImltcG9ydCB7IERSX1RBUkdFVF9QTEFURk9STSwgRHJQbGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtJztcbmltcG9ydCB7IERyQ2FjaGVJbmZvIH0gZnJvbSAnLi9jb21tb24nO1xuXG5pbXBvcnQgeyBkckNhY2hlTG9hZCBhcyBkckNhY2hlTG9hZE1hYywgZHJDYWNoZVN0b3JlIGFzIGRyQ2FjaGVTdG9yZU1hYyB9IGZyb20gJy4vbWFjJztcbmltcG9ydCB7IGRyQ2FjaGVMb2FkIGFzIGRyQ2FjaGVMb2FkV2luLCBkckNhY2hlU3RvcmUgYXMgZHJDYWNoZVN0b3JlV2luIH0gZnJvbSAnLi93aW5kb3dzJztcbmltcG9ydCB7IGRyQ2FjaGVMb2FkIGFzIGRyQ2FjaGVMb2FkTGludXgsIGRyQ2FjaGVTdG9yZSBhcyBkckNhY2hlU3RvcmVMaW51eCB9IGZyb20gJy4vbGludXgnO1xuXG5leHBvcnQge1xuICBkckNhY2hlTG9hZE1hYyxcbiAgZHJDYWNoZVN0b3JlTWFjLFxuICBkckNhY2hlTG9hZExpbnV4LFxuICBkckNhY2hlU3RvcmVMaW51eCxcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRyQ2FjaGVMb2FkKG5hbWU/OiBzdHJpbmcsIGNhY2hlUGF0aD86IHN0cmluZyk6IFByb21pc2U8RHJDYWNoZUluZm8gfCB1bmRlZmluZWQ+IHtcbiAgaWYgKERSX1RBUkdFVF9QTEFURk9STSA9PT0gRHJQbGF0Zm9ybS5NQUMgJiYgbmFtZSkge1xuICAgIHJldHVybiBhd2FpdCBkckNhY2hlTG9hZE1hYyhuYW1lKTtcbiAgfSBlbHNlIGlmIChEUl9UQVJHRVRfUExBVEZPUk0gPT09IERyUGxhdGZvcm0uV0lOICYmIGNhY2hlUGF0aCkge1xuICAgIHJldHVybiBhd2FpdCBkckNhY2hlTG9hZFdpbihjYWNoZVBhdGgpO1xuICB9IGVsc2UgaWYgKERSX1RBUkdFVF9QTEFURk9STSA9PT0gRHJQbGF0Zm9ybS5MSU5VWCAmJiBjYWNoZVBhdGgpIHtcbiAgICByZXR1cm4gYXdhaXQgZHJDYWNoZUxvYWRMaW51eChjYWNoZVBhdGgpO1xuICB9XG4gIFxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkckNhY2hlU3RvcmUoZHJDYWNoZUluZm86IERyQ2FjaGVJbmZvLCBuYW1lOiBzdHJpbmcsIGNhY2hlUGF0aD86IHN0cmluZykge1xuICBpZiAoRFJfVEFSR0VUX1BMQVRGT1JNID09PSBEclBsYXRmb3JtLk1BQyAmJiBuYW1lKSB7XG4gICAgYXdhaXQgZHJDYWNoZVN0b3JlTWFjKGRyQ2FjaGVJbmZvLCBuYW1lKTtcbiAgfSBlbHNlIGlmIChEUl9UQVJHRVRfUExBVEZPUk0gPT09IERyUGxhdGZvcm0uV0lOICYmIGNhY2hlUGF0aCkge1xuICAgIGF3YWl0IGRyQ2FjaGVTdG9yZVdpbihkckNhY2hlSW5mbywgY2FjaGVQYXRoKTtcbiAgfSBlbHNlIGlmIChEUl9UQVJHRVRfUExBVEZPUk0gPT09IERyUGxhdGZvcm0uTElOVVggJiYgY2FjaGVQYXRoKSB7XG4gICAgYXdhaXQgZHJDYWNoZVN0b3JlTGludXgoZHJDYWNoZUluZm8sIGNhY2hlUGF0aCk7XG4gIH1cbn1cbiIsImltcG9ydCBzeXN0ZW1JbmZvcm1hdGlvbiBmcm9tICdzeXN0ZW1pbmZvcm1hdGlvbic7XG5pbXBvcnQgeyBtZW1vaXplIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCB0eXBlIERyU3lzdGVtID0ge1xuICBtb2RlbDogc3RyaW5nO1xuICB1dWlkOiBzdHJpbmc7XG4gIHNrdTogc3RyaW5nO1xuICBzZXJpYWw6IHN0cmluZztcbn07XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN5c3RlbSgpOiBQcm9taXNlPERyU3lzdGVtPiB7XG4gIGNvbnN0IHN5c3RlbSA9IGF3YWl0IHN5c3RlbUluZm9ybWF0aW9uLnN5c3RlbSgpO1xuICByZXR1cm4ge1xuICAgIG1vZGVsOiBzeXN0ZW0ubW9kZWwucmVwbGFjZSgnICcsICdfJyksXG4gICAgdXVpZDogc3lzdGVtLnV1aWQudG9VcHBlckNhc2UoKSxcbiAgICBza3U6IHN5c3RlbS5za3UsXG4gICAgc2VyaWFsOiBzeXN0ZW0uc2VyaWFsLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgbWVtb2l6ZWRHZXRTeXN0ZW0gPSBtZW1vaXplKGdldFN5c3RlbSk7XG5cbmdldFN5c3RlbSgpIiwiaW1wb3J0IHsgbWVtb2l6ZWRHZXREaXNrU2VyaWFsIH0gZnJvbSAnLi9zeXN0ZW1pbmZvcm1hdGlvbi9kaXNrJztcbmltcG9ydCB7IG1lbW9pemVkR2V0R3JhcGhpY1Jlc29sdXRpb24gfSBmcm9tICcuL3N5c3RlbWluZm9ybWF0aW9uL2dyYXBoaWNzJztcbmltcG9ydCB7IG1lbW9pemVkR2V0TWFjQWRkcmVzcyB9IGZyb20gJy4vc3lzdGVtaW5mb3JtYXRpb24vbmV0d29yayc7XG5pbXBvcnQgeyBtZW1vaXplZEdldE9zUmVsZWFzZSB9IGZyb20gJy4vc3lzdGVtaW5mb3JtYXRpb24vb3MnO1xuaW1wb3J0IHsgZ2V0VGltZVpvbmVJbmZvIH0gZnJvbSAnLi9zeXN0ZW1pbmZvcm1hdGlvbi90aW1lem9uZSc7XG5pbXBvcnQgeyBTREtfVkVSU0lPTl9DT0RFLCBTREtfVkVSU0lPTl9OQU1FIH0gZnJvbSAnLi92ZXJzaW9uJztcbmltcG9ydCB7IERFVklDRV9QTEFURk9STSwgRFJfVEFSR0VUX1BMQVRGT1JNLCBEclBsYXRmb3JtLCBPU19OQU1FIH0gZnJvbSAnLi9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBkckNhY2hlTG9hZCwgZHJDYWNoZVN0b3JlIH0gZnJvbSAnLi9jYWNoZSc7XG5pbXBvcnQgeyBtZW1vaXplZEdldFN5c3RlbSB9IGZyb20gJy4vc3lzdGVtaW5mb3JtYXRpb24vc3lzdGVtJztcbmltcG9ydCB7IGFwcGxvZ0RlY29yYXRlZCB9IGZyb20gJy4vY3J5cHRvci9lbmNyeXB0L2FwcF9sb2dfYWVzX2UnO1xuaW1wb3J0IHpsaWIgZnJvbSAnemxpYic7XG5pbXBvcnQgSlNPTkJpZyBmcm9tICdqc29uLWJpZ2ludCc7XG5pbXBvcnQgeyBEckNhY2hlSW5mbyB9IGZyb20gJy4vY2FjaGUvY29tbW9uJztcbmltcG9ydCBmZXRjaCBmcm9tICdub2RlLWZldGNoJztcblxuZXhwb3J0IHR5cGUgRHJBcHBJbmZvID0ge1xuICBpZDogbnVtYmVyOyAvLyB1aW50NjRfdFxuICBjaGFubmVsOiBzdHJpbmc7IC8vIGNoYXIqXG4gIHBhY2thZ2U6IHN0cmluZzsgLy8gY2hhcipcbiAgbmFtZTogc3RyaW5nOyAvLyBjaGFyKlxuICB2ZXJzaW9uOiBzdHJpbmc7IC8vIGNoYXIqXG4gIGxhbmd1YWdlOiBzdHJpbmc7IC8vIGNoYXIqXG4gIHJlZ2lvbjogc3RyaW5nOyAvLyBjaGFyKlxufVxuXG5leHBvcnQgdHlwZSBEckxvZ2dlciA9IHtcbiAgdHJhY2U/OiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xuICBkZWJ1Zz86IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGluZm8/OiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xuICB3YXJuPzogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZDtcbiAgZXJyb3I/OiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBEckNvbmZpZyA9IHtcbiAgZm9yY2U6IGJvb2xlYW47XG4gIG5ld1VzZXJNb2RlOiBib29sZWFuO1xuICBjYWNoZVBhdGg6IHN0cmluZztcbiAgcmVnaXN0cnlVcmw6IHN0cmluZztcbiAgYWN0aXZlVXJsOiBzdHJpbmc7XG4gIGxvZ2dlcj86IERyTG9nZ2VyO1xufVxuXG5leHBvcnQgY2xhc3MgRGV2aWNlUmVnaXN0ZXIge1xuICBwcml2YXRlIGFwcEluZm86IERyQXBwSW5mbztcblxuICBwcml2YXRlIGZvcmNlOiBib29sZWFuO1xuICBwcml2YXRlIG5ld1VzZXJNb2RlOiBib29sZWFuO1xuICBwcml2YXRlIGNhY2hlUGF0aDogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVnaXN0cnlVcmw6IHN0cmluZztcbiAgcHJpdmF0ZSBhY3RpdmVVcmw6IHN0cmluZztcblxuICBwcml2YXRlIGxvZ2dlcjogRHJMb2dnZXI7XG5cbiAgY29uc3RydWN0b3IoYXBwSW5mbzogRHJBcHBJbmZvLCBjb25maWc6IERyQ29uZmlnKSB7XG4gICAgdGhpcy5hcHBJbmZvID0gYXBwSW5mbztcblxuICAgIHRoaXMuZm9yY2UgPSBjb25maWcuZm9yY2UgPz8gZmFsc2U7XG4gICAgdGhpcy5uZXdVc2VyTW9kZSA9IGNvbmZpZy5uZXdVc2VyTW9kZT8/IGZhbHNlO1xuICAgIHRoaXMuY2FjaGVQYXRoID0gY29uZmlnLmNhY2hlUGF0aDtcbiAgICB0aGlzLnJlZ2lzdHJ5VXJsID0gY29uZmlnLnJlZ2lzdHJ5VXJsO1xuICAgIHRoaXMuYWN0aXZlVXJsID0gY29uZmlnLmFjdGl2ZVVybDtcbiAgICB0aGlzLmxvZ2dlciA9IGNvbmZpZy5sb2dnZXIgPz8ge307XG5cbiAgICB0aGlzLmxvZ2dlcj8uZGVidWcgJiYgdGhpcy5sb2dnZXI/LmRlYnVnPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKGNvbnN0cnVjdG9yKSBzdGFydCB3aXRoIGFwcEluZm86ICR7SlNPTi5zdHJpbmdpZnkoYXBwSW5mbyl9LCBjb25maWc6ICR7SlNPTi5zdHJpbmdpZnkoY29uZmlnKX1gKTtcbiAgICB0aGlzLmxvZ2dlcj8udHJhY2UgJiYgdGhpcy5sb2dnZXI/LnRyYWNlPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKGNvbnN0cnVjdG9yKSBwYXJzZWQgY29uZmlnOiBmb3JjZTogJHt0aGlzLmZvcmNlfSwgbmV3VXNlck1vZGU6ICR7dGhpcy5uZXdVc2VyTW9kZX0sIGNhY2hlUGF0aDogJHt0aGlzLmNhY2hlUGF0aH0sIHJlZ2lzdHJ5VXJsOiAke3RoaXMucmVnaXN0cnlVcmx9LCBhY3RpdmVVcmw6ICR7dGhpcy5hY3RpdmVVcmx9YCk7XG4gIH1cblxuICBwdWJsaWMgc2V0Rm9yY2UoZm9yY2U6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmZvcmNlID0gZm9yY2U7XG4gIH1cblxuICBwdWJsaWMgc2V0TmV3VXNlck1vZGUobmV3VXNlck1vZGU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLm5ld1VzZXJNb2RlID0gbmV3VXNlck1vZGU7XG4gIH1cblxuICBwdWJsaWMgc2V0Q2FjaGVQYXRoKGNhY2hlUGF0aDogc3RyaW5nKSB7XG4gICAgdGhpcy5jYWNoZVBhdGggPSBjYWNoZVBhdGg7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRDYWNoZSgpOiBQcm9taXNlPERyQ2FjaGVJbmZvIHwgdW5kZWZpbmVkPiB7XG4gICAgdGhpcy5sb2dnZXI/LnRyYWNlICYmIHRoaXMubG9nZ2VyPy50cmFjZT8uKGBbRGV2aWNlUmVnaXN0ZXJdIChsb2FkQ2FjaGUpIHdpdGggZm9yY2U6ICR7dGhpcy5mb3JjZX0sIG5ld1VzZXJNb2RlOiAke3RoaXMubmV3VXNlck1vZGV9LCBjYWNoZVBhdGg6ICR7dGhpcy5jYWNoZVBhdGh9YCk7XG4gICAgY29uc3QgdXVpZCA9IERSX1RBUkdFVF9QTEFURk9STSA9PT0gRHJQbGF0Zm9ybS5NQUM/IChhd2FpdCBtZW1vaXplZEdldFN5c3RlbSgpKS51dWlkIDogKGF3YWl0IG1lbW9pemVkR2V0RGlza1NlcmlhbCgpKTtcbiAgICB0aGlzLmxvZ2dlcj8udHJhY2UgJiYgdGhpcy5sb2dnZXI/LnRyYWNlPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKGxvYWRDYWNoZSkgdXVpZDogJHt1dWlkfWApO1xuICAgIGNvbnN0IGNhY2hlID0gYXdhaXQgZHJDYWNoZUxvYWQodGhpcy5hcHBJbmZvLm5hbWUsIHRoaXMuY2FjaGVQYXRoKTtcbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgIHRoaXMubG9nZ2VyPy50cmFjZSAmJiB0aGlzLmxvZ2dlcj8udHJhY2U/LihgW0RldmljZVJlZ2lzdGVyXSAobG9hZENhY2hlKSBnZXQgY2FoY2UuYCk7XG4gICAgICBpZiAoY2FjaGUuZGV2aWNlSWQgPiAwbiAmJiBjYWNoZS5pbnN0YWxsSWQgIT09IDBuKSB7XG4gICAgICAgIGlmIChjYWNoZS51dWlkID09PSB1dWlkKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXI/LmluZm8gJiYgdGhpcy5sb2dnZXI/LmluZm8/LihgW0RldmljZVJlZ2lzdGVyXSAobG9hZENhY2hlKSBjYWNoZSB1dWlkIG1hdGNoLCByZXR1cm4gY2FjaGUgJHtjYWNoZS50b1N0cmluZygpfS5gKTtcbiAgICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc3RvcmVDYWNoZShjYWNoZTogRHJDYWNoZUluZm8pIHtcbiAgICB0aGlzLmxvZ2dlcj8uZGVidWcgJiYgdGhpcy5sb2dnZXI/LmRlYnVnPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKHN0b3JlQ2FjaGUpOiAke2NhY2hlLnRvU3RyaW5nKCl9YCk7XG4gICAgYXdhaXQgZHJDYWNoZVN0b3JlKGNhY2hlLCB0aGlzLmFwcEluZm8ubmFtZSwgdGhpcy5jYWNoZVBhdGgpO1xuICAgIHRoaXMubG9nZ2VyPy5pbmZvICYmIHRoaXMubG9nZ2VyPy5pbmZvPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKHN0b3JlQ2FjaGUpIGRvbmUuYCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdlblJlZ2lzdHJ5UmVxdWVzdFVybCgpIHtcbiAgICB0aGlzLmxvZ2dlcj8udHJhY2UgJiYgdGhpcy5sb2dnZXI/LnRyYWNlPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKGdlblJlZ2lzdHJ5UmVxdWVzdFVybCkgc3RhcnQuYCk7XG4gICAgY29uc3QgW3N5c3RlbSwgb3NSZWxlYXNlLCBkaXNrU2VyaWFsXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIG1lbW9pemVkR2V0U3lzdGVtKCksXG4gICAgICBtZW1vaXplZEdldE9zUmVsZWFzZSgpLFxuICAgICAgRFJfVEFSR0VUX1BMQVRGT1JNID09PSBEclBsYXRmb3JtLk1BQz8gUHJvbWlzZS5yZXNvbHZlKCcnKSA6IG1lbW9pemVkR2V0RGlza1NlcmlhbCgpLFxuICAgIF0pO1xuICAgIGNvbnN0IHBhcmFtczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7XG4gICAgICBhaWQ6IHRoaXMuYXBwSW5mby5pZCxcbiAgICAgIGNoYW5uZWw6IHRoaXMuYXBwSW5mby5jaGFubmVsLFxuICAgICAgb3M6IE9TX05BTUUsXG4gICAgICBvc192ZXJzaW9uOiBvc1JlbGVhc2UsXG4gICAgICBkZXZpY2VfcGxhdGZvcm06IERFVklDRV9QTEFURk9STSxcbiAgICAgIHZlcnNpb25fY29kZTogdGhpcy5hcHBJbmZvLnZlcnNpb24sXG4gICAgfTtcbiAgICBpZiAoRFJfVEFSR0VUX1BMQVRGT1JNID09PSBEclBsYXRmb3JtLk1BQykge1xuICAgICAgcGFyYW1zWydtYWNvc191dWlkJ10gPSBzeXN0ZW0udXVpZDtcbiAgICAgIHBhcmFtc1snbWFjb3Nfc2VyaWFsJ10gPSBzeXN0ZW0uc2VyaWFsO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXNbJ3BjX3V1aWQnXSA9IHN5c3RlbS51dWlkO1xuICAgICAgcGFyYW1zWydwY19zZXJpYWwnXSA9IGRpc2tTZXJpYWw7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IGAke3RoaXMucmVnaXN0cnlVcmx9PyR7XG4gICAgICBPYmplY3Qua2V5cyhwYXJhbXMpLm1hcChrZXkgPT4gYCR7a2V5fT0ke3BhcmFtc1trZXldfWApLmpvaW4oJyYnKVxuICAgIH1gO1xuICAgIHRoaXMubG9nZ2VyPy5kZWJ1ZyAmJiB0aGlzLmxvZ2dlcj8uZGVidWc/LihgW0RldmljZVJlZ2lzdGVyXSAoZ2VuUmVnaXN0cnlSZXF1ZXN0VXJsKSB1cmw6ICR7dXJsfWApO1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdlblJlZ2lzdHJ5UmVxdWVzdEJvZHkoKSB7XG4gICAgdGhpcy5sb2dnZXI/LnRyYWNlICYmIHRoaXMubG9nZ2VyPy50cmFjZT8uKGBbRGV2aWNlUmVnaXN0ZXJdIChnZW5SZWdpc3RyeVJlcXVlc3RCb2R5KSBzdGFydC5gKTtcbiAgICBjb25zdCB0aW1lWm9uZUluZm8gPSBnZXRUaW1lWm9uZUluZm8oKTtcbiAgICBjb25zdCBbXG4gICAgICBtYWNBZGRyZXNzLFxuICAgICAgb3NSZWxlYXNlLFxuICAgICAgc3lzdGVtLFxuICAgICAgcmVzb2x1dGlvbixcbiAgICAgIGRpc2tTZXJpYWwsXG4gICAgXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIG1lbW9pemVkR2V0TWFjQWRkcmVzcygpLFxuICAgICAgbWVtb2l6ZWRHZXRPc1JlbGVhc2UoKSxcbiAgICAgIG1lbW9pemVkR2V0U3lzdGVtKCksXG4gICAgICBtZW1vaXplZEdldEdyYXBoaWNSZXNvbHV0aW9uKCksXG4gICAgICBEUl9UQVJHRVRfUExBVEZPUk0gPT09IERyUGxhdGZvcm0uTUFDID8gUHJvbWlzZS5yZXNvbHZlKCcnKSA6IG1lbW9pemVkR2V0RGlza1NlcmlhbCgpLFxuICAgIF0pO1xuICAgIGNvbnN0IGhlYWRlcjogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7XG4gICAgICBkZXZpY2VfaWQ6IDAsXG4gICAgICBpbnN0YWxsX2lkOiAwLFxuICAgICAgb3M6IE9TX05BTUUsXG4gICAgICBkZXZpY2VfcGxhdGZvcm06IERFVklDRV9QTEFURk9STSxcbiAgICAgIHNka192ZXJzaW9uOiBTREtfVkVSU0lPTl9OQU1FLFxuICAgICAgc2RrX3ZlcnNpb25fY29kZTogU0RLX1ZFUlNJT05fQ09ERSxcbiAgICAgIGFpZDogdGhpcy5hcHBJbmZvLmlkLFxuICAgICAgbWM6IG1hY0FkZHJlc3MsXG4gICAgICBjaGFubmVsOiB0aGlzLmFwcEluZm8uY2hhbm5lbCxcbiAgICAgIHBhY2thZ2U6IHRoaXMuYXBwSW5mby5wYWNrYWdlLFxuICAgICAgbGFuZ3VhZ2U6IHRoaXMuYXBwSW5mby5sYW5ndWFnZSxcbiAgICAgIGFwcF92ZXJzaW9uOiB0aGlzLmFwcEluZm8udmVyc2lvbixcbiAgICAgIG9zX3ZlcnNpb246IG9zUmVsZWFzZSxcbiAgICAgIGRldmljZV9tb2RlbDogc3lzdGVtLm1vZGVsLFxuICAgICAgdGltZV96b25lOiB0aW1lWm9uZUluZm8udGltZVpvbmUsXG4gICAgICB0el9uYW1lOiB0aW1lWm9uZUluZm8udHpOYW1lLFxuICAgICAgdHpfb2Zmc2V0OiB0aW1lWm9uZUluZm8udHpPZmZzZXQsXG4gICAgICByZXNvbHV0aW9uLFxuICAgICAgYXBwX3JlZ2lvbjogdGhpcy5hcHBJbmZvLnJlZ2lvbixcbiAgICAgIGFwcF9sYW5ndWFnZTogdGhpcy5hcHBJbmZvLmxhbmd1YWdlLFxuICAgICAgZGlzcGxheV9uYW1lOiB0aGlzLmFwcEluZm8ubmFtZSxcbiAgICAgIG5ld191c2VyX21vZGU6IE51bWJlcih0aGlzLm5ld1VzZXJNb2RlKSxcbiAgICB9XG4gICAgaWYgKERSX1RBUkdFVF9QTEFURk9STSA9PT0gRHJQbGF0Zm9ybS5NQUMpIHtcbiAgICAgIGhlYWRlclsnbWFjb3NfdXVpZCddID0gc3lzdGVtLnV1aWQ7XG4gICAgICBoZWFkZXJbJ21hY29zX3NlcmlhbCddID0gc3lzdGVtLnNlcmlhbDtcbiAgICAgIGhlYWRlclsnc2t1J10gPSBzeXN0ZW0uc2t1O1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkZXJbJ3BjX3V1aWQnXSA9IHN5c3RlbS51dWlkO1xuICAgICAgaGVhZGVyWydwY19zZXJpYWwnXSA9IGRpc2tTZXJpYWw7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICBoZWFkZXIsXG4gICAgICBfZ2VuX3RpbWU6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLFxuICAgICAgbWFnaWNfdGFnOiAnc3NfYXBwX2xvZycsXG4gICAgfVxuIFxuICAgIHRoaXMubG9nZ2VyPy5kZWJ1ZyAmJiB0aGlzLmxvZ2dlcj8uZGVidWc/LihgW0RldmljZVJlZ2lzdGVyXSAoZ2VuUmVnaXN0cnlSZXF1ZXN0Qm9keSkgaGVhZGVyOiAke0pTT04uc3RyaW5naWZ5KGhlYWRlcil9LCBib2R5OiAke0pTT04uc3RyaW5naWZ5KGJvZHkpfWApO1xuICAgIHJldHVybiBib2R5O1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZW5BY3RpdmVSZXF1ZXN0VXJsKGRpZDogYmlnaW50LCBpaWQ6IGJpZ2ludCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdGhpcy5sb2dnZXI/LnRyYWNlICYmIHRoaXMubG9nZ2VyPy50cmFjZT8uKGBbRGV2aWNlUmVnaXN0ZXJdIChnZW5BY3RpdmVSZXF1ZXN0VXJsKSBzdGFydC5gKTtcbiAgICBjb25zdCBbc3lzdGVtLCBkaXNrU2VyaWFsXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIG1lbW9pemVkR2V0U3lzdGVtKCksXG4gICAgICBEUl9UQVJHRVRfUExBVEZPUk0gPT09IERyUGxhdGZvcm0uTUFDPyBQcm9taXNlLnJlc29sdmUoJycpIDogbWVtb2l6ZWRHZXREaXNrU2VyaWFsKCksXG4gICAgXSk7XG4gICAgY29uc3QgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcbiAgICAgIGFpZDogdGhpcy5hcHBJbmZvLmlkLFxuICAgICAgYXBwX25hbWU6IHRoaXMuYXBwSW5mby5uYW1lLFxuICAgICAgdmVyc2lvbl9jb2RlOiB0aGlzLmFwcEluZm8udmVyc2lvbixcbiAgICAgIGNoYW5uZWw6IHRoaXMuYXBwSW5mby5jaGFubmVsLFxuICAgICAgb3M6IE9TX05BTUUsXG4gICAgICBkZXZpY2VfcGxhdGZvcm06IERFVklDRV9QTEFURk9STSxcbiAgICAgIGRldmljZV9pZDogZGlkLnRvU3RyaW5nKCksXG4gICAgICBpaWQ6IGlpZC50b1N0cmluZygpLFxuICAgIH1cbiAgICBpZiAoRFJfVEFSR0VUX1BMQVRGT1JNID09PSBEclBsYXRmb3JtLk1BQykge1xuICAgICAgcGFyYW1zWydtYWNvc191dWlkJ10gPSBzeXN0ZW0udXVpZDtcbiAgICAgIHBhcmFtc1snbWFjb3Nfc2VyaWFsJ10gPSBzeXN0ZW0uc2VyaWFsO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXNbJ3BjX3V1aWQnXSA9IHN5c3RlbS51dWlkO1xuICAgICAgcGFyYW1zWydwY19zZXJpYWwnXSA9IGRpc2tTZXJpYWw7XG4gICAgfVxuXG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5hY3RpdmVVcmx9PyR7XG4gICAgICBPYmplY3Qua2V5cyhwYXJhbXMpLm1hcChrZXkgPT4gYCR7a2V5fT0ke3BhcmFtc1trZXldfWApLmpvaW4oJyYnKVxuICAgIH1gO1xuICAgIHRoaXMubG9nZ2VyPy5kZWJ1ZyAmJiB0aGlzLmxvZ2dlcj8uZGVidWc/LihgW0RldmljZVJlZ2lzdGVyXSAoZ2VuQWN0aXZlUmVxdWVzdFVybCkgdXJsOiAke3VybH1gKTtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGdldERpZEZyb21DYWNoZSgpOiBQcm9taXNlPHsgZGV2aWNlSWQ6IGJpZ2ludDsgaW5zdGFsbElkOiBiaWdpbnQ7IH0+IHtcbiAgICB0aGlzLmxvZ2dlcj8udHJhY2UgJiYgdGhpcy5sb2dnZXI/LnRyYWNlPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKGdldERpZEZyb21DYWNoZSkgc3RhcnQuYCk7XG4gICAgY29uc3QgY2FjaGUgPSBhd2FpdCB0aGlzLmxvYWRDYWNoZSgpO1xuICAgIHRoaXMubG9nZ2VyPy5pbmZvICYmIHRoaXMubG9nZ2VyPy5pbmZvPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKGdldERpZEZyb21DYWNoZSkgY2FjaGU6ICR7Y2FjaGU/LnRvU3RyaW5nKCl9YCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRldmljZUlkOiBjYWNoZT8uZGV2aWNlSWQgPz8gMG4sXG4gICAgICBpbnN0YWxsSWQ6IGNhY2hlPy5pbnN0YWxsSWQgPz8gMG4sXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyByZWdpc3RyeSgpIHtcbiAgICB0aGlzLmxvZ2dlcj8udHJhY2UgJiYgdGhpcy5sb2dnZXI/LnRyYWNlPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKHJlZ2lzdHJ5KSBzdGFydC5gKTtcbiAgICBjb25zdCBbdXJsLCBib2R5XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMuZ2VuUmVnaXN0cnlSZXF1ZXN0VXJsKCksXG4gICAgICB0aGlzLmdlblJlZ2lzdHJ5UmVxdWVzdEJvZHkoKSxcbiAgICBdKTtcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoYm9keSk7XG5cbiAgICB0aGlzLmxvZ2dlcj8uZGVidWcgJiYgdGhpcy5sb2dnZXI/LmRlYnVnPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKHJlZ2lzdHJ5KSB1cmw6ICR7dXJsfSwgYm9keTogJHtqc29ufWApO1xuXG4gICAgY29uc3QgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgemxpYi5nemlwU3luYyhCdWZmZXIuZnJvbShqc29uLCAndXRmLTgnKSkpO1xuICAgIGNvbnN0IGRlY0RhdGEgPSBhcHBsb2dEZWNvcmF0ZWQoYnVmKTtcblxuICAgIGlmIChkZWNEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5sb2dnZXI/LmVycm9yICYmIHRoaXMubG9nZ2VyPy5lcnJvcj8uKGBbRGV2aWNlUmVnaXN0ZXJdIChyZWdpc3RyeSkgYXBwbG9nRGVjb3JhdGVkIGZhaWxlZC5gKTtcbiAgICAgIHJldHVybiB7IGRldmljZUlkOiAwbiwgaW5zdGFsbElkOiAwbiB9O1xuICAgIH1cblxuICAgIHRoaXMubG9nZ2VyPy50cmFjZSAmJiB0aGlzLmxvZ2dlcj8udHJhY2U/LihgW0RldmljZVJlZ2lzdGVyXSAocmVnaXN0cnkpIGRlY0RhdGEgc3VjY2Vzcy5gKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEJ1ZmZlci5mcm9tKGRlY0RhdGEpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnVXNlci1BZ2VudCc6ICdUVE5ldHdvcmsgUEMnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMubG9nZ2VyPy5kZWJ1ZyAmJiB0aGlzLmxvZ2dlcj8uZGVidWc/LihgW0RldmljZVJlZ2lzdGVyXSAocmVnaXN0cnkpIHJlczogJHtyZXMuc3RhdHVzfWApO1xuICBcbiAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT05CaWcucGFyc2UodGV4dCk7XG5cbiAgICAgICAgdGhpcy5sb2dnZXI/LmluZm8gJiYgdGhpcy5sb2dnZXI/LmluZm8/LihgW0RldmljZVJlZ2lzdGVyXSAocmVnaXN0cnkpIHJlc3VsdDogJHt0ZXh0fWApO1xuICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkZXZpY2VJZDogQmlnSW50KHJlc3VsdC5kZXZpY2VfaWQgPz8gMCksXG4gICAgICAgICAgaW5zdGFsbElkOiBCaWdJbnQocmVzdWx0Lmluc3RhbGxfaWQ/PyAwKSxcbiAgICAgICAgICBpc05ld1VzZXI6ICEhcmVzdWx0Lm5ld191c2VyLFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICB0aGlzLmxvZ2dlcj8uZXJyb3IgJiYgdGhpcy5sb2dnZXI/LmVycm9yPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKHJlZ2lzdHJ5KSBmYWlsZWQ6ICR7ZX1gKTtcbiAgICB9XG5cbiAgICB0aGlzLmxvZ2dlcj8uZXJyb3IgJiYgdGhpcy5sb2dnZXI/LmVycm9yPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKHJlZ2lzdHJ5KSBmYWlsZWQuYCk7XG4gICAgcmV0dXJuIHsgZGV2aWNlSWQ6IDBuLCBpbnN0YWxsSWQ6IDBuLCBpc05ld1VzZXI6IGZhbHNlICB9O1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGFjdGl2ZShkZXZpY2VJZDogYmlnaW50LCBpbnN0YWxsSWQ6IGJpZ2ludCk6IFByb21pc2U8eyBpc0FjdGl2ZVN1Y2Nlc3M6IGJvb2xlYW47IGlzQWN0aXZhdGVkOiBib29sZWFuOyB9PiB7XG4gICAgdGhpcy5sb2dnZXI/LnRyYWNlICYmIHRoaXMubG9nZ2VyPy50cmFjZT8uKGBbRGV2aWNlUmVnaXN0ZXJdIChhY3RpdmUpIHN0YXJ0LmApO1xuICAgIGNvbnN0IHVybCA9IGF3YWl0IHRoaXMuZ2VuQWN0aXZlUmVxdWVzdFVybChkZXZpY2VJZCwgaW5zdGFsbElkKTtcbiAgICB0aGlzLmxvZ2dlcj8uZGVidWcgJiYgdGhpcy5sb2dnZXI/LmRlYnVnPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKGFjdGl2ZSkgdXJsOiAke3VybH1gKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIHsgbWV0aG9kOiAnUE9TVCcsIGhlYWRlcnM6IHsgJ1VzZXItQWdlbnQnOiAnVFROZXR3b3JrIFBDJyB9fSk7XG4gICAgICB0aGlzLmxvZ2dlcj8uZGVidWcgJiYgdGhpcy5sb2dnZXI/LmRlYnVnPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKGFjdGl2ZSkgcmVzOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXMuanNvbigpIGFzIHtcbiAgICAgICAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgICAgZGF0YT86IHtcbiAgICAgICAgICAgIGlzX2FjdGl2YXRlZDogYm9vbGVhbjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxvZ2dlcj8uaW5mbyAmJiB0aGlzLmxvZ2dlcj8uaW5mbz8uKGBbRGV2aWNlUmVnaXN0ZXJdIChhY3RpdmUpIHJlc3VsdDogJHtKU09OLnN0cmluZ2lmeShyZXN1bHQpfWApO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZVN1Y2Nlc3MgPSByZXN1bHQ/Lm1lc3NhZ2UgPT09ICdzdWNjZXNzJztcbiAgICAgICAgY29uc3QgaXNBY3RpdmF0ZWQgPSAhIXJlc3VsdD8uZGF0YT8uaXNfYWN0aXZhdGVkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlzQWN0aXZlU3VjY2VzcyxcbiAgICAgICAgICBpc0FjdGl2YXRlZCxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgdGhpcy5sb2dnZXI/LmVycm9yICYmIHRoaXMubG9nZ2VyPy5lcnJvcj8uKGBbRGV2aWNlUmVnaXN0ZXJdIChhY3RpdmUpIGZhaWxlZDogJHtlfWApO1xuICAgIH1cbiAgICB0aGlzLmxvZ2dlcj8uZXJyb3IgJiYgdGhpcy5sb2dnZXI/LmVycm9yPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKGFjdGl2ZSkgZmFpbGVkLmApO1xuICAgIHJldHVybiB7XG4gICAgICBpc0FjdGl2ZVN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgaXNBY3RpdmF0ZWQ6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgcmVnaXN0cnlBbmRBY3RpdmUoKSB7XG4gICAgdGhpcy5sb2dnZXI/LnRyYWNlICYmIHRoaXMubG9nZ2VyPy50cmFjZT8uKGBbRGV2aWNlUmVnaXN0ZXJdIChyZWdpc3RyeUFuZEFjdGl2ZSkgc3RhcnQuYCk7XG4gICAgaWYgKCF0aGlzLmZvcmNlICYmICF0aGlzLm5ld1VzZXJNb2RlKSB7XG4gICAgICBjb25zdCBjYWNoZSA9IGF3YWl0IHRoaXMubG9hZENhY2hlKCk7XG4gICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXI/LmRlYnVnICYmIHRoaXMubG9nZ2VyPy5kZWJ1Zz8uKGBbRGV2aWNlUmVnaXN0ZXJdIChyZWdpc3RyeUFuZEFjdGl2ZSkgY2FjaGU6ICR7Y2FjaGUudG9TdHJpbmcoKX1gKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkZXZpY2VJZDogY2FjaGUuZGV2aWNlSWQsXG4gICAgICAgICAgaW5zdGFsbElkOiBjYWNoZS5pbnN0YWxsSWQsXG4gICAgICAgICAgaXNBY3RpdmVTdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBpc0FjdGl2YXRlZDogZmFsc2UsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmxvZ2dlcj8udHJhY2UgJiYgdGhpcy5sb2dnZXI/LnRyYWNlPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKHJlZ2lzdHJ5QW5kQWN0aXZlKSByZWdpc3RyeSBzdGFydC5gKTtcbiAgICBjb25zdCByZWdpc3RyeVJlc3VsdCA9IGF3YWl0IHRoaXMucmVnaXN0cnkoKTtcbiAgICB0aGlzLmxvZ2dlcj8uZGVidWcgJiYgdGhpcy5sb2dnZXI/LmRlYnVnPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKHJlZ2lzdHJ5QW5kQWN0aXZlKSByZWdpc3RyeSByZXN1bHQ6IGRpZDogJHtyZWdpc3RyeVJlc3VsdC5kZXZpY2VJZH0sIGlpZDogJHtyZWdpc3RyeVJlc3VsdC5pbnN0YWxsSWR9YCk7XG5cbiAgICBpZiAocmVnaXN0cnlSZXN1bHQuZGV2aWNlSWQgPT09IDBuIHx8IHJlZ2lzdHJ5UmVzdWx0Lmluc3RhbGxJZCA9PT0gMG4pIHtcbiAgICAgIHRoaXMubG9nZ2VyPy5lcnJvciAmJiB0aGlzLmxvZ2dlcj8uZXJyb3I/LihgW0RldmljZVJlZ2lzdGVyXSAocmVnaXN0cnlBbmRBY3RpdmUpIHJlZ2lzdHJ5IGZhaWxlZC5gKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRldmljZUlkOiByZWdpc3RyeVJlc3VsdC5kZXZpY2VJZCxcbiAgICAgICAgaW5zdGFsbElkOiByZWdpc3RyeVJlc3VsdC5pbnN0YWxsSWQsXG4gICAgICAgIGlzQWN0aXZlU3VjY2VzczogZmFsc2UsXG4gICAgICAgIGlzQWN0aXZhdGVkOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXI/LnRyYWNlICYmIHRoaXMubG9nZ2VyPy50cmFjZT8uKGBbRGV2aWNlUmVnaXN0ZXJdIChyZWdpc3RyeUFuZEFjdGl2ZSkgYWN0aXZlIHN0YXJ0LmApO1xuICAgIGlmICghdGhpcy5uZXdVc2VyTW9kZSAmJiAhcmVnaXN0cnlSZXN1bHQuaXNOZXdVc2VyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZXZpY2VJZDogcmVnaXN0cnlSZXN1bHQuZGV2aWNlSWQsXG4gICAgICAgIGluc3RhbGxJZDogcmVnaXN0cnlSZXN1bHQuaW5zdGFsbElkLFxuICAgICAgICBpc0FjdGl2ZVN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGlzQWN0aXZhdGVkOiB0cnVlLFxuICAgICAgfTtcblxuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZVJlc3VsdCA9IGF3YWl0IHRoaXMuYWN0aXZlKHJlZ2lzdHJ5UmVzdWx0LmRldmljZUlkLCByZWdpc3RyeVJlc3VsdC5pbnN0YWxsSWQpO1xuICAgIHRoaXMubG9nZ2VyPy5kZWJ1ZyAmJiB0aGlzLmxvZ2dlcj8uZGVidWc/LihgW0RldmljZVJlZ2lzdGVyXSAocmVnaXN0cnlBbmRBY3RpdmUpIGFjdGl2ZSByZXN1bHQ6IGlzQWN0aXZlU3VjY2VzczogJHthY3RpdmVSZXN1bHQuaXNBY3RpdmVTdWNjZXNzfSwgaXNBY3RpdmF0ZWQ6ICR7YWN0aXZlUmVzdWx0LmlzQWN0aXZhdGVkfWApO1xuICAgIGlmIChhY3RpdmVSZXN1bHQuaXNBY3RpdmVTdWNjZXNzKSB7XG4gICAgICBjb25zdCBjYWNoZSA9IG5ldyBEckNhY2hlSW5mbyhcbiAgICAgICAgRHJDYWNoZUluZm8uRFJfQ0FDSEVfVkVSU0lPTixcbiAgICAgICAgcmVnaXN0cnlSZXN1bHQuZGV2aWNlSWQsXG4gICAgICAgIHJlZ2lzdHJ5UmVzdWx0Lmluc3RhbGxJZCxcbiAgICAgICAgYWN0aXZlUmVzdWx0LmlzQWN0aXZlU3VjY2VzcyxcbiAgICAgICAgYWN0aXZlUmVzdWx0LmlzQWN0aXZhdGVkLFxuICAgICAgICBEUl9UQVJHRVRfUExBVEZPUk0gPT09IERyUGxhdGZvcm0uTUFDPyAoYXdhaXQgbWVtb2l6ZWRHZXRTeXN0ZW0oKSkudXVpZCA6IChhd2FpdCBtZW1vaXplZEdldERpc2tTZXJpYWwoKSksXG4gICAgICApO1xuICAgICAgdGhpcy5zdG9yZUNhY2hlKGNhY2hlKTtcbiAgICAgIHRoaXMubG9nZ2VyPy5kZWJ1ZyAmJiB0aGlzLmxvZ2dlcj8uZGVidWc/LihgW0RldmljZVJlZ2lzdGVyXSAocmVnaXN0cnlBbmRBY3RpdmUpIHN0b3JlIGNhY2hlOiAke2NhY2hlLnRvU3RyaW5nKCl9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9nZ2VyPy5lcnJvciAmJiB0aGlzLmxvZ2dlcj8uZXJyb3I/LihgW0RldmljZVJlZ2lzdGVyXSAocmVnaXN0cnlBbmRBY3RpdmUpIGFjdGl2ZSBmYWlsZWQuYCk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgZGV2aWNlSWQ6IHJlZ2lzdHJ5UmVzdWx0LmRldmljZUlkLFxuICAgICAgaW5zdGFsbElkOiByZWdpc3RyeVJlc3VsdC5pbnN0YWxsSWQsXG4gICAgICBpc0FjdGl2ZVN1Y2Nlc3M6IGFjdGl2ZVJlc3VsdC5pc0FjdGl2ZVN1Y2Nlc3MsXG4gICAgICBpc0FjdGl2YXRlZDogYWN0aXZlUmVzdWx0LmlzQWN0aXZhdGVkLFxuICAgIH07XG5cbiAgICB0aGlzLmxvZ2dlcj8uZGVidWcgJiYgdGhpcy5sb2dnZXI/LmRlYnVnPy4oYFtEZXZpY2VSZWdpc3Rlcl0gKHJlZ2lzdHJ5QW5kQWN0aXZlKSByZXN1bHQ6ICR7SlNPTkJpZy5zdHJpbmdpZnkocmVzdWx0KX1gKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cblxuIl0sIm5hbWVzIjpbImRyQ2FjaGVMb2FkIiwiZHJDYWNoZVN0b3JlIiwicHJvbWlzaWZ5IiwiZHJDYWNoZUxvYWRNYWMiLCJkckNhY2hlTG9hZFdpbiIsImRyQ2FjaGVMb2FkTGludXgiLCJkckNhY2hlU3RvcmVNYWMiLCJkckNhY2hlU3RvcmVXaW4iLCJkckNhY2hlU3RvcmVMaW51eCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFNLFNBQVUsT0FBTyxDQUFJLElBQWEsRUFBQTtJQUN0QyxJQUFJLEtBQUssR0FBYSxJQUFJO0lBQzFCLE9BQU8sWUFBQTtBQUNMLFFBQUEsSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFO1lBQ2xCLEtBQUssR0FBRyxJQUFJLEVBQUU7O0FBRWhCLFFBQUEsT0FBTyxLQUFLO0FBQ2QsS0FBQztBQUNIOztBQ0xPLGVBQWUsYUFBYSxHQUFBO0FBQ2pDLElBQUEsTUFBTSxLQUFLLEdBQUcsTUFBTSxpQkFBaUIsQ0FBQyxVQUFVLEVBQUU7QUFDbEQsSUFBQSxJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3BCLFFBQUEsT0FBTyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDOztBQUU1RCxJQUFBLE9BQU8sRUFBRTtBQUNYO0FBRU8sTUFBTSxxQkFBcUIsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDOztBQ1JwRCxlQUFlLG9CQUFvQixHQUFBO0FBQ3hDLElBQUEsTUFBTSxRQUFRLEdBQUcsTUFBTSxpQkFBaUIsQ0FBQyxRQUFR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RSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUk7QUFDOUYsSUFBQSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJO0FBQy9GLENBQUEsQ0FBQztBQUVGLE1BQU0sUUFBUSxHQUFHLElBQUksVUFBVSxDQUFDO0FBQzlCLElBQUEsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSTtBQUM5RixJQUFBLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUk7QUFDOUYsSUFBQSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJO0FBQzlGLElBQUEsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSTtBQUMvRixDQUFBLENBQUM7QUFFRjtBQUNBO0FBQ0EsTUFBTSxNQUFNLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQztBQUM3QixJQUFBLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUk7QUFDOUYsSUFBQSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJO0FBQzlGLElBQUEsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSTtBQUM5RixJQUFBLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0FBQzNGLENBQUEsQ0FBQztBQUVGLE1BQU0sTUFBTSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUM7QUFDN0IsSUFBQSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJO0FBQzlGLElBQUEsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSTtBQUM5RixJQUFBLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUk7QUFDOUYsSUFBQSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtBQUMzRixDQUFBLENBQUM7QUFFSSxTQUFVLFVBQVUsQ0FDeEIsVUFBa0IsRUFDbEIsT0FBMEIsR0FBQSxjQUFjLENBQUMsR0FBRyxFQUFBO0FBRTVDLElBQUEsTUFBTSxJQUFJLEdBQUcsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDO0FBQ3ZDLElBQUEsSUFBSSxPQUFPLEtBQUssY0FBYyxDQUFDLFdBQVcsRUFBRTtBQUMxQyxRQUFBLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDakMsWUFBQSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFB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
