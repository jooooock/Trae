import { initPrivateSubject, registerTearDownGroup, initSubjectInGlobal } from '@slardar/sdk-template';
import { applyPV, PV_SUBJECT_NAME } from '../../collector/client';
import { unloadSubject, activatedSubject } from '../../collector/page';
import { PERFORMANCE_METRIC_EV_TYPE } from '../../constants';
import { INP } from '../../monitors/performance-new';
export var INP_MONITOR_PLUGIN_NAME = INP[0];
export function INPMonitorPlugin(client) {
    client.on('init', function () {
        var activatedObserver = initSubjectInGlobal(client, activatedSubject);
        var getUnloadObserver = function () { return initSubjectInGlobal(client, unloadSubject); };
        var getPVObserver = function () { return initPrivateSubject(client, [PV_SUBJECT_NAME, applyPV(client)]); };
        var tearDown = [];
        INP[1](client.report.bind(client), tearDown, [activatedObserver, getPVObserver, getUnloadObserver]);
        registerTearDownGroup(client, INP_MONITOR_PLUGIN_NAME, PERFORMANCE_METRIC_EV_TYPE, tearDown);
    });
}//# sourceMappingURL=https://trae.private/sourcemaps/424b4bd987c6c6a4cadf1a08da420593cc6bf75a/node_modules/@slardar/base/node_modules/@slardar/sdk-web/esm/plugins/monitors/inp.js.map