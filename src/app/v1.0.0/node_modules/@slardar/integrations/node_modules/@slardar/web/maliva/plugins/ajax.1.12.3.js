!function(){"use strict";var c=function(){return(c=Object.assign||function(r){for(var t,n=1,e=arguments.length;n<e;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)};function v(r,t){var n="function"==typeof Symbol&&r[Symbol.iterator];if(!n)return r;var e,o,u=n.call(r),i=[];try{for(;(void 0===t||0<t--)&&!(e=u.next()).done;)i.push(e.value)}catch(r){o={error:r}}finally{try{e&&!e.done&&(n=u.return)&&n.call(u)}finally{if(o)throw o.error}}return i}var h=function(){return{}};function r(r){return r}function n(r){return"object"==typeof r&&null!==r}var t=Object.prototype;function l(r){return"[object Array]"===t.toString.call(r)}function a(r){return"function"==typeof r}function f(r){return"string"==typeof r}function e(r){return l(r)&&r.length?function(r){for(var t=[],n=r.length,e=0;e<n;e++){var o=r[e];f(o)?t.push(o.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):o&&o.source&&t.push(o.source)}return new RegExp(t.join("|"),"i")}(r):null}function p(e,r){var t=[];try{t=r.reduce(function(r,t){try{var n=t(e);"function"==typeof n&&r.push(n)}catch(r){}return r},[])}catch(r){}return function(r){return p(r,t)}}var d=function(r,t){r=e(r||[]);return!!r&&r.test(t)},s=function(u,i,c){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(!u)return h;var n=u[i],e=c.apply(void 0,function(r,t,n){if(n||2===arguments.length)for(var e,o=0,u=t.length;o<u;o++)!e&&o in t||((e=e||Array.prototype.slice.call(t,0,o))[o]=t[o]);return r.concat(e||Array.prototype.slice.call(t))}([n],v(r),!1)),o=e;return a(o)&&(o=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return e.apply(this,r)}),u[i]=o,function(){o===u[i]?u[i]=n:e=n}}},y=function(r){return Math.random()<Number(r)},x=function(r){function t(r){c=function(r,t){if(!l(r))return r;var n=r.indexOf(t);if(0<=n){t=r.slice();return t.splice(n,1),t}return r}(c,r),s||f()}var n,e,o,u,i,c=[],a=[],s=!1,f=(e=function(){return c.length},o=function(){s=!0,n&&n[0](),a.forEach(function(r){return r()}),a.length=0,n=void 0},-1===(u=r=void(i=0)===r?3e5:r)?h:function(){if(e())return i&&clearTimeout(i),void(i=0);0===i&&(i=setTimeout(o,u))});return{next:function(r){return p(r,c)},complete:function(r){a.push(r)},attach:function(r,t){n=[r,t]},subscribe:function(r){if(s)throw new Error("Observer is closed");return c.push(r),n&&n[1]&&n[1](r),f(),function(){return t(r)}},unsubscribe:t}};function g(r,t){return r.initSubject(t)}var _=function(){return Date.now()};function o(){if("object"==typeof window&&n(window))return window}function w(r){var t=function(){if("object"==typeof document&&n(document))return document}();if(!t||!r)return"";t=t.createElement("a");return t.href=r,t.href}function u(){var r=o()&&o()&&window.location;return r?r.href:""}function m(e){return function(r,t){var n;e&&((n=[]).push(s(e,"open",i)()),n.push(s(e,"setRequestHeader",S)()),n.push(s(e,"send",q)(r)),t(function(){n.forEach(function(r){return r()})}))}}function b(r,t){return!r||!t||(k.test(r)||U.test(t))}function R(r,t,c){var n=v(t,2),t=n[0],a=n[1],s=c.setTraceHeader,f=c.ignoreUrls,l=c.setContextAtReq,p=c.extractUrl;r.push(t[0](function(r){var t=v(r,4);t[0];r=t[1];t[2];var n=t[3];if(!r)return h;var e=w(r);if(d(f,e))return h;s&&s(e,function(r,t){return n.setRequestHeader(r,t)});var o=l(),u=void 0,i=a()[0](function(r){e!==r.name||u||(u=r)});return function(r){var t=M(r,c);setTimeout(function(){u&&(t.response.timing=u),G(t,p),o&&o({ev_type:T,payload:t}),i()},100)}}))}var E=function(r){var t=r.config(),t={pid:t.pid,view_id:t.viewId,url:u()};return t.context=r.context?r.context.toString():{},t},A=function(r,t){return n(r)?c(c({},t),r):!!r&&t},i=function(e){return function(){for(var r,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r=v(t,2),this._method=r[0],this._url=r[1],e.apply(this,t)}},S=function(o){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this._reqHeaders=this._reqHeaders||{};var n=v(r,2),e=n[0],n=n[1];return this._reqHeaders[e]=n,o&&o.apply(this,r)}},q=function(u,i){var t,c=(t=new RegExp("\\/monitor_web\\/collect|\\/monitor_browser\\/collect\\/batch","i"),function(r){return t.test(r)});return function(){for(var r,e,o,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._start=_(),this._data=null==t?void 0:t[0],c(this._url)||(r=i([this._method,this._url,this._start,this]),o=r,s(e=this,"onreadystatechange",function(n){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return 4===this.readyState&&o(e),n&&n.apply(this,r)}})()),u.apply(this,t)}},O=["resource"],j=function(t,o,n){var e=t&&new t(function(r,e){r.getEntries?r.getEntries().forEach(function(r,t,n){return o(r,t,n,e)}):n&&n()});return[function(r){if(!t||!e)return n&&n();try{e.observe({entryTypes:r})}catch(r){return n&&n()}},function(r){if(!t||!e)return n&&n();try{e.observe({type:r,buffered:!0})}catch(r){return n&&n()}e.observe({type:r,buffered:!1})},function(){return e&&e.disconnect()}]},H=["resource_0",function(r,t){var n=function(){if(o()&&a(window.PerformanceObserver))return window.PerformanceObserver}();n&&t(function(r,t,n){r=v(j(r,t),3),t=r[0],r=r[2];return t(n),r}(n,r,O))}],T="http",D="03",L="01",C="traceparent",I={sampleRate:1,origins:[]},N=function(){var r=window&&(window.crypto||window.msCrypto);if(void 0!==r&&r.getRandomValues){var t=new Uint16Array(8);r.getRandomValues(t);r=function(r){for(var t=r.toString(16);t.length<4;)t="0"+t;return t};return r(t[0])+r(t[1])+r(t[2])+r(t[3])+r(t[4])+r(t[5])+r(t[6])+r(t[7])}return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)})},k=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|password)","i"),U=new RegExp("(bearer|session)","i"),G=function(r,t){try{var n;t&&(n=r.request.url,r.request.url=t(n),r.extra=c(c({},r.extra),{original_url:n}))}catch(r){}};var M=function(r,t){var n,e=r._method,o=r._reqHeaders,u=r._url,i=r._start,c=r._data,o={api:"xhr",request:{url:w(u),method:(e||"").toLowerCase(),headers:o&&(n=o,Object.keys(n).reduce(function(r,t){return b(t,n[t])||(r[t.toLowerCase()]=n[t]),r},{})),timestamp:i},response:{status:r.status||0,is_custom_error:!1,timestamp:_()},duration:_()-i};"function"==typeof r.getAllResponseHeaders&&(o.response.headers=f(a=r.getAllResponseHeaders())&&a?a.split("\r\n").reduce(function(r,t){var n;return f(t)&&(t=(n=v(t.split(": "),2))[0],n=n[1],b(t,n)||(r[t.toLowerCase()]=n)),r},{}):{});var i=o.response.status,a=t.collectBodyOnError,t=t.extraExtractor;try{var s=null==t?void 0:t(r.response,o,c);s&&(o.extra=s),s&&(o.response.is_custom_error=!0),a&&(s||400<=i)&&(o.request.body=c?""+c:void 0,o.response.body=r.response?""+r.response:void 0)}catch(r){}return o};var P="ajax",V={autoWrap:!0,setContextAtReq:function(){return r},ignoreUrls:[],collectBodyOnError:!1};var X,Y,B,W,$="1.12.3";X=P,Y=function(i){i.on("init",function(){var r,t,n,e,o,u,n=(t=P,n=V,t=null===(r=(r=i).config())||void 0===r?void 0:r.plugins[t],A(t,n));n&&(e=[],o=c(c({},n),{setContextAtReq:function(){return function(t,r){void 0===r&&(r=!1);var n=E(t);return r&&(n.timestamp=_()),function(r){t.report(c(c({},r),{overrides:n}))}}(i,!0)},setTraceHeader:function(r){var e=A(r,I);if(e&&y(e.sampleRate))return function(r,t){var n=e.origins;n.length&&d(n,r)&&t(C,D+"-"+N()+"-"+N().substring(16)+"-"+L)}}(n.trace)}),u=function(){return g(i,H)},o.autoWrap&&R(e,[g(i,["xhr_0",m(XMLHttpRequest&&XMLHttpRequest.prototype)]),u],o),i.destroyAgent.set(P,T,e),i.provide("wrapXhr",function(t){function n(){var r=new t;return R(e,[function(r,t,n){n=x(n);try{r(n.next,n.attach),t&&n.complete(t)}catch(r){}return[n.subscribe,n.unsubscribe]}(m(r)),u],o),r}return n.prototype=new t,["DONE","HEADERS_RECIEVED","LOADING","OPENED","UNSENT"].forEach(function(r){n[r]=t[r]}),n}))})},(B=void 0===B?function(r){if(r)return r.__SLARDAR_REGISTRY__||(r.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),r.__SLARDAR_REGISTRY__.Slardar}(o()):B)&&B.plugins&&(W=X,B.plugins.filter(function(r){return r.name===W&&r.version===$})[0]||B.plugins.push({name:X,version:$,apply:Y}))}();
